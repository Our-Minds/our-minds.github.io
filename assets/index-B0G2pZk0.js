var pC=Object.defineProperty;var Lv=e=>{throw TypeError(e)};var gC=(e,t,n)=>t in e?pC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Q=(e,t,n)=>gC(e,typeof t!="symbol"?t+"":t,n),jf=(e,t,n)=>t.has(e)||Lv("Cannot "+n);var E=(e,t,n)=>(jf(e,t,"read from private field"),n?n.call(e):t.get(e)),ce=(e,t,n)=>t.has(e)?Lv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),G=(e,t,n,r)=>(jf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),je=(e,t,n)=>(jf(e,t,"access private method"),n);var kc=(e,t,n,r)=>({set _(s){G(e,t,s,n)},get _(){return E(e,t,r)}});function Lx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var $x={exports:{}},xd={},Ux={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),yC=Symbol.for("react.portal"),xC=Symbol.for("react.fragment"),wC=Symbol.for("react.strict_mode"),bC=Symbol.for("react.profiler"),_C=Symbol.for("react.provider"),jC=Symbol.for("react.context"),SC=Symbol.for("react.forward_ref"),NC=Symbol.for("react.suspense"),CC=Symbol.for("react.memo"),kC=Symbol.for("react.lazy"),Fv=Symbol.iterator;function EC(e){return e===null||typeof e!="object"?null:(e=Fv&&e[Fv]||e["@@iterator"],typeof e=="function"?e:null)}var zx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bx=Object.assign,Wx={};function xo(e,t,n){this.props=e,this.context=t,this.refs=Wx,this.updater=n||zx}xo.prototype.isReactComponent={};xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hx(){}Hx.prototype=xo.prototype;function gp(e,t,n){this.props=e,this.context=t,this.refs=Wx,this.updater=n||zx}var vp=gp.prototype=new Hx;vp.constructor=gp;Bx(vp,xo.prototype);vp.isPureReactComponent=!0;var $v=Array.isArray,qx=Object.prototype.hasOwnProperty,yp={current:null},Vx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)qx.call(t,r)&&!Vx.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:sc,type:e,key:a,ref:i,props:s,_owner:yp.current}}function PC(e,t){return{$$typeof:sc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xp(e){return typeof e=="object"&&e!==null&&e.$$typeof===sc}function TC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uv=/\/+/g;function Sf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TC(""+e.key):t.toString(36)}function ou(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case sc:case yC:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Sf(i,0):r,$v(s)?(n="",e!=null&&(n=e.replace(Uv,"$&/")+"/"),ou(s,t,n,"",function(u){return u})):s!=null&&(xp(s)&&(s=PC(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Uv,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",$v(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Sf(a,l);i+=ou(a,t,n,c,s)}else if(c=EC(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Sf(a,l++),i+=ou(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ec(e,t,n){if(e==null)return e;var r=[],s=0;return ou(e,r,"","",function(a){return t.call(n,a,s++)}),r}function MC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cn={current:null},lu={transition:null},RC={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:lu,ReactCurrentOwner:yp};function Kx(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Ec,forEach:function(e,t,n){Ec(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ec(e,function(){t++}),t},toArray:function(e){return Ec(e,function(t){return t})||[]},only:function(e){if(!xp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=xo;Ee.Fragment=xC;Ee.Profiler=bC;Ee.PureComponent=gp;Ee.StrictMode=wC;Ee.Suspense=NC;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RC;Ee.act=Kx;Ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Bx({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=yp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)qx.call(t,c)&&!Vx.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:sc,type:e.type,key:s,ref:a,props:r,_owner:i}};Ee.createContext=function(e){return e={$$typeof:jC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_C,_context:e},e.Consumer=e};Ee.createElement=Yx;Ee.createFactory=function(e){var t=Yx.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:SC,render:e}};Ee.isValidElement=xp;Ee.lazy=function(e){return{$$typeof:kC,_payload:{_status:-1,_result:e},_init:MC}};Ee.memo=function(e,t){return{$$typeof:CC,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=lu.transition;lu.transition={};try{e()}finally{lu.transition=t}};Ee.unstable_act=Kx;Ee.useCallback=function(e,t){return cn.current.useCallback(e,t)};Ee.useContext=function(e){return cn.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return cn.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return cn.current.useEffect(e,t)};Ee.useId=function(){return cn.current.useId()};Ee.useImperativeHandle=function(e,t,n){return cn.current.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return cn.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return cn.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return cn.current.useMemo(e,t)};Ee.useReducer=function(e,t,n){return cn.current.useReducer(e,t,n)};Ee.useRef=function(e){return cn.current.useRef(e)};Ee.useState=function(e){return cn.current.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return cn.current.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return cn.current.useTransition()};Ee.version="18.3.1";Ux.exports=Ee;var m=Ux.exports;const V=Fx(m),Gx=Lx({__proto__:null,default:V},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC=m,OC=Symbol.for("react.element"),AC=Symbol.for("react.fragment"),IC=Object.prototype.hasOwnProperty,LC=DC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FC={key:!0,ref:!0,__self:!0,__source:!0};function Qx(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)IC.call(t,r)&&!FC.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:OC,type:e,key:a,ref:i,props:s,_owner:LC.current}}xd.Fragment=AC;xd.jsx=Qx;xd.jsxs=Qx;$x.exports=xd;var o=$x.exports,Xx={exports:{}},$n={},Jx={exports:{}},Zx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,O){var U=C.length;C.push(O);e:for(;0<U;){var $=U-1>>>1,Y=C[$];if(0<s(Y,O))C[$]=O,C[U]=Y,U=$;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var O=C[0],U=C.pop();if(U!==O){C[0]=U;e:for(var $=0,Y=C.length,fe=Y>>>1;$<fe;){var ye=2*($+1)-1,Ve=C[ye],ue=ye+1,Z=C[ue];if(0>s(Ve,U))ue<Y&&0>s(Z,Ve)?(C[$]=Z,C[ue]=U,$=ue):(C[$]=Ve,C[ye]=U,$=ye);else if(ue<Y&&0>s(Z,U))C[$]=Z,C[ue]=U,$=ue;else break e}}return O}function s(C,O){var U=C.sortIndex-O.sortIndex;return U!==0?U:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=C)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function _(C){if(g=!1,w(C),!y)if(n(c)!==null)y=!0,q(S);else{var O=n(u);O!==null&&A(_,O.startTime-C)}}function S(C,O){y=!1,g&&(g=!1,x(N),N=-1),p=!0;var U=f;try{for(w(O),h=n(c);h!==null&&(!(h.expirationTime>O)||C&&!L());){var $=h.callback;if(typeof $=="function"){h.callback=null,f=h.priorityLevel;var Y=$(h.expirationTime<=O);O=e.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&r(c),w(O)}else r(c);h=n(c)}if(h!==null)var fe=!0;else{var ye=n(u);ye!==null&&A(_,ye.startTime-O),fe=!1}return fe}finally{h=null,f=U,p=!1}}var j=!1,k=null,N=-1,T=5,R=-1;function L(){return!(e.unstable_now()-R<T)}function D(){if(k!==null){var C=e.unstable_now();R=C;var O=!0;try{O=k(!0,C)}finally{O?F():(j=!1,k=null)}}else j=!1}var F;if(typeof v=="function")F=function(){v(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,K=H.port2;H.port1.onmessage=D,F=function(){K.postMessage(null)}}else F=function(){b(D,0)};function q(C){k=C,j||(j=!0,F())}function A(C,O){N=b(function(){C(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,q(S))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var U=f;f=O;try{return C()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var U=f;f=C;try{return O()}finally{f=U}},e.unstable_scheduleCallback=function(C,O,U){var $=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?$+U:$):U=$,C){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,C={id:d++,callback:O,priorityLevel:C,startTime:U,expirationTime:Y,sortIndex:-1},U>$?(C.sortIndex=U,t(u,C),n(c)===null&&C===n(u)&&(g?(x(N),N=-1):g=!0,A(_,U-$))):(C.sortIndex=Y,t(c,C),y||p||(y=!0,q(S))),C},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(C){var O=f;return function(){var U=f;f=O;try{return C.apply(this,arguments)}finally{f=U}}}})(Zx);Jx.exports=Zx;var $C=Jx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=m,In=$C;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ew=new Set,Pl={};function ti(e,t){so(e,t),so(e+"Capture",t)}function so(e,t){for(Pl[e]=t,e=0;e<t.length;e++)ew.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ph=Object.prototype.hasOwnProperty,zC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zv={},Bv={};function BC(e){return Ph.call(Bv,e)?!0:Ph.call(zv,e)?!1:zC.test(e)?Bv[e]=!0:(zv[e]=!0,!1)}function WC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HC(e,t,n,r){if(t===null||typeof t>"u"||WC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var wp=/[\-:]([a-z])/g;function bp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wp,bp);Ht[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wp,bp);Ht[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wp,bp);Ht[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function _p(e,t,n,r){var s=Ht.hasOwnProperty(t)?Ht[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HC(t,n,s,r)&&(n=null),r||s===null?BC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cs=UC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pc=Symbol.for("react.element"),_i=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),jp=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),tw=Symbol.for("react.provider"),nw=Symbol.for("react.context"),Sp=Symbol.for("react.forward_ref"),Mh=Symbol.for("react.suspense"),Rh=Symbol.for("react.suspense_list"),Np=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),rw=Symbol.for("react.offscreen"),Wv=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=Wv&&e[Wv]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,Nf;function ol(e){if(Nf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Nf=t&&t[1]||""}return`
`+Nf+e}var Cf=!1;function kf(e,t){if(!e||Cf)return"";Cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Cf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ol(e):""}function qC(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=kf(e.type,!1),e;case 11:return e=kf(e.type.render,!1),e;case 1:return e=kf(e.type,!0),e;default:return""}}function Dh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ji:return"Fragment";case _i:return"Portal";case Th:return"Profiler";case jp:return"StrictMode";case Mh:return"Suspense";case Rh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nw:return(e.displayName||"Context")+".Consumer";case tw:return(e._context.displayName||"Context")+".Provider";case Sp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Np:return t=e.displayName||null,t!==null?t:Dh(e.type)||"Memo";case _s:t=e._payload,e=e._init;try{return Dh(e(t))}catch{}}return null}function VC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dh(t);case 8:return t===jp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YC(e){var t=sw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tc(e){e._valueTracker||(e._valueTracker=YC(e))}function aw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oh(e,t){var n=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iw(e,t){t=t.checked,t!=null&&_p(e,"checked",t,!1)}function Ah(e,t){iw(e,t);var n=Qs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ih(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ih(e,t.type,Qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ih(e,t,n){(t!=="number"||Tu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ll=Array.isArray;function Oi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Lh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(ll(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qs(n)}}function ow(e,t){var n=Qs(t.value),r=Qs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mc,cw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mc=Mc||document.createElement("div"),Mc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KC=["Webkit","ms","Moz","O"];Object.keys(gl).forEach(function(e){KC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gl[t]=gl[e]})});function uw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gl.hasOwnProperty(e)&&gl[e]?(""+t).trim():t+"px"}function dw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var GC=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $h(e,t){if(t){if(GC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Uh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=null;function Cp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bh=null,Ai=null,Ii=null;function Kv(e){if(e=oc(e)){if(typeof Bh!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Sd(t),Bh(e.stateNode,e.type,t))}}function fw(e){Ai?Ii?Ii.push(e):Ii=[e]:Ai=e}function hw(){if(Ai){var e=Ai,t=Ii;if(Ii=Ai=null,Kv(e),t)for(e=0;e<t.length;e++)Kv(t[e])}}function mw(e,t){return e(t)}function pw(){}var Ef=!1;function gw(e,t,n){if(Ef)return e(t,n);Ef=!0;try{return mw(e,t,n)}finally{Ef=!1,(Ai!==null||Ii!==null)&&(pw(),hw())}}function Ml(e,t){var n=e.stateNode;if(n===null)return null;var r=Sd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Wh=!1;if(ns)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{Wh=!1}function QC(e,t,n,r,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var vl=!1,Mu=null,Ru=!1,Hh=null,XC={onError:function(e){vl=!0,Mu=e}};function JC(e,t,n,r,s,a,i,l,c){vl=!1,Mu=null,QC.apply(XC,arguments)}function ZC(e,t,n,r,s,a,i,l,c){if(JC.apply(this,arguments),vl){if(vl){var u=Mu;vl=!1,Mu=null}else throw Error(W(198));Ru||(Ru=!0,Hh=u)}}function ni(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gv(e){if(ni(e)!==e)throw Error(W(188))}function ek(e){var t=e.alternate;if(!t){if(t=ni(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Gv(s),e;if(a===r)return Gv(s),t;a=a.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function yw(e){return e=ek(e),e!==null?xw(e):null}function xw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xw(e);if(t!==null)return t;e=e.sibling}return null}var ww=In.unstable_scheduleCallback,Qv=In.unstable_cancelCallback,tk=In.unstable_shouldYield,nk=In.unstable_requestPaint,bt=In.unstable_now,rk=In.unstable_getCurrentPriorityLevel,kp=In.unstable_ImmediatePriority,bw=In.unstable_UserBlockingPriority,Du=In.unstable_NormalPriority,sk=In.unstable_LowPriority,_w=In.unstable_IdlePriority,wd=null,Or=null;function ak(e){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(wd,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:lk,ik=Math.log,ok=Math.LN2;function lk(e){return e>>>=0,e===0?32:31-(ik(e)/ok|0)|0}var Rc=64,Dc=4194304;function cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ou(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=cl(l):(a&=i,a!==0&&(r=cl(a)))}else i=n&~s,i!==0?r=cl(i):a!==0&&(r=cl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dr(t),s=1<<n,r|=e[n],t&=~s;return r}function ck(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-dr(a),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=ck(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function qh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jw(){var e=Rc;return Rc<<=1,!(Rc&4194240)&&(Rc=64),e}function Pf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ac(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dr(t),e[t]=n}function dk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-dr(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Ep(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ge=0;function Sw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Nw,Pp,Cw,kw,Ew,Vh=!1,Oc=[],Us=null,zs=null,Bs=null,Rl=new Map,Dl=new Map,Ns=[],fk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xv(e,t){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(t.pointerId)}}function qo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=oc(t),t!==null&&Pp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hk(e,t,n,r,s){switch(t){case"focusin":return Us=qo(Us,e,t,n,r,s),!0;case"dragenter":return zs=qo(zs,e,t,n,r,s),!0;case"mouseover":return Bs=qo(Bs,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Rl.set(a,qo(Rl.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Dl.set(a,qo(Dl.get(a)||null,e,t,n,r,s)),!0}return!1}function Pw(e){var t=Pa(e.target);if(t!==null){var n=ni(t);if(n!==null){if(t=n.tag,t===13){if(t=vw(n),t!==null){e.blockedOn=t,Ew(e.priority,function(){Cw(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zh=r,n.target.dispatchEvent(r),zh=null}else return t=oc(n),t!==null&&Pp(t),e.blockedOn=n,!1;t.shift()}return!0}function Jv(e,t,n){cu(e)&&n.delete(t)}function mk(){Vh=!1,Us!==null&&cu(Us)&&(Us=null),zs!==null&&cu(zs)&&(zs=null),Bs!==null&&cu(Bs)&&(Bs=null),Rl.forEach(Jv),Dl.forEach(Jv)}function Vo(e,t){e.blockedOn===t&&(e.blockedOn=null,Vh||(Vh=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,mk)))}function Ol(e){function t(s){return Vo(s,e)}if(0<Oc.length){Vo(Oc[0],e);for(var n=1;n<Oc.length;n++){var r=Oc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Us!==null&&Vo(Us,e),zs!==null&&Vo(zs,e),Bs!==null&&Vo(Bs,e),Rl.forEach(t),Dl.forEach(t),n=0;n<Ns.length;n++)r=Ns[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ns.length&&(n=Ns[0],n.blockedOn===null);)Pw(n),n.blockedOn===null&&Ns.shift()}var Li=cs.ReactCurrentBatchConfig,Au=!0;function pk(e,t,n,r){var s=Ge,a=Li.transition;Li.transition=null;try{Ge=1,Tp(e,t,n,r)}finally{Ge=s,Li.transition=a}}function gk(e,t,n,r){var s=Ge,a=Li.transition;Li.transition=null;try{Ge=4,Tp(e,t,n,r)}finally{Ge=s,Li.transition=a}}function Tp(e,t,n,r){if(Au){var s=Yh(e,t,n,r);if(s===null)$f(e,t,r,Iu,n),Xv(e,r);else if(hk(s,e,t,n,r))r.stopPropagation();else if(Xv(e,r),t&4&&-1<fk.indexOf(e)){for(;s!==null;){var a=oc(s);if(a!==null&&Nw(a),a=Yh(e,t,n,r),a===null&&$f(e,t,r,Iu,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else $f(e,t,r,null,n)}}var Iu=null;function Yh(e,t,n,r){if(Iu=null,e=Cp(r),e=Pa(e),e!==null)if(t=ni(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Iu=e,null}function Tw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rk()){case kp:return 1;case bw:return 4;case Du:case sk:return 16;case _w:return 536870912;default:return 16}default:return 16}}var Ls=null,Mp=null,uu=null;function Mw(){if(uu)return uu;var e,t=Mp,n=t.length,r,s="value"in Ls?Ls.value:Ls.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return uu=s.slice(e,1<r?1-r:void 0)}function du(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ac(){return!0}function Zv(){return!1}function Un(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ac:Zv,this.isPropagationStopped=Zv,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),t}var wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=Un(wo),ic=pt({},wo,{view:0,detail:0}),vk=Un(ic),Tf,Mf,Yo,bd=pt({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(Tf=e.screenX-Yo.screenX,Mf=e.screenY-Yo.screenY):Mf=Tf=0,Yo=e),Tf)},movementY:function(e){return"movementY"in e?e.movementY:Mf}}),ey=Un(bd),yk=pt({},bd,{dataTransfer:0}),xk=Un(yk),wk=pt({},ic,{relatedTarget:0}),Rf=Un(wk),bk=pt({},wo,{animationName:0,elapsedTime:0,pseudoElement:0}),_k=Un(bk),jk=pt({},wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sk=Un(jk),Nk=pt({},wo,{data:0}),ty=Un(Nk),Ck={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ek={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ek[e])?!!t[e]:!1}function Dp(){return Pk}var Tk=pt({},ic,{key:function(e){if(e.key){var t=Ck[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=du(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(e){return e.type==="keypress"?du(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?du(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mk=Un(Tk),Rk=pt({},bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ny=Un(Rk),Dk=pt({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),Ok=Un(Dk),Ak=pt({},wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ik=Un(Ak),Lk=pt({},bd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fk=Un(Lk),$k=[9,13,27,32],Op=ns&&"CompositionEvent"in window,yl=null;ns&&"documentMode"in document&&(yl=document.documentMode);var Uk=ns&&"TextEvent"in window&&!yl,Rw=ns&&(!Op||yl&&8<yl&&11>=yl),ry=" ",sy=!1;function Dw(e,t){switch(e){case"keyup":return $k.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ow(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function zk(e,t){switch(e){case"compositionend":return Ow(t);case"keypress":return t.which!==32?null:(sy=!0,ry);case"textInput":return e=t.data,e===ry&&sy?null:e;default:return null}}function Bk(e,t){if(Si)return e==="compositionend"||!Op&&Dw(e,t)?(e=Mw(),uu=Mp=Ls=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rw&&t.locale!=="ko"?null:t.data;default:return null}}var Wk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ay(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wk[e.type]:t==="textarea"}function Aw(e,t,n,r){fw(r),t=Lu(t,"onChange"),0<t.length&&(n=new Rp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xl=null,Al=null;function Hk(e){Vw(e,0)}function _d(e){var t=ki(e);if(aw(t))return e}function qk(e,t){if(e==="change")return t}var Iw=!1;if(ns){var Df;if(ns){var Of="oninput"in document;if(!Of){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Of=typeof iy.oninput=="function"}Df=Of}else Df=!1;Iw=Df&&(!document.documentMode||9<document.documentMode)}function oy(){xl&&(xl.detachEvent("onpropertychange",Lw),Al=xl=null)}function Lw(e){if(e.propertyName==="value"&&_d(Al)){var t=[];Aw(t,Al,e,Cp(e)),gw(Hk,t)}}function Vk(e,t,n){e==="focusin"?(oy(),xl=t,Al=n,xl.attachEvent("onpropertychange",Lw)):e==="focusout"&&oy()}function Yk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _d(Al)}function Kk(e,t){if(e==="click")return _d(t)}function Gk(e,t){if(e==="input"||e==="change")return _d(t)}function Qk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:Qk;function Il(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ph.call(t,s)||!hr(e[s],t[s]))return!1}return!0}function ly(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cy(e,t){var n=ly(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ly(n)}}function Fw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $w(){for(var e=window,t=Tu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tu(e.document)}return t}function Ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xk(e){var t=$w(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fw(n.ownerDocument.documentElement,n)){if(r!==null&&Ap(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=cy(n,a);var i=cy(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jk=ns&&"documentMode"in document&&11>=document.documentMode,Ni=null,Kh=null,wl=null,Gh=!1;function uy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gh||Ni==null||Ni!==Tu(r)||(r=Ni,"selectionStart"in r&&Ap(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Il(wl,r)||(wl=r,r=Lu(Kh,"onSelect"),0<r.length&&(t=new Rp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ni)))}function Ic(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ci={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},Af={},Uw={};ns&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function jd(e){if(Af[e])return Af[e];if(!Ci[e])return e;var t=Ci[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uw)return Af[e]=t[n];return e}var zw=jd("animationend"),Bw=jd("animationiteration"),Ww=jd("animationstart"),Hw=jd("transitionend"),qw=new Map,dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(e,t){qw.set(e,t),ti(t,[e])}for(var If=0;If<dy.length;If++){var Lf=dy[If],Zk=Lf.toLowerCase(),eE=Lf[0].toUpperCase()+Lf.slice(1);aa(Zk,"on"+eE)}aa(zw,"onAnimationEnd");aa(Bw,"onAnimationIteration");aa(Ww,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(Hw,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function fy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZC(r,t,void 0,e),e.currentTarget=null}function Vw(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;fy(s,l,u),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;fy(s,l,u),a=c}}}if(Ru)throw e=Hh,Ru=!1,Hh=null,e}function ot(e,t){var n=t[em];n===void 0&&(n=t[em]=new Set);var r=e+"__bubble";n.has(r)||(Yw(t,e,2,!1),n.add(r))}function Ff(e,t,n){var r=0;t&&(r|=4),Yw(n,e,r,t)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[Lc]){e[Lc]=!0,ew.forEach(function(n){n!=="selectionchange"&&(tE.has(n)||Ff(n,!1,e),Ff(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lc]||(t[Lc]=!0,Ff("selectionchange",!1,t))}}function Yw(e,t,n,r){switch(Tw(t)){case 1:var s=pk;break;case 4:s=gk;break;default:s=Tp}n=s.bind(null,t,n,e),s=void 0,!Wh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $f(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Pa(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}gw(function(){var u=a,d=Cp(n),h=[];e:{var f=qw.get(e);if(f!==void 0){var p=Rp,y=e;switch(e){case"keypress":if(du(n)===0)break e;case"keydown":case"keyup":p=Mk;break;case"focusin":y="focus",p=Rf;break;case"focusout":y="blur",p=Rf;break;case"beforeblur":case"afterblur":p=Rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ok;break;case zw:case Bw:case Ww:p=_k;break;case Hw:p=Ik;break;case"scroll":p=vk;break;case"wheel":p=Fk;break;case"copy":case"cut":case"paste":p=Sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ny}var g=(t&4)!==0,b=!g&&e==="scroll",x=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,w;v!==null;){w=v;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=Ml(v,x),_!=null&&g.push(Fl(v,_,w)))),b)break;v=v.return}0<g.length&&(f=new p(f,y,null,n,d),h.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==zh&&(y=n.relatedTarget||n.fromElement)&&(Pa(y)||y[rs]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Pa(y):null,y!==null&&(b=ni(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=ey,_="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=ny,_="onPointerLeave",x="onPointerEnter",v="pointer"),b=p==null?f:ki(p),w=y==null?f:ki(y),f=new g(_,v+"leave",p,n,d),f.target=b,f.relatedTarget=w,_=null,Pa(d)===u&&(g=new g(x,v+"enter",y,n,d),g.target=w,g.relatedTarget=b,_=g),b=_,p&&y)t:{for(g=p,x=y,v=0,w=g;w;w=fi(w))v++;for(w=0,_=x;_;_=fi(_))w++;for(;0<v-w;)g=fi(g),v--;for(;0<w-v;)x=fi(x),w--;for(;v--;){if(g===x||x!==null&&g===x.alternate)break t;g=fi(g),x=fi(x)}g=null}else g=null;p!==null&&hy(h,f,p,g,!1),y!==null&&b!==null&&hy(h,b,y,g,!0)}}e:{if(f=u?ki(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=qk;else if(ay(f))if(Iw)S=Gk;else{S=Yk;var j=Vk}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Kk);if(S&&(S=S(e,u))){Aw(h,S,n,d);break e}j&&j(e,f,u),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Ih(f,"number",f.value)}switch(j=u?ki(u):window,e){case"focusin":(ay(j)||j.contentEditable==="true")&&(Ni=j,Kh=u,wl=null);break;case"focusout":wl=Kh=Ni=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,uy(h,n,d);break;case"selectionchange":if(Jk)break;case"keydown":case"keyup":uy(h,n,d)}var k;if(Op)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Si?Dw(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Rw&&n.locale!=="ko"&&(Si||N!=="onCompositionStart"?N==="onCompositionEnd"&&Si&&(k=Mw()):(Ls=d,Mp="value"in Ls?Ls.value:Ls.textContent,Si=!0)),j=Lu(u,N),0<j.length&&(N=new ty(N,e,null,n,d),h.push({event:N,listeners:j}),k?N.data=k:(k=Ow(n),k!==null&&(N.data=k)))),(k=Uk?zk(e,n):Bk(e,n))&&(u=Lu(u,"onBeforeInput"),0<u.length&&(d=new ty("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}Vw(h,t)})}function Fl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ml(e,n),a!=null&&r.unshift(Fl(e,a,s)),a=Ml(e,t),a!=null&&r.push(Fl(e,a,s))),e=e.return}return r}function fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hy(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Ml(n,a),c!=null&&i.unshift(Fl(n,c,l))):s||(c=Ml(n,a),c!=null&&i.push(Fl(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var nE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function my(e){return(typeof e=="string"?e:""+e).replace(nE,`
`).replace(rE,"")}function Fc(e,t,n){if(t=my(t),my(e)!==t&&n)throw Error(W(425))}function Fu(){}var Qh=null,Xh=null;function Jh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zh=typeof setTimeout=="function"?setTimeout:void 0,sE=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(e){return py.resolve(null).then(e).catch(iE)}:Zh;function iE(e){setTimeout(function(){throw e})}function Uf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ol(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ol(t)}function Ws(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Pr="__reactFiber$"+bo,$l="__reactProps$"+bo,rs="__reactContainer$"+bo,em="__reactEvents$"+bo,oE="__reactListeners$"+bo,lE="__reactHandles$"+bo;function Pa(e){var t=e[Pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rs]||n[Pr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gy(e);e!==null;){if(n=e[Pr])return n;e=gy(e)}return t}e=n,n=e.parentNode}return null}function oc(e){return e=e[Pr]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Sd(e){return e[$l]||null}var tm=[],Ei=-1;function ia(e){return{current:e}}function lt(e){0>Ei||(e.current=tm[Ei],tm[Ei]=null,Ei--)}function rt(e,t){Ei++,tm[Ei]=e.current,e.current=t}var Xs={},en=ia(Xs),_n=ia(!1),Ha=Xs;function ao(e,t){var n=e.type.contextTypes;if(!n)return Xs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function jn(e){return e=e.childContextTypes,e!=null}function $u(){lt(_n),lt(en)}function vy(e,t,n){if(en.current!==Xs)throw Error(W(168));rt(en,t),rt(_n,n)}function Kw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(W(108,VC(e)||"Unknown",s));return pt({},n,r)}function Uu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xs,Ha=en.current,rt(en,e),rt(_n,_n.current),!0}function yy(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=Kw(e,t,Ha),r.__reactInternalMemoizedMergedChildContext=e,lt(_n),lt(en),rt(en,e)):lt(_n),rt(_n,n)}var Kr=null,Nd=!1,zf=!1;function Gw(e){Kr===null?Kr=[e]:Kr.push(e)}function cE(e){Nd=!0,Gw(e)}function oa(){if(!zf&&Kr!==null){zf=!0;var e=0,t=Ge;try{var n=Kr;for(Ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kr=null,Nd=!1}catch(s){throw Kr!==null&&(Kr=Kr.slice(e+1)),ww(kp,oa),s}finally{Ge=t,zf=!1}}return null}var Pi=[],Ti=0,zu=null,Bu=0,Vn=[],Yn=0,qa=null,Qr=1,Xr="";function ba(e,t){Pi[Ti++]=Bu,Pi[Ti++]=zu,zu=e,Bu=t}function Qw(e,t,n){Vn[Yn++]=Qr,Vn[Yn++]=Xr,Vn[Yn++]=qa,qa=e;var r=Qr;e=Xr;var s=32-dr(r)-1;r&=~(1<<s),n+=1;var a=32-dr(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Qr=1<<32-dr(t)+s|n<<s|r,Xr=a+e}else Qr=1<<a|n<<s|r,Xr=e}function Ip(e){e.return!==null&&(ba(e,1),Qw(e,1,0))}function Lp(e){for(;e===zu;)zu=Pi[--Ti],Pi[Ti]=null,Bu=Pi[--Ti],Pi[Ti]=null;for(;e===qa;)qa=Vn[--Yn],Vn[Yn]=null,Xr=Vn[--Yn],Vn[Yn]=null,Qr=Vn[--Yn],Vn[Yn]=null}var On=null,Dn=null,ut=!1,cr=null;function Xw(e,t){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,On=e,Dn=Ws(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,On=e,Dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=qa!==null?{id:Qr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,On=e,Dn=null,!0):!1;default:return!1}}function nm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rm(e){if(ut){var t=Dn;if(t){var n=t;if(!xy(e,t)){if(nm(e))throw Error(W(418));t=Ws(n.nextSibling);var r=On;t&&xy(e,t)?Xw(r,n):(e.flags=e.flags&-4097|2,ut=!1,On=e)}}else{if(nm(e))throw Error(W(418));e.flags=e.flags&-4097|2,ut=!1,On=e}}}function wy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;On=e}function $c(e){if(e!==On)return!1;if(!ut)return wy(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jh(e.type,e.memoizedProps)),t&&(t=Dn)){if(nm(e))throw Jw(),Error(W(418));for(;t;)Xw(e,t),t=Ws(t.nextSibling)}if(wy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Dn=Ws(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Dn=null}}else Dn=On?Ws(e.stateNode.nextSibling):null;return!0}function Jw(){for(var e=Dn;e;)e=Ws(e.nextSibling)}function io(){Dn=On=null,ut=!1}function Fp(e){cr===null?cr=[e]:cr.push(e)}var uE=cs.ReactCurrentBatchConfig;function Ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Uc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function by(e){var t=e._init;return t(e._payload)}function Zw(e){function t(x,v){if(e){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=Ys(x,v),x.index=0,x.sibling=null,x}function a(x,v,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,v,w,_){return v===null||v.tag!==6?(v=Kf(w,x.mode,_),v.return=x,v):(v=s(v,w),v.return=x,v)}function c(x,v,w,_){var S=w.type;return S===ji?d(x,v,w.props.children,_,w.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_s&&by(S)===v.type)?(_=s(v,w.props),_.ref=Ko(x,v,w),_.return=x,_):(_=yu(w.type,w.key,w.props,null,x.mode,_),_.ref=Ko(x,v,w),_.return=x,_)}function u(x,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Gf(w,x.mode,_),v.return=x,v):(v=s(v,w.children||[]),v.return=x,v)}function d(x,v,w,_,S){return v===null||v.tag!==7?(v=Ba(w,x.mode,_,S),v.return=x,v):(v=s(v,w),v.return=x,v)}function h(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Kf(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pc:return w=yu(v.type,v.key,v.props,null,x.mode,w),w.ref=Ko(x,null,v),w.return=x,w;case _i:return v=Gf(v,x.mode,w),v.return=x,v;case _s:var _=v._init;return h(x,_(v._payload),w)}if(ll(v)||Wo(v))return v=Ba(v,x.mode,w,null),v.return=x,v;Uc(x,v)}return null}function f(x,v,w,_){var S=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pc:return w.key===S?c(x,v,w,_):null;case _i:return w.key===S?u(x,v,w,_):null;case _s:return S=w._init,f(x,v,S(w._payload),_)}if(ll(w)||Wo(w))return S!==null?null:d(x,v,w,_,null);Uc(x,w)}return null}function p(x,v,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,l(v,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pc:return x=x.get(_.key===null?w:_.key)||null,c(v,x,_,S);case _i:return x=x.get(_.key===null?w:_.key)||null,u(v,x,_,S);case _s:var j=_._init;return p(x,v,w,j(_._payload),S)}if(ll(_)||Wo(_))return x=x.get(w)||null,d(v,x,_,S,null);Uc(v,_)}return null}function y(x,v,w,_){for(var S=null,j=null,k=v,N=v=0,T=null;k!==null&&N<w.length;N++){k.index>N?(T=k,k=null):T=k.sibling;var R=f(x,k,w[N],_);if(R===null){k===null&&(k=T);break}e&&k&&R.alternate===null&&t(x,k),v=a(R,v,N),j===null?S=R:j.sibling=R,j=R,k=T}if(N===w.length)return n(x,k),ut&&ba(x,N),S;if(k===null){for(;N<w.length;N++)k=h(x,w[N],_),k!==null&&(v=a(k,v,N),j===null?S=k:j.sibling=k,j=k);return ut&&ba(x,N),S}for(k=r(x,k);N<w.length;N++)T=p(k,x,N,w[N],_),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?N:T.key),v=a(T,v,N),j===null?S=T:j.sibling=T,j=T);return e&&k.forEach(function(L){return t(x,L)}),ut&&ba(x,N),S}function g(x,v,w,_){var S=Wo(w);if(typeof S!="function")throw Error(W(150));if(w=S.call(w),w==null)throw Error(W(151));for(var j=S=null,k=v,N=v=0,T=null,R=w.next();k!==null&&!R.done;N++,R=w.next()){k.index>N?(T=k,k=null):T=k.sibling;var L=f(x,k,R.value,_);if(L===null){k===null&&(k=T);break}e&&k&&L.alternate===null&&t(x,k),v=a(L,v,N),j===null?S=L:j.sibling=L,j=L,k=T}if(R.done)return n(x,k),ut&&ba(x,N),S;if(k===null){for(;!R.done;N++,R=w.next())R=h(x,R.value,_),R!==null&&(v=a(R,v,N),j===null?S=R:j.sibling=R,j=R);return ut&&ba(x,N),S}for(k=r(x,k);!R.done;N++,R=w.next())R=p(k,x,N,R.value,_),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?N:R.key),v=a(R,v,N),j===null?S=R:j.sibling=R,j=R);return e&&k.forEach(function(D){return t(x,D)}),ut&&ba(x,N),S}function b(x,v,w,_){if(typeof w=="object"&&w!==null&&w.type===ji&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Pc:e:{for(var S=w.key,j=v;j!==null;){if(j.key===S){if(S=w.type,S===ji){if(j.tag===7){n(x,j.sibling),v=s(j,w.props.children),v.return=x,x=v;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_s&&by(S)===j.type){n(x,j.sibling),v=s(j,w.props),v.ref=Ko(x,j,w),v.return=x,x=v;break e}n(x,j);break}else t(x,j);j=j.sibling}w.type===ji?(v=Ba(w.props.children,x.mode,_,w.key),v.return=x,x=v):(_=yu(w.type,w.key,w.props,null,x.mode,_),_.ref=Ko(x,v,w),_.return=x,x=_)}return i(x);case _i:e:{for(j=w.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(x,v.sibling),v=s(v,w.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else t(x,v);v=v.sibling}v=Gf(w,x.mode,_),v.return=x,x=v}return i(x);case _s:return j=w._init,b(x,v,j(w._payload),_)}if(ll(w))return y(x,v,w,_);if(Wo(w))return g(x,v,w,_);Uc(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,w),v.return=x,x=v):(n(x,v),v=Kf(w,x.mode,_),v.return=x,x=v),i(x)):n(x,v)}return b}var oo=Zw(!0),eb=Zw(!1),Wu=ia(null),Hu=null,Mi=null,$p=null;function Up(){$p=Mi=Hu=null}function zp(e){var t=Wu.current;lt(Wu),e._currentValue=t}function sm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fi(e,t){Hu=e,$p=Mi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bn=!0),e.firstContext=null)}function Zn(e){var t=e._currentValue;if($p!==e)if(e={context:e,memoizedValue:t,next:null},Mi===null){if(Hu===null)throw Error(W(308));Mi=e,Hu.dependencies={lanes:0,firstContext:e}}else Mi=Mi.next=e;return t}var Ta=null;function Bp(e){Ta===null?Ta=[e]:Ta.push(e)}function tb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Bp(t)):(n.next=s.next,s.next=n),t.interleaved=n,ss(e,r)}function ss(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var js=!1;function Wp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ss(e,n)}return s=r.interleaved,s===null?(t.next=t,Bp(r)):(t.next=s.next,s.next=t),r.interleaved=t,ss(e,n)}function fu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ep(e,n)}}function _y(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qu(e,t,n,r){var s=e.updateQueue;js=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;i=0,d=u=c=null,l=a;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,g=l;switch(f=t,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=pt({},h,f);break e;case 2:js=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,i|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ya|=i,e.lanes=i,e.memoizedState=h}}function jy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var lc={},Ar=ia(lc),Ul=ia(lc),zl=ia(lc);function Ma(e){if(e===lc)throw Error(W(174));return e}function Hp(e,t){switch(rt(zl,t),rt(Ul,e),rt(Ar,lc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fh(t,e)}lt(Ar),rt(Ar,t)}function lo(){lt(Ar),lt(Ul),lt(zl)}function rb(e){Ma(zl.current);var t=Ma(Ar.current),n=Fh(t,e.type);t!==n&&(rt(Ul,e),rt(Ar,n))}function qp(e){Ul.current===e&&(lt(Ar),lt(Ul))}var ft=ia(0);function Vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bf=[];function Vp(){for(var e=0;e<Bf.length;e++)Bf[e]._workInProgressVersionPrimary=null;Bf.length=0}var hu=cs.ReactCurrentDispatcher,Wf=cs.ReactCurrentBatchConfig,Va=0,mt=null,Tt=null,It=null,Yu=!1,bl=!1,Bl=0,dE=0;function Yt(){throw Error(W(321))}function Yp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function Kp(e,t,n,r,s,a){if(Va=a,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hu.current=e===null||e.memoizedState===null?pE:gE,e=n(r,s),bl){a=0;do{if(bl=!1,Bl=0,25<=a)throw Error(W(301));a+=1,It=Tt=null,t.updateQueue=null,hu.current=vE,e=n(r,s)}while(bl)}if(hu.current=Ku,t=Tt!==null&&Tt.next!==null,Va=0,It=Tt=mt=null,Yu=!1,t)throw Error(W(300));return e}function Gp(){var e=Bl!==0;return Bl=0,e}function Sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?mt.memoizedState=It=e:It=It.next=e,It}function er(){if(Tt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Tt.next;var t=It===null?mt.memoizedState:It.next;if(t!==null)It=t,Tt=e;else{if(e===null)throw Error(W(310));Tt=e,e={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},It===null?mt.memoizedState=It=e:It=It.next=e}return It}function Wl(e,t){return typeof t=="function"?t(e):t}function Hf(e){var t=er(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=Tt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((Va&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,i=r):c=c.next=h,mt.lanes|=d,Ya|=d}u=u.next}while(u!==null&&u!==a);c===null?i=r:c.next=l,hr(r,t.memoizedState)||(bn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,mt.lanes|=a,Ya|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qf(e){var t=er(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);hr(a,t.memoizedState)||(bn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function sb(){}function ab(e,t){var n=mt,r=er(),s=t(),a=!hr(r.memoizedState,s);if(a&&(r.memoizedState=s,bn=!0),r=r.queue,Qp(lb.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Hl(9,ob.bind(null,n,r,s,t),void 0,null),Lt===null)throw Error(W(349));Va&30||ib(n,t,s)}return s}function ib(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ob(e,t,n,r){t.value=n,t.getSnapshot=r,cb(t)&&ub(e)}function lb(e,t,n){return n(function(){cb(t)&&ub(e)})}function cb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch{return!0}}function ub(e){var t=ss(e,1);t!==null&&fr(t,e,1,-1)}function Sy(e){var t=Sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:e},t.queue=e,e=e.dispatch=mE.bind(null,mt,e),[t.memoizedState,e]}function Hl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function db(){return er().memoizedState}function mu(e,t,n,r){var s=Sr();mt.flags|=e,s.memoizedState=Hl(1|t,n,void 0,r===void 0?null:r)}function Cd(e,t,n,r){var s=er();r=r===void 0?null:r;var a=void 0;if(Tt!==null){var i=Tt.memoizedState;if(a=i.destroy,r!==null&&Yp(r,i.deps)){s.memoizedState=Hl(t,n,a,r);return}}mt.flags|=e,s.memoizedState=Hl(1|t,n,a,r)}function Ny(e,t){return mu(8390656,8,e,t)}function Qp(e,t){return Cd(2048,8,e,t)}function fb(e,t){return Cd(4,2,e,t)}function hb(e,t){return Cd(4,4,e,t)}function mb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pb(e,t,n){return n=n!=null?n.concat([e]):null,Cd(4,4,mb.bind(null,t,e),n)}function Xp(){}function gb(e,t){var n=er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vb(e,t){var n=er();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function yb(e,t,n){return Va&21?(hr(n,t)||(n=jw(),mt.lanes|=n,Ya|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bn=!0),e.memoizedState=n)}function fE(e,t){var n=Ge;Ge=n!==0&&4>n?n:4,e(!0);var r=Wf.transition;Wf.transition={};try{e(!1),t()}finally{Ge=n,Wf.transition=r}}function xb(){return er().memoizedState}function hE(e,t,n){var r=Vs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wb(e))bb(t,n);else if(n=tb(e,t,n,r),n!==null){var s=ln();fr(n,e,r,s),_b(n,t,r)}}function mE(e,t,n){var r=Vs(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wb(e))bb(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,hr(l,i)){var c=t.interleaved;c===null?(s.next=s,Bp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=tb(e,t,s,r),n!==null&&(s=ln(),fr(n,e,r,s),_b(n,t,r))}}function wb(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function bb(e,t){bl=Yu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _b(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ep(e,n)}}var Ku={readContext:Zn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},pE={readContext:Zn,useCallback:function(e,t){return Sr().memoizedState=[e,t===void 0?null:t],e},useContext:Zn,useEffect:Ny,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mu(4194308,4,mb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mu(4194308,4,e,t)},useInsertionEffect:function(e,t){return mu(4,2,e,t)},useMemo:function(e,t){var n=Sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hE.bind(null,mt,e),[r.memoizedState,e]},useRef:function(e){var t=Sr();return e={current:e},t.memoizedState=e},useState:Sy,useDebugValue:Xp,useDeferredValue:function(e){return Sr().memoizedState=e},useTransition:function(){var e=Sy(!1),t=e[0];return e=fE.bind(null,e[1]),Sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mt,s=Sr();if(ut){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),Lt===null)throw Error(W(349));Va&30||ib(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ny(lb.bind(null,r,a,e),[e]),r.flags|=2048,Hl(9,ob.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sr(),t=Lt.identifierPrefix;if(ut){var n=Xr,r=Qr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gE={readContext:Zn,useCallback:gb,useContext:Zn,useEffect:Qp,useImperativeHandle:pb,useInsertionEffect:fb,useLayoutEffect:hb,useMemo:vb,useReducer:Hf,useRef:db,useState:function(){return Hf(Wl)},useDebugValue:Xp,useDeferredValue:function(e){var t=er();return yb(t,Tt.memoizedState,e)},useTransition:function(){var e=Hf(Wl)[0],t=er().memoizedState;return[e,t]},useMutableSource:sb,useSyncExternalStore:ab,useId:xb,unstable_isNewReconciler:!1},vE={readContext:Zn,useCallback:gb,useContext:Zn,useEffect:Qp,useImperativeHandle:pb,useInsertionEffect:fb,useLayoutEffect:hb,useMemo:vb,useReducer:qf,useRef:db,useState:function(){return qf(Wl)},useDebugValue:Xp,useDeferredValue:function(e){var t=er();return Tt===null?t.memoizedState=e:yb(t,Tt.memoizedState,e)},useTransition:function(){var e=qf(Wl)[0],t=er().memoizedState;return[e,t]},useMutableSource:sb,useSyncExternalStore:ab,useId:xb,unstable_isNewReconciler:!1};function sr(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function am(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kd={isMounted:function(e){return(e=e._reactInternals)?ni(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ln(),s=Vs(e),a=Zr(r,s);a.payload=t,n!=null&&(a.callback=n),t=Hs(e,a,s),t!==null&&(fr(t,e,s,r),fu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ln(),s=Vs(e),a=Zr(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Hs(e,a,s),t!==null&&(fr(t,e,s,r),fu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ln(),r=Vs(e),s=Zr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Hs(e,s,r),t!==null&&(fr(t,e,r,n),fu(t,e,r))}};function Cy(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!Il(n,r)||!Il(s,a):!0}function jb(e,t,n){var r=!1,s=Xs,a=t.contextType;return typeof a=="object"&&a!==null?a=Zn(a):(s=jn(t)?Ha:en.current,r=t.contextTypes,a=(r=r!=null)?ao(e,s):Xs),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ky(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kd.enqueueReplaceState(t,t.state,null)}function im(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Wp(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Zn(a):(a=jn(t)?Ha:en.current,s.context=ao(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(am(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&kd.enqueueReplaceState(s,s.state,null),qu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do n+=qC(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Vf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function om(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yE=typeof WeakMap=="function"?WeakMap:Map;function Sb(e,t,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qu||(Qu=!0,vm=r),om(e,t)},n}function Nb(e,t,n){n=Zr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){om(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){om(e,t),typeof r!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ey(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=RE.bind(null,e,t,n),t.then(e,e))}function Py(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ty(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zr(-1,1),t.tag=2,Hs(n,t,1))),n.lanes|=1),e)}var xE=cs.ReactCurrentOwner,bn=!1;function on(e,t,n,r){t.child=e===null?eb(t,null,n,r):oo(t,e.child,n,r)}function My(e,t,n,r,s){n=n.render;var a=t.ref;return Fi(t,s),r=Kp(e,t,n,r,a,s),n=Gp(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,as(e,t,s)):(ut&&n&&Ip(t),t.flags|=1,on(e,t,r,s),t.child)}function Ry(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!ag(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Cb(e,t,a,r,s)):(e=yu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(i,r)&&e.ref===t.ref)return as(e,t,s)}return t.flags|=1,e=Ys(a,r),e.ref=t.ref,e.return=t,t.child=e}function Cb(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Il(a,r)&&e.ref===t.ref)if(bn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(bn=!0);else return t.lanes=e.lanes,as(e,t,s)}return lm(e,t,n,r,s)}function kb(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Di,Tn),Tn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(Di,Tn),Tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,rt(Di,Tn),Tn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,rt(Di,Tn),Tn|=r;return on(e,t,s,n),t.child}function Eb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function lm(e,t,n,r,s){var a=jn(n)?Ha:en.current;return a=ao(t,a),Fi(t,s),n=Kp(e,t,n,r,a,s),r=Gp(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,as(e,t,s)):(ut&&r&&Ip(t),t.flags|=1,on(e,t,n,s),t.child)}function Dy(e,t,n,r,s){if(jn(n)){var a=!0;Uu(t)}else a=!1;if(Fi(t,s),t.stateNode===null)pu(e,t),jb(t,n,r),im(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zn(u):(u=jn(n)?Ha:en.current,u=ao(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&ky(t,i,r,u),js=!1;var f=t.memoizedState;i.state=f,qu(t,r,i,s),c=t.memoizedState,l!==r||f!==c||_n.current||js?(typeof d=="function"&&(am(t,n,d,r),c=t.memoizedState),(l=js||Cy(t,n,l,r,f,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,nb(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:sr(t.type,l),i.props=u,h=t.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Zn(c):(c=jn(n)?Ha:en.current,c=ao(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||f!==c)&&ky(t,i,r,c),js=!1,f=t.memoizedState,i.state=f,qu(t,r,i,s);var y=t.memoizedState;l!==h||f!==y||_n.current||js?(typeof p=="function"&&(am(t,n,p,r),y=t.memoizedState),(u=js||Cy(t,n,u,r,f,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return cm(e,t,n,r,a,s)}function cm(e,t,n,r,s,a){Eb(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&yy(t,n,!1),as(e,t,a);r=t.stateNode,xE.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=oo(t,e.child,null,a),t.child=oo(t,null,l,a)):on(e,t,l,a),t.memoizedState=r.state,s&&yy(t,n,!0),t.child}function Pb(e){var t=e.stateNode;t.pendingContext?vy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vy(e,t.context,!1),Hp(e,t.containerInfo)}function Oy(e,t,n,r,s){return io(),Fp(s),t.flags|=256,on(e,t,n,r),t.child}var um={dehydrated:null,treeContext:null,retryLane:0};function dm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tb(e,t,n){var r=t.pendingProps,s=ft.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),rt(ft,s&1),e===null)return rm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Td(i,r,0,null),e=Ba(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=dm(n),t.memoizedState=um,e):Jp(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return wE(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ys(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Ys(l,a):(a=Ba(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?dm(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=um,r}return a=e.child,e=a.sibling,r=Ys(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jp(e,t){return t=Td({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zc(e,t,n,r){return r!==null&&Fp(r),oo(t,e.child,null,n),e=Jp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wE(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=Vf(Error(W(422))),zc(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Td({mode:"visible",children:r.children},s,0,null),a=Ba(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&oo(t,e.child,null,i),t.child.memoizedState=dm(i),t.memoizedState=um,a);if(!(t.mode&1))return zc(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(W(419)),r=Vf(a,r,void 0),zc(e,t,i,r)}if(l=(i&e.childLanes)!==0,bn||l){if(r=Lt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ss(e,s),fr(r,e,s,-1))}return sg(),r=Vf(Error(W(421))),zc(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=DE.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Dn=Ws(s.nextSibling),On=t,ut=!0,cr=null,e!==null&&(Vn[Yn++]=Qr,Vn[Yn++]=Xr,Vn[Yn++]=qa,Qr=e.id,Xr=e.overflow,qa=t),t=Jp(t,r.children),t.flags|=4096,t)}function Ay(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),sm(e.return,t,n)}function Yf(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Mb(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(on(e,t,r.children,n),r=ft.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ay(e,n,t);else if(e.tag===19)Ay(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rt(ft,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Vu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yf(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yf(t,!0,n,null,a);break;case"together":Yf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function as(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=Ys(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ys(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bE(e,t,n){switch(t.tag){case 3:Pb(t),io();break;case 5:rb(t);break;case 1:jn(t.type)&&Uu(t);break;case 4:Hp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;rt(Wu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rt(ft,ft.current&1),t.flags|=128,null):n&t.child.childLanes?Tb(e,t,n):(rt(ft,ft.current&1),e=as(e,t,n),e!==null?e.sibling:null);rt(ft,ft.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mb(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rt(ft,ft.current),r)break;return null;case 22:case 23:return t.lanes=0,kb(e,t,n)}return as(e,t,n)}var Rb,fm,Db,Ob;Rb=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fm=function(){};Db=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ma(Ar.current);var a=null;switch(n){case"input":s=Oh(e,s),r=Oh(e,r),a=[];break;case"select":s=pt({},s,{value:void 0}),r=pt({},r,{value:void 0}),a=[];break;case"textarea":s=Lh(e,s),r=Lh(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fu)}$h(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ot("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Ob=function(e,t,n,r){n!==r&&(t.flags|=4)};function Go(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _E(e,t,n){var r=t.pendingProps;switch(Lp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(t),null;case 1:return jn(t.type)&&$u(),Kt(t),null;case 3:return r=t.stateNode,lo(),lt(_n),lt(en),Vp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($c(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cr!==null&&(wm(cr),cr=null))),fm(e,t),Kt(t),null;case 5:qp(t);var s=Ma(zl.current);if(n=t.type,e!==null&&t.stateNode!=null)Db(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return Kt(t),null}if(e=Ma(Ar.current),$c(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Pr]=t,r[$l]=a,e=(t.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(s=0;s<ul.length;s++)ot(ul[s],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":Hv(r,a),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ot("invalid",r);break;case"textarea":Vv(r,a),ot("invalid",r)}$h(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Fc(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Fc(r.textContent,l,e),s=["children",""+l]):Pl.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ot("scroll",r)}switch(n){case"input":Tc(r),qv(r,a,!0);break;case"textarea":Tc(r),Yv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Fu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Pr]=t,e[$l]=r,Rb(e,t,!1,!1),t.stateNode=e;e:{switch(i=Uh(n,r),n){case"dialog":ot("cancel",e),ot("close",e),s=r;break;case"iframe":case"object":case"embed":ot("load",e),s=r;break;case"video":case"audio":for(s=0;s<ul.length;s++)ot(ul[s],e);s=r;break;case"source":ot("error",e),s=r;break;case"img":case"image":case"link":ot("error",e),ot("load",e),s=r;break;case"details":ot("toggle",e),s=r;break;case"input":Hv(e,r),s=Oh(e,r),ot("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=pt({},r,{value:void 0}),ot("invalid",e);break;case"textarea":Vv(e,r),s=Lh(e,r),ot("invalid",e);break;default:s=r}$h(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?dw(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cw(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Tl(e,c):typeof c=="number"&&Tl(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ot("scroll",e):c!=null&&_p(e,a,c,i))}switch(n){case"input":Tc(e),qv(e,r,!1);break;case"textarea":Tc(e),Yv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qs(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Oi(e,!!r.multiple,a,!1):r.defaultValue!=null&&Oi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Kt(t),null;case 6:if(e&&t.stateNode!=null)Ob(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=Ma(zl.current),Ma(Ar.current),$c(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pr]=t,(a=r.nodeValue!==n)&&(e=On,e!==null))switch(e.tag){case 3:Fc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fc(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=t,t.stateNode=r}return Kt(t),null;case 13:if(lt(ft),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&Dn!==null&&t.mode&1&&!(t.flags&128))Jw(),io(),t.flags|=98560,a=!1;else if(a=$c(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Pr]=t}else io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Kt(t),a=!1}else cr!==null&&(wm(cr),cr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?Dt===0&&(Dt=3):sg())),t.updateQueue!==null&&(t.flags|=4),Kt(t),null);case 4:return lo(),fm(e,t),e===null&&Ll(t.stateNode.containerInfo),Kt(t),null;case 10:return zp(t.type._context),Kt(t),null;case 17:return jn(t.type)&&$u(),Kt(t),null;case 19:if(lt(ft),a=t.memoizedState,a===null)return Kt(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Go(a,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Vu(e),i!==null){for(t.flags|=128,Go(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rt(ft,ft.current&1|2),t.child}e=e.sibling}a.tail!==null&&bt()>uo&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(e=Vu(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Go(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ut)return Kt(t),null}else 2*bt()-a.renderingStartTime>uo&&n!==1073741824&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=bt(),t.sibling=null,n=ft.current,rt(ft,r?n&1|2:n&1),t):(Kt(t),null);case 22:case 23:return rg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tn&1073741824&&(Kt(t),t.subtreeFlags&6&&(t.flags|=8192)):Kt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function jE(e,t){switch(Lp(t),t.tag){case 1:return jn(t.type)&&$u(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lo(),lt(_n),lt(en),Vp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qp(t),null;case 13:if(lt(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));io()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(ft),null;case 4:return lo(),null;case 10:return zp(t.type._context),null;case 22:case 23:return rg(),null;case 24:return null;default:return null}}var Bc=!1,Xt=!1,SE=typeof WeakSet=="function"?WeakSet:Set,J=null;function Ri(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(e,t,r)}else n.current=null}function hm(e,t,n){try{n()}catch(r){xt(e,t,r)}}var Iy=!1;function NE(e,t){if(Qh=Au,e=$w(),Ap(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=i+s),h!==a||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=i),f===a&&++d===r&&(c=i),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xh={focusedElem:e,selectionRange:n},Au=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:sr(t.type,g),b);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(_){xt(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return y=Iy,Iy=!1,y}function _l(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&hm(t,n,a)}s=s.next}while(s!==r)}}function Ed(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ab(e){var t=e.alternate;t!==null&&(e.alternate=null,Ab(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pr],delete t[$l],delete t[em],delete t[oE],delete t[lE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ib(e){return e.tag===5||e.tag===3||e.tag===4}function Ly(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ib(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fu));else if(r!==4&&(e=e.child,e!==null))for(pm(e,t,n),e=e.sibling;e!==null;)pm(e,t,n),e=e.sibling}function gm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gm(e,t,n),e=e.sibling;e!==null;)gm(e,t,n),e=e.sibling}var Ut=null,ir=!1;function hs(e,t,n){for(n=n.child;n!==null;)Lb(e,t,n),n=n.sibling}function Lb(e,t,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:Xt||Ri(n,t);case 6:var r=Ut,s=ir;Ut=null,hs(e,t,n),Ut=r,ir=s,Ut!==null&&(ir?(e=Ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(ir?(e=Ut,n=n.stateNode,e.nodeType===8?Uf(e.parentNode,n):e.nodeType===1&&Uf(e,n),Ol(e)):Uf(Ut,n.stateNode));break;case 4:r=Ut,s=ir,Ut=n.stateNode.containerInfo,ir=!0,hs(e,t,n),Ut=r,ir=s;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&hm(n,t,i),s=s.next}while(s!==r)}hs(e,t,n);break;case 1:if(!Xt&&(Ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xt(n,t,l)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,hs(e,t,n),Xt=r):hs(e,t,n);break;default:hs(e,t,n)}}function Fy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SE),t.forEach(function(r){var s=OE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function nr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,ir=!1;break e;case 3:Ut=l.stateNode.containerInfo,ir=!0;break e;case 4:Ut=l.stateNode.containerInfo,ir=!0;break e}l=l.return}if(Ut===null)throw Error(W(160));Lb(a,i,s),Ut=null,ir=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fb(t,e),t=t.sibling}function Fb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(t,e),_r(e),r&4){try{_l(3,e,e.return),Ed(3,e)}catch(g){xt(e,e.return,g)}try{_l(5,e,e.return)}catch(g){xt(e,e.return,g)}}break;case 1:nr(t,e),_r(e),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(nr(t,e),_r(e),r&512&&n!==null&&Ri(n,n.return),e.flags&32){var s=e.stateNode;try{Tl(s,"")}catch(g){xt(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&iw(s,a),Uh(l,i);var u=Uh(l,a);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?dw(s,h):d==="dangerouslySetInnerHTML"?cw(s,h):d==="children"?Tl(s,h):_p(s,d,h,u)}switch(l){case"input":Ah(s,a);break;case"textarea":ow(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Oi(s,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Oi(s,!!a.multiple,a.defaultValue,!0):Oi(s,!!a.multiple,a.multiple?[]:"",!1))}s[$l]=a}catch(g){xt(e,e.return,g)}}break;case 6:if(nr(t,e),_r(e),r&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){xt(e,e.return,g)}}break;case 3:if(nr(t,e),_r(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ol(t.containerInfo)}catch(g){xt(e,e.return,g)}break;case 4:nr(t,e),_r(e);break;case 13:nr(t,e),_r(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(tg=bt())),r&4&&Fy(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Xt=(u=Xt)||d,nr(t,e),Xt=u):nr(t,e),_r(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(h=J=d;J!==null;){switch(f=J,p=f.child,f.tag){case 0:case 11:case 14:case 15:_l(4,f,f.return);break;case 1:Ri(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){xt(r,n,g)}}break;case 5:Ri(f,f.return);break;case 22:if(f.memoizedState!==null){Uy(h);continue}}p!==null?(p.return=f,J=p):Uy(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uw("display",i))}catch(g){xt(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){xt(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nr(t,e),_r(e),r&4&&Fy(e);break;case 21:break;default:nr(t,e),_r(e)}}function _r(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ib(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Tl(s,""),r.flags&=-33);var a=Ly(e);gm(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Ly(e);pm(e,l,i);break;default:throw Error(W(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CE(e,t,n){J=e,$b(e)}function $b(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var s=J,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Bc;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Xt;l=Bc;var u=Xt;if(Bc=i,(Xt=c)&&!u)for(J=s;J!==null;)i=J,c=i.child,i.tag===22&&i.memoizedState!==null?zy(s):c!==null?(c.return=i,J=c):zy(s);for(;a!==null;)J=a,$b(a),a=a.sibling;J=s,Bc=l,Xt=u}$y(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,J=a):$y(e)}}function $y(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||Ed(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:sr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&jy(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jy(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ol(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Xt||t.flags&512&&mm(t)}catch(f){xt(t,t.return,f)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function Uy(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function zy(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ed(4,t)}catch(c){xt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){xt(t,s,c)}}var a=t.return;try{mm(t)}catch(c){xt(t,a,c)}break;case 5:var i=t.return;try{mm(t)}catch(c){xt(t,i,c)}}}catch(c){xt(t,t.return,c)}if(t===e){J=null;break}var l=t.sibling;if(l!==null){l.return=t.return,J=l;break}J=t.return}}var kE=Math.ceil,Gu=cs.ReactCurrentDispatcher,Zp=cs.ReactCurrentOwner,Gn=cs.ReactCurrentBatchConfig,Le=0,Lt=null,Et=null,Wt=0,Tn=0,Di=ia(0),Dt=0,ql=null,Ya=0,Pd=0,eg=0,jl=null,xn=null,tg=0,uo=1/0,Vr=null,Qu=!1,vm=null,qs=null,Wc=!1,Fs=null,Xu=0,Sl=0,ym=null,gu=-1,vu=0;function ln(){return Le&6?bt():gu!==-1?gu:gu=bt()}function Vs(e){return e.mode&1?Le&2&&Wt!==0?Wt&-Wt:uE.transition!==null?(vu===0&&(vu=jw()),vu):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:Tw(e.type)),e):1}function fr(e,t,n,r){if(50<Sl)throw Sl=0,ym=null,Error(W(185));ac(e,n,r),(!(Le&2)||e!==Lt)&&(e===Lt&&(!(Le&2)&&(Pd|=n),Dt===4&&Cs(e,Wt)),Sn(e,r),n===1&&Le===0&&!(t.mode&1)&&(uo=bt()+500,Nd&&oa()))}function Sn(e,t){var n=e.callbackNode;uk(e,t);var r=Ou(e,e===Lt?Wt:0);if(r===0)n!==null&&Qv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qv(n),t===1)e.tag===0?cE(By.bind(null,e)):Gw(By.bind(null,e)),aE(function(){!(Le&6)&&oa()}),n=null;else{switch(Sw(r)){case 1:n=kp;break;case 4:n=bw;break;case 16:n=Du;break;case 536870912:n=_w;break;default:n=Du}n=Yb(n,Ub.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ub(e,t){if(gu=-1,vu=0,Le&6)throw Error(W(327));var n=e.callbackNode;if($i()&&e.callbackNode!==n)return null;var r=Ou(e,e===Lt?Wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ju(e,r);else{t=r;var s=Le;Le|=2;var a=Bb();(Lt!==e||Wt!==t)&&(Vr=null,uo=bt()+500,za(e,t));do try{TE();break}catch(l){zb(e,l)}while(!0);Up(),Gu.current=a,Le=s,Et!==null?t=0:(Lt=null,Wt=0,t=Dt)}if(t!==0){if(t===2&&(s=qh(e),s!==0&&(r=s,t=xm(e,s))),t===1)throw n=ql,za(e,0),Cs(e,r),Sn(e,bt()),n;if(t===6)Cs(e,r);else{if(s=e.current.alternate,!(r&30)&&!EE(s)&&(t=Ju(e,r),t===2&&(a=qh(e),a!==0&&(r=a,t=xm(e,a))),t===1))throw n=ql,za(e,0),Cs(e,r),Sn(e,bt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:_a(e,xn,Vr);break;case 3:if(Cs(e,r),(r&130023424)===r&&(t=tg+500-bt(),10<t)){if(Ou(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ln(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zh(_a.bind(null,e,xn,Vr),t);break}_a(e,xn,Vr);break;case 4:if(Cs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-dr(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kE(r/1960))-r,10<r){e.timeoutHandle=Zh(_a.bind(null,e,xn,Vr),r);break}_a(e,xn,Vr);break;case 5:_a(e,xn,Vr);break;default:throw Error(W(329))}}}return Sn(e,bt()),e.callbackNode===n?Ub.bind(null,e):null}function xm(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(za(e,t).flags|=256),e=Ju(e,t),e!==2&&(t=xn,xn=n,t!==null&&wm(t)),e}function wm(e){xn===null?xn=e:xn.push.apply(xn,e)}function EE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!hr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Cs(e,t){for(t&=~eg,t&=~Pd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dr(t),r=1<<n;e[n]=-1,t&=~r}}function By(e){if(Le&6)throw Error(W(327));$i();var t=Ou(e,0);if(!(t&1))return Sn(e,bt()),null;var n=Ju(e,t);if(e.tag!==0&&n===2){var r=qh(e);r!==0&&(t=r,n=xm(e,r))}if(n===1)throw n=ql,za(e,0),Cs(e,t),Sn(e,bt()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_a(e,xn,Vr),Sn(e,bt()),null}function ng(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(uo=bt()+500,Nd&&oa())}}function Ka(e){Fs!==null&&Fs.tag===0&&!(Le&6)&&$i();var t=Le;Le|=1;var n=Gn.transition,r=Ge;try{if(Gn.transition=null,Ge=1,e)return e()}finally{Ge=r,Gn.transition=n,Le=t,!(Le&6)&&oa()}}function rg(){Tn=Di.current,lt(Di)}function za(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sE(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Lp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$u();break;case 3:lo(),lt(_n),lt(en),Vp();break;case 5:qp(r);break;case 4:lo();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:zp(r.type._context);break;case 22:case 23:rg()}n=n.return}if(Lt=e,Et=e=Ys(e.current,null),Wt=Tn=t,Dt=0,ql=null,eg=Pd=Ya=0,xn=jl=null,Ta!==null){for(t=0;t<Ta.length;t++)if(n=Ta[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}Ta=null}return e}function zb(e,t){do{var n=Et;try{if(Up(),hu.current=Ku,Yu){for(var r=mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Yu=!1}if(Va=0,It=Tt=mt=null,bl=!1,Bl=0,Zp.current=null,n===null||n.return===null){Dt=1,ql=t,Et=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=Wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Py(i);if(p!==null){p.flags&=-257,Ty(p,i,l,a,t),p.mode&1&&Ey(a,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){Ey(a,u,t),sg();break e}c=Error(W(426))}}else if(ut&&l.mode&1){var b=Py(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ty(b,i,l,a,t),Fp(co(c,l));break e}}a=c=co(c,l),Dt!==4&&(Dt=2),jl===null?jl=[a]:jl.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Sb(a,c,t);_y(a,x);break e;case 1:l=c;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qs===null||!qs.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=Nb(a,l,t);_y(a,_);break e}}a=a.return}while(a!==null)}Hb(n)}catch(S){t=S,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function Bb(){var e=Gu.current;return Gu.current=Ku,e===null?Ku:e}function sg(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Lt===null||!(Ya&268435455)&&!(Pd&268435455)||Cs(Lt,Wt)}function Ju(e,t){var n=Le;Le|=2;var r=Bb();(Lt!==e||Wt!==t)&&(Vr=null,za(e,t));do try{PE();break}catch(s){zb(e,s)}while(!0);if(Up(),Le=n,Gu.current=r,Et!==null)throw Error(W(261));return Lt=null,Wt=0,Dt}function PE(){for(;Et!==null;)Wb(Et)}function TE(){for(;Et!==null&&!tk();)Wb(Et)}function Wb(e){var t=Vb(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?Hb(e):Et=t,Zp.current=null}function Hb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=jE(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,Et=null;return}}else if(n=_E(n,t,Tn),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Dt===0&&(Dt=5)}function _a(e,t,n){var r=Ge,s=Gn.transition;try{Gn.transition=null,Ge=1,ME(e,t,n,r)}finally{Gn.transition=s,Ge=r}return null}function ME(e,t,n,r){do $i();while(Fs!==null);if(Le&6)throw Error(W(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(dk(e,a),e===Lt&&(Et=Lt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,Yb(Du,function(){return $i(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Gn.transition,Gn.transition=null;var i=Ge;Ge=1;var l=Le;Le|=4,Zp.current=null,NE(e,n),Fb(n,e),Xk(Xh),Au=!!Qh,Xh=Qh=null,e.current=n,CE(n),nk(),Le=l,Ge=i,Gn.transition=a}else e.current=n;if(Wc&&(Wc=!1,Fs=e,Xu=s),a=e.pendingLanes,a===0&&(qs=null),ak(n.stateNode),Sn(e,bt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qu)throw Qu=!1,e=vm,vm=null,e;return Xu&1&&e.tag!==0&&$i(),a=e.pendingLanes,a&1?e===ym?Sl++:(Sl=0,ym=e):Sl=0,oa(),null}function $i(){if(Fs!==null){var e=Sw(Xu),t=Gn.transition,n=Ge;try{if(Gn.transition=null,Ge=16>e?16:e,Fs===null)var r=!1;else{if(e=Fs,Fs=null,Xu=0,Le&6)throw Error(W(331));var s=Le;for(Le|=4,J=e.current;J!==null;){var a=J,i=a.child;if(J.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:_l(8,d,a)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var f=d.sibling,p=d.return;if(Ab(d),d===u){J=null;break}if(f!==null){f.return=p,J=f;break}J=p}}}var y=a.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}J=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,J=i;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_l(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,J=x;break e}J=a.return}}var v=e.current;for(J=v;J!==null;){i=J;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,J=w;else e:for(i=v;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ed(9,l)}}catch(S){xt(l,l.return,S)}if(l===i){J=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,J=_;break e}J=l.return}}if(Le=s,oa(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(wd,e)}catch{}r=!0}return r}finally{Ge=n,Gn.transition=t}}return!1}function Wy(e,t,n){t=co(n,t),t=Sb(e,t,1),e=Hs(e,t,1),t=ln(),e!==null&&(ac(e,1,t),Sn(e,t))}function xt(e,t,n){if(e.tag===3)Wy(e,e,n);else for(;t!==null;){if(t.tag===3){Wy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qs===null||!qs.has(r))){e=co(n,e),e=Nb(t,e,1),t=Hs(t,e,1),e=ln(),t!==null&&(ac(t,1,e),Sn(t,e));break}}t=t.return}}function RE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ln(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&(Wt&n)===n&&(Dt===4||Dt===3&&(Wt&130023424)===Wt&&500>bt()-tg?za(e,0):eg|=n),Sn(e,t)}function qb(e,t){t===0&&(e.mode&1?(t=Dc,Dc<<=1,!(Dc&130023424)&&(Dc=4194304)):t=1);var n=ln();e=ss(e,t),e!==null&&(ac(e,t,n),Sn(e,n))}function DE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qb(e,n)}function OE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),qb(e,n)}var Vb;Vb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_n.current)bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bn=!1,bE(e,t,n);bn=!!(e.flags&131072)}else bn=!1,ut&&t.flags&1048576&&Qw(t,Bu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pu(e,t),e=t.pendingProps;var s=ao(t,en.current);Fi(t,n),s=Kp(null,t,r,e,s,n);var a=Gp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jn(r)?(a=!0,Uu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wp(t),s.updater=kd,t.stateNode=s,s._reactInternals=t,im(t,r,e,n),t=cm(null,t,r,!0,a,n)):(t.tag=0,ut&&a&&Ip(t),on(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=IE(r),e=sr(r,e),s){case 0:t=lm(null,t,r,e,n);break e;case 1:t=Dy(null,t,r,e,n);break e;case 11:t=My(null,t,r,e,n);break e;case 14:t=Ry(null,t,r,sr(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sr(r,s),lm(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sr(r,s),Dy(e,t,r,s,n);case 3:e:{if(Pb(t),e===null)throw Error(W(387));r=t.pendingProps,a=t.memoizedState,s=a.element,nb(e,t),qu(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=co(Error(W(423)),t),t=Oy(e,t,r,n,s);break e}else if(r!==s){s=co(Error(W(424)),t),t=Oy(e,t,r,n,s);break e}else for(Dn=Ws(t.stateNode.containerInfo.firstChild),On=t,ut=!0,cr=null,n=eb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(io(),r===s){t=as(e,t,n);break e}on(e,t,r,n)}t=t.child}return t;case 5:return rb(t),e===null&&rm(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Jh(r,s)?i=null:a!==null&&Jh(r,a)&&(t.flags|=32),Eb(e,t),on(e,t,i,n),t.child;case 6:return e===null&&rm(t),null;case 13:return Tb(e,t,n);case 4:return Hp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=oo(t,null,r,n):on(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sr(r,s),My(e,t,r,s,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,rt(Wu,r._currentValue),r._currentValue=i,a!==null)if(hr(a.value,i)){if(a.children===s.children&&!_n.current){t=as(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Zr(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),sm(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(W(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),sm(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}on(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Fi(t,n),s=Zn(s),r=r(s),t.flags|=1,on(e,t,r,n),t.child;case 14:return r=t.type,s=sr(r,t.pendingProps),s=sr(r.type,s),Ry(e,t,r,s,n);case 15:return Cb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sr(r,s),pu(e,t),t.tag=1,jn(r)?(e=!0,Uu(t)):e=!1,Fi(t,n),jb(t,r,s),im(t,r,s,n),cm(null,t,r,!0,e,n);case 19:return Mb(e,t,n);case 22:return kb(e,t,n)}throw Error(W(156,t.tag))};function Yb(e,t){return ww(e,t)}function AE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,t,n,r){return new AE(e,t,n,r)}function ag(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IE(e){if(typeof e=="function")return ag(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sp)return 11;if(e===Np)return 14}return 2}function Ys(e,t){var n=e.alternate;return n===null?(n=Kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yu(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")ag(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ji:return Ba(n.children,s,a,t);case jp:i=8,s|=8;break;case Th:return e=Kn(12,n,t,s|2),e.elementType=Th,e.lanes=a,e;case Mh:return e=Kn(13,n,t,s),e.elementType=Mh,e.lanes=a,e;case Rh:return e=Kn(19,n,t,s),e.elementType=Rh,e.lanes=a,e;case rw:return Td(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tw:i=10;break e;case nw:i=9;break e;case Sp:i=11;break e;case Np:i=14;break e;case _s:i=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=Kn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function Ba(e,t,n,r){return e=Kn(7,e,r,t),e.lanes=n,e}function Td(e,t,n,r){return e=Kn(22,e,r,t),e.elementType=rw,e.lanes=n,e.stateNode={isHidden:!1},e}function Kf(e,t,n){return e=Kn(6,e,null,t),e.lanes=n,e}function Gf(e,t,n){return t=Kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pf(0),this.expirationTimes=Pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ig(e,t,n,r,s,a,i,l,c){return e=new LE(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Kn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wp(a),e}function FE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kb(e){if(!e)return Xs;e=e._reactInternals;e:{if(ni(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(jn(n))return Kw(e,n,t)}return t}function Gb(e,t,n,r,s,a,i,l,c){return e=ig(n,r,!0,e,s,a,i,l,c),e.context=Kb(null),n=e.current,r=ln(),s=Vs(n),a=Zr(r,s),a.callback=t??null,Hs(n,a,s),e.current.lanes=s,ac(e,s,r),Sn(e,r),e}function Md(e,t,n,r){var s=t.current,a=ln(),i=Vs(s);return n=Kb(n),t.context===null?t.context=n:t.pendingContext=n,t=Zr(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hs(s,t,i),e!==null&&(fr(e,s,i,a),fu(e,s,i)),i}function Zu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function og(e,t){Hy(e,t),(e=e.alternate)&&Hy(e,t)}function $E(){return null}var Qb=typeof reportError=="function"?reportError:function(e){console.error(e)};function lg(e){this._internalRoot=e}Rd.prototype.render=lg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Md(e,t,null,null)};Rd.prototype.unmount=lg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ka(function(){Md(null,e,null,null)}),t[rs]=null}};function Rd(e){this._internalRoot=e}Rd.prototype.unstable_scheduleHydration=function(e){if(e){var t=kw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ns.length&&t!==0&&t<Ns[n].priority;n++);Ns.splice(n,0,e),n===0&&Pw(e)}};function cg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qy(){}function UE(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=Zu(i);a.call(u)}}var i=Gb(t,r,e,0,null,!1,!1,"",qy);return e._reactRootContainer=i,e[rs]=i.current,Ll(e.nodeType===8?e.parentNode:e),Ka(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Zu(c);l.call(u)}}var c=ig(e,0,!1,null,null,!1,!1,"",qy);return e._reactRootContainer=c,e[rs]=c.current,Ll(e.nodeType===8?e.parentNode:e),Ka(function(){Md(t,c,n,r)}),c}function Od(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=Zu(i);l.call(c)}}Md(t,i,e,s)}else i=UE(n,t,e,s,r);return Zu(i)}Nw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cl(t.pendingLanes);n!==0&&(Ep(t,n|1),Sn(t,bt()),!(Le&6)&&(uo=bt()+500,oa()))}break;case 13:Ka(function(){var r=ss(e,1);if(r!==null){var s=ln();fr(r,e,1,s)}}),og(e,1)}};Pp=function(e){if(e.tag===13){var t=ss(e,134217728);if(t!==null){var n=ln();fr(t,e,134217728,n)}og(e,134217728)}};Cw=function(e){if(e.tag===13){var t=Vs(e),n=ss(e,t);if(n!==null){var r=ln();fr(n,e,t,r)}og(e,t)}};kw=function(){return Ge};Ew=function(e,t){var n=Ge;try{return Ge=e,t()}finally{Ge=n}};Bh=function(e,t,n){switch(t){case"input":if(Ah(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Sd(r);if(!s)throw Error(W(90));aw(r),Ah(r,s)}}}break;case"textarea":ow(e,n);break;case"select":t=n.value,t!=null&&Oi(e,!!n.multiple,t,!1)}};mw=ng;pw=Ka;var zE={usingClientEntryPoint:!1,Events:[oc,ki,Sd,fw,hw,ng]},Qo={findFiberByHostInstance:Pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BE={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yw(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||$E,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{wd=Hc.inject(BE),Or=Hc}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE;$n.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(t))throw Error(W(200));return FE(e,t,null,n)};$n.createRoot=function(e,t){if(!cg(e))throw Error(W(299));var n=!1,r="",s=Qb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ig(e,1,!1,null,null,n,!1,r,s),e[rs]=t.current,Ll(e.nodeType===8?e.parentNode:e),new lg(t)};$n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=yw(t),e=e===null?null:e.stateNode,e};$n.flushSync=function(e){return Ka(e)};$n.hydrate=function(e,t,n){if(!Dd(t))throw Error(W(200));return Od(null,e,t,!0,n)};$n.hydrateRoot=function(e,t,n){if(!cg(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=Qb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Gb(t,null,e,1,n??null,s,!1,a,i),e[rs]=t.current,Ll(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Rd(t)};$n.render=function(e,t,n){if(!Dd(t))throw Error(W(200));return Od(null,e,t,!1,n)};$n.unmountComponentAtNode=function(e){if(!Dd(e))throw Error(W(40));return e._reactRootContainer?(Ka(function(){Od(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};$n.unstable_batchedUpdates=ng;$n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dd(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Od(e,t,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function Xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xb)}catch(e){console.error(e)}}Xb(),Xx.exports=$n;var ri=Xx.exports;const ug=Fx(ri),WE=Lx({__proto__:null,default:ug},[ri]);var Jb,Vy=ri;Jb=Vy.createRoot,Vy.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}var Ct;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ct||(Ct={}));const Yy="popstate";function HE(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return Vl("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ga(s)}return VE(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qE(){return Math.random().toString(36).substr(2,8)}function Ky(e,t){return{usr:e.state,key:e.key,idx:t}}function Vl(e,t,n,r){return n===void 0&&(n=null),ct({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?la(t):t,{state:n,key:t&&t.key||r||qE()})}function Ga(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function la(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function VE(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l=Ct.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ct({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){l=Ct.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:x})}function f(b,x){l=Ct.Push;let v=Vl(g.location,b,x);u=d()+1;let w=Ky(v,u),_=g.createHref(v);try{i.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}a&&c&&c({action:l,location:g.location,delta:1})}function p(b,x){l=Ct.Replace;let v=Vl(g.location,b,x);u=d();let w=Ky(v,u),_=g.createHref(v);i.replaceState(w,"",_),a&&c&&c({action:l,location:g.location,delta:0})}function y(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Ga(b);return v=v.replace(/ $/,"%20"),ke(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let g={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Yy,h),c=b,()=>{s.removeEventListener(Yy,h),c=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let x=y(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(b){return i.go(b)}};return g}var Je;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Je||(Je={}));const YE=new Set(["lazy","caseSensitive","path","id","index","children"]);function KE(e){return e.index===!0}function ed(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((s,a)=>{let i=[...n,String(a)],l=typeof s.id=="string"?s.id:i.join("-");if(ke(s.index!==!0||!s.children,"Cannot specify children on an index route"),ke(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),KE(s)){let c=ct({},s,t(s),{id:l});return r[l]=c,c}else{let c=ct({},s,t(s),{id:l,children:void 0});return r[l]=c,s.children&&(c.children=ed(s.children,t,i,r)),c}})}function Ca(e,t,n){return n===void 0&&(n="/"),xu(e,t,n,!1)}function xu(e,t,n,r){let s=typeof t=="string"?la(t):t,a=_o(s.pathname||"/",n);if(a==null)return null;let i=Zb(e);QE(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=o2(a);l=a2(i[c],u,r)}return l}function GE(e,t){let{route:n,pathname:r,params:s}=e;return{id:n.id,pathname:r,params:s,data:t[n.id],handle:n.handle}}function Zb(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ke(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=es([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Zb(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:r2(u,a.index),routesMeta:d})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,i);else for(let c of e1(a.path))s(a,i,c)}),t}function e1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=e1(r.join("/")),l=[];return l.push(...i.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function QE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:s2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const XE=/^:[\w-]+$/,JE=3,ZE=2,e2=1,t2=10,n2=-2,Gy=e=>e==="*";function r2(e,t){let n=e.split("/"),r=n.length;return n.some(Gy)&&(r+=n2),t&&(r+=ZE),n.filter(s=>!Gy(s)).reduce((s,a)=>s+(XE.test(a)?JE:a===""?e2:t2),r)}function s2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function a2(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Qy({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Qy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:es([a,h.pathname]),pathnameBase:u2(es([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=es([a,h.pathnameBase]))}return i}function Qy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=i2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=l[h]||"";i=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[h];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:i,pattern:e}}function i2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function o2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _o(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function l2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?la(e):e;return{pathname:n?n.startsWith("/")?n:c2(n,t):t,search:d2(r),hash:f2(s)}}function c2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function t1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ad(e,t){let n=t1(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Id(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=la(e):(s=ct({},e),ke(!s.pathname||!s.pathname.includes("?"),Qf("?","pathname","search",s)),ke(!s.pathname||!s.pathname.includes("#"),Qf("#","pathname","hash",s)),ke(!s.search||!s.search.includes("#"),Qf("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=l2(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const es=e=>e.join("/").replace(/\/\/+/g,"/"),u2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class td{constructor(t,n,r,s){s===void 0&&(s=!1),this.status=t,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ld(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const n1=["post","put","patch","delete"],h2=new Set(n1),m2=["get",...n1],p2=new Set(m2),g2=new Set([301,302,303,307,308]),v2=new Set([307,308]),Xf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},y2={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x2=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),r1="remix-router-transitions";function w2(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ke(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(e.mapRouteProperties)s=e.mapRouteProperties;else if(e.detectErrorBoundary){let P=e.detectErrorBoundary;s=M=>({hasErrorBoundary:P(M)})}else s=x2;let a={},i=ed(e.routes,s,void 0,a),l,c=e.basename||"/",u=e.dataStrategy||S2,d=e.patchRoutesOnNavigation,h=ct({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,p=new Set,y=null,g=null,b=null,x=e.hydrationData!=null,v=Ca(i,e.history.location,c),w=null;if(v==null&&!d){let P=yn(404,{pathname:e.history.location.pathname}),{matches:M,route:I}=o0(i);v=M,w={[I.id]:P}}v&&!e.hydrationData&&jc(v,i,e.history.location.pathname).active&&(v=null);let _;if(v)if(v.some(P=>P.route.lazy))_=!1;else if(!v.some(P=>P.route.loader))_=!0;else if(h.v7_partialHydration){let P=e.hydrationData?e.hydrationData.loaderData:null,M=e.hydrationData?e.hydrationData.errors:null;if(M){let I=v.findIndex(z=>M[z.route.id]!==void 0);_=v.slice(0,I+1).every(z=>!_m(z.route,P,M))}else _=v.every(I=>!_m(I.route,P,M))}else _=e.hydrationData!=null;else if(_=!1,v=[],h.v7_partialHydration){let P=jc(null,i,e.history.location.pathname);P.active&&P.matches&&(v=P.matches)}let S,j={historyAction:e.history.action,location:e.history.location,matches:v,initialized:_,navigation:Xf,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||w,fetchers:new Map,blockers:new Map},k=Ct.Pop,N=!1,T,R=!1,L=new Map,D=null,F=!1,H=!1,K=[],q=new Set,A=new Map,C=0,O=-1,U=new Map,$=new Set,Y=new Map,fe=new Map,ye=new Set,Ve=new Map,ue=new Map,Z;function Pe(){if(f=e.history.listen(P=>{let{action:M,location:I,delta:z}=P;if(Z){Z(),Z=void 0;return}fo(ue.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=Xe({currentLocation:j.location,nextLocation:I,historyAction:M});if(ee&&z!=null){let ie=new Promise(ve=>{Z=ve});e.history.go(z*-1),pe(ee,{state:"blocked",location:I,proceed(){pe(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),ie.then(()=>e.history.go(z))},reset(){let ve=new Map(j.blockers);ve.set(ee,Xo),me({blockers:ve})}});return}return Vt(M,I)}),n){F2(t,L);let P=()=>$2(t,L);t.addEventListener("pagehide",P),D=()=>t.removeEventListener("pagehide",P)}return j.initialized||Vt(Ct.Pop,j.location,{initialHydration:!0}),S}function Ae(){f&&f(),D&&D(),p.clear(),T&&T.abort(),j.fetchers.forEach((P,M)=>va(M)),j.blockers.forEach((P,M)=>_c(M))}function Ce(P){return p.add(P),()=>p.delete(P)}function me(P,M){M===void 0&&(M={}),j=ct({},j,P);let I=[],z=[];h.v7_fetcherPersist&&j.fetchers.forEach((ee,ie)=>{ee.state==="idle"&&(ye.has(ie)?z.push(ie):I.push(ie))}),[...p].forEach(ee=>ee(j,{deletedFetchers:z,viewTransitionOpts:M.viewTransitionOpts,flushSync:M.flushSync===!0})),h.v7_fetcherPersist&&(I.forEach(ee=>j.fetchers.delete(ee)),z.forEach(ee=>va(ee)))}function Ne(P,M,I){var z,ee;let{flushSync:ie}=I===void 0?{}:I,ve=j.actionData!=null&&j.navigation.formMethod!=null&&or(j.navigation.formMethod)&&j.navigation.state==="loading"&&((z=P.state)==null?void 0:z._isRedirect)!==!0,ne;M.actionData?Object.keys(M.actionData).length>0?ne=M.actionData:ne=null:ve?ne=j.actionData:ne=null;let re=M.loaderData?a0(j.loaderData,M.loaderData,M.matches||[],M.errors):j.loaderData,te=j.blockers;te.size>0&&(te=new Map(te),te.forEach((Ie,$t)=>te.set($t,Xo)));let oe=N===!0||j.navigation.formMethod!=null&&or(j.navigation.formMethod)&&((ee=P.state)==null?void 0:ee._isRedirect)!==!0;l&&(i=l,l=void 0),F||k===Ct.Pop||(k===Ct.Push?e.history.push(P,P.state):k===Ct.Replace&&e.history.replace(P,P.state));let Te;if(k===Ct.Pop){let Ie=L.get(j.location.pathname);Ie&&Ie.has(P.pathname)?Te={currentLocation:j.location,nextLocation:P}:L.has(P.pathname)&&(Te={currentLocation:P,nextLocation:j.location})}else if(R){let Ie=L.get(j.location.pathname);Ie?Ie.add(P.pathname):(Ie=new Set([P.pathname]),L.set(j.location.pathname,Ie)),Te={currentLocation:j.location,nextLocation:P}}me(ct({},M,{actionData:ne,loaderData:re,historyAction:k,location:P,initialized:!0,navigation:Xf,revalidation:"idle",restoreScrollPosition:Av(P,M.matches||j.matches),preventScrollReset:oe,blockers:te}),{viewTransitionOpts:Te,flushSync:ie===!0}),k=Ct.Pop,N=!1,R=!1,F=!1,H=!1,K=[]}async function Ot(P,M){if(typeof P=="number"){e.history.go(P);return}let I=bm(j.location,j.matches,c,h.v7_prependBasename,P,h.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:z,submission:ee,error:ie}=Xy(h.v7_normalizeFormMethod,!1,I,M),ve=j.location,ne=Vl(j.location,z,M&&M.state);ne=ct({},ne,e.history.encodeLocation(ne));let re=M&&M.replace!=null?M.replace:void 0,te=Ct.Push;re===!0?te=Ct.Replace:re===!1||ee!=null&&or(ee.formMethod)&&ee.formAction===j.location.pathname+j.location.search&&(te=Ct.Replace);let oe=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Te=(M&&M.flushSync)===!0,Ie=Xe({currentLocation:ve,nextLocation:ne,historyAction:te});if(Ie){pe(Ie,{state:"blocked",location:ne,proceed(){pe(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),Ot(P,M)},reset(){let $t=new Map(j.blockers);$t.set(Ie,Xo),me({blockers:$t})}});return}return await Vt(te,ne,{submission:ee,pendingError:ie,preventScrollReset:oe,replace:M&&M.replace,enableViewTransition:M&&M.viewTransition,flushSync:Te})}function nn(){if(ga(),me({revalidation:"loading"}),j.navigation.state!=="submitting"){if(j.navigation.state==="idle"){Vt(j.historyAction,j.location,{startUninterruptedRevalidation:!0});return}Vt(k||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:R===!0})}}async function Vt(P,M,I){T&&T.abort(),T=null,k=P,F=(I&&I.startUninterruptedRevalidation)===!0,bf(j.location,j.matches),N=(I&&I.preventScrollReset)===!0,R=(I&&I.enableViewTransition)===!0;let z=l||i,ee=I&&I.overrideNavigation,ie=Ca(z,M,c),ve=(I&&I.flushSync)===!0,ne=jc(ie,z,M.pathname);if(ne.active&&ne.matches&&(ie=ne.matches),!ie){let{error:tt,notFoundMatches:$e,route:gt}=We(M.pathname);Ne(M,{matches:$e,loaderData:{},errors:{[gt.id]:tt}},{flushSync:ve});return}if(j.initialized&&!H&&T2(j.location,M)&&!(I&&I.submission&&or(I.submission.formMethod))){Ne(M,{matches:ie},{flushSync:ve});return}T=new AbortController;let re=hi(e.history,M,T.signal,I&&I.submission),te;if(I&&I.pendingError)te=[ka(ie).route.id,{type:Je.error,error:I.pendingError}];else if(I&&I.submission&&or(I.submission.formMethod)){let tt=await fn(re,M,I.submission,ie,ne.active,{replace:I.replace,flushSync:ve});if(tt.shortCircuited)return;if(tt.pendingActionResult){let[$e,gt]=tt.pendingActionResult;if(Mn(gt)&&Ld(gt.error)&&gt.error.status===404){T=null,Ne(M,{matches:tt.matches,loaderData:{},errors:{[$e]:gt.error}});return}}ie=tt.matches||ie,te=tt.pendingActionResult,ee=Jf(M,I.submission),ve=!1,ne.active=!1,re=hi(e.history,re.url,re.signal)}let{shortCircuited:oe,matches:Te,loaderData:Ie,errors:$t}=await Ur(re,M,ie,ne.active,ee,I&&I.submission,I&&I.fetcherSubmission,I&&I.replace,I&&I.initialHydration===!0,ve,te);oe||(T=null,Ne(M,ct({matches:Te||ie},i0(te),{loaderData:Ie,errors:$t})))}async function fn(P,M,I,z,ee,ie){ie===void 0&&(ie={}),ga();let ve=I2(M,I);if(me({navigation:ve},{flushSync:ie.flushSync===!0}),ee){let te=await Sc(z,M.pathname,P.signal);if(te.type==="aborted")return{shortCircuited:!0};if(te.type==="error"){let oe=ka(te.partialMatches).route.id;return{matches:te.partialMatches,pendingActionResult:[oe,{type:Je.error,error:te.error}]}}else if(te.matches)z=te.matches;else{let{notFoundMatches:oe,error:Te,route:Ie}=We(M.pathname);return{matches:oe,pendingActionResult:[Ie.id,{type:Je.error,error:Te}]}}}let ne,re=dl(z,M);if(!re.route.action&&!re.route.lazy)ne={type:Je.error,error:yn(405,{method:P.method,pathname:M.pathname,routeId:re.route.id})};else if(ne=(await pa("action",j,P,[re],z,null))[re.route.id],P.signal.aborted)return{shortCircuited:!0};if(Ra(ne)){let te;return ie&&ie.replace!=null?te=ie.replace:te=n0(ne.response.headers.get("Location"),new URL(P.url),c)===j.location.pathname+j.location.search,await zn(P,ne,!0,{submission:I,replace:te}),{shortCircuited:!0}}if($s(ne))throw yn(400,{type:"defer-action"});if(Mn(ne)){let te=ka(z,re.route.id);return(ie&&ie.replace)!==!0&&(k=Ct.Push),{matches:z,pendingActionResult:[te.route.id,ne]}}return{matches:z,pendingActionResult:[re.route.id,ne]}}async function Ur(P,M,I,z,ee,ie,ve,ne,re,te,oe){let Te=ee||Jf(M,ie),Ie=ie||ve||c0(Te),$t=!F&&(!h.v7_partialHydration||!re);if(z){if($t){let vt=oi(oe);me(ct({navigation:Te},vt!==void 0?{actionData:vt}:{}),{flushSync:te})}let Fe=await Sc(I,M.pathname,P.signal);if(Fe.type==="aborted")return{shortCircuited:!0};if(Fe.type==="error"){let vt=ka(Fe.partialMatches).route.id;return{matches:Fe.partialMatches,loaderData:{},errors:{[vt]:Fe.error}}}else if(Fe.matches)I=Fe.matches;else{let{error:vt,notFoundMatches:ui,route:Bo}=We(M.pathname);return{matches:ui,loaderData:{},errors:{[Bo.id]:vt}}}}let tt=l||i,[$e,gt]=Zy(e.history,j,I,Ie,M,h.v7_partialHydration&&re===!0,h.v7_skipActionErrorRevalidation,H,K,q,ye,Y,$,tt,c,oe);if(hn(Fe=>!(I&&I.some(vt=>vt.route.id===Fe))||$e&&$e.some(vt=>vt.route.id===Fe)),O=++C,$e.length===0&&gt.length===0){let Fe=bc();return Ne(M,ct({matches:I,loaderData:{},errors:oe&&Mn(oe[1])?{[oe[0]]:oe[1].error}:null},i0(oe),Fe?{fetchers:new Map(j.fetchers)}:{}),{flushSync:te}),{shortCircuited:!0}}if($t){let Fe={};if(!z){Fe.navigation=Te;let vt=oi(oe);vt!==void 0&&(Fe.actionData=vt)}gt.length>0&&(Fe.fetchers=Pt(gt)),me(Fe,{flushSync:te})}gt.forEach(Fe=>{tr(Fe.key),Fe.controller&&A.set(Fe.key,Fe.controller)});let ci=()=>gt.forEach(Fe=>tr(Fe.key));T&&T.signal.addEventListener("abort",ci);let{loaderResults:Uo,fetcherResults:Br}=await Fo(j,I,$e,gt,P);if(P.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",ci),gt.forEach(Fe=>A.delete(Fe.key));let br=qc(Uo);if(br)return await zn(P,br.result,!0,{replace:ne}),{shortCircuited:!0};if(br=qc(Br),br)return $.add(br.key),await zn(P,br.result,!0,{replace:ne}),{shortCircuited:!0};let{loaderData:_f,errors:zo}=s0(j,I,Uo,oe,gt,Br,Ve);Ve.forEach((Fe,vt)=>{Fe.subscribe(ui=>{(ui||Fe.done)&&Ve.delete(vt)})}),h.v7_partialHydration&&re&&j.errors&&(zo=ct({},j.errors,zo));let xa=bc(),Nc=li(O),Cc=xa||Nc||gt.length>0;return ct({matches:I,loaderData:_f,errors:zo},Cc?{fetchers:new Map(j.fetchers)}:{})}function oi(P){if(P&&!Mn(P[1]))return{[P[0]]:P[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Pt(P){return P.forEach(M=>{let I=j.fetchers.get(M.key),z=Jo(void 0,I?I.data:void 0);j.fetchers.set(M.key,z)}),new Map(j.fetchers)}function fs(P,M,I,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");tr(P);let ee=(z&&z.flushSync)===!0,ie=l||i,ve=bm(j.location,j.matches,c,h.v7_prependBasename,I,h.v7_relativeSplatPath,M,z==null?void 0:z.relative),ne=Ca(ie,ve,c),re=jc(ne,ie,ve);if(re.active&&re.matches&&(ne=re.matches),!ne){Bn(P,M,yn(404,{pathname:ve}),{flushSync:ee});return}let{path:te,submission:oe,error:Te}=Xy(h.v7_normalizeFormMethod,!0,ve,z);if(Te){Bn(P,M,Te,{flushSync:ee});return}let Ie=dl(ne,te),$t=(z&&z.preventScrollReset)===!0;if(oe&&or(oe.formMethod)){yf(P,M,te,Ie,ne,re.active,ee,$t,oe);return}Y.set(P,{routeId:M,path:te}),xf(P,M,te,Ie,ne,re.active,ee,$t,oe)}async function yf(P,M,I,z,ee,ie,ve,ne,re){ga(),Y.delete(P);function te(Nt){if(!Nt.route.action&&!Nt.route.lazy){let di=yn(405,{method:re.formMethod,pathname:I,routeId:M});return Bn(P,M,di,{flushSync:ve}),!0}return!1}if(!ie&&te(z))return;let oe=j.fetchers.get(P);rn(P,L2(re,oe),{flushSync:ve});let Te=new AbortController,Ie=hi(e.history,I,Te.signal,re);if(ie){let Nt=await Sc(ee,I,Ie.signal);if(Nt.type==="aborted")return;if(Nt.type==="error"){Bn(P,M,Nt.error,{flushSync:ve});return}else if(Nt.matches){if(ee=Nt.matches,z=dl(ee,I),te(z))return}else{Bn(P,M,yn(404,{pathname:I}),{flushSync:ve});return}}A.set(P,Te);let $t=C,$e=(await pa("action",j,Ie,[z],ee,P))[z.route.id];if(Ie.signal.aborted){A.get(P)===Te&&A.delete(P);return}if(h.v7_fetcherPersist&&ye.has(P)){if(Ra($e)||Mn($e)){rn(P,vs(void 0));return}}else{if(Ra($e))if(A.delete(P),O>$t){rn(P,vs(void 0));return}else return $.add(P),rn(P,Jo(re)),zn(Ie,$e,!1,{fetcherSubmission:re,preventScrollReset:ne});if(Mn($e)){Bn(P,M,$e.error);return}}if($s($e))throw yn(400,{type:"defer-action"});let gt=j.navigation.location||j.location,ci=hi(e.history,gt,Te.signal),Uo=l||i,Br=j.navigation.state!=="idle"?Ca(Uo,j.navigation.location,c):j.matches;ke(Br,"Didn't find any matches after fetcher action");let br=++C;U.set(P,br);let _f=Jo(re,$e.data);j.fetchers.set(P,_f);let[zo,xa]=Zy(e.history,j,Br,re,gt,!1,h.v7_skipActionErrorRevalidation,H,K,q,ye,Y,$,Uo,c,[z.route.id,$e]);xa.filter(Nt=>Nt.key!==P).forEach(Nt=>{let di=Nt.key,Iv=j.fetchers.get(di),mC=Jo(void 0,Iv?Iv.data:void 0);j.fetchers.set(di,mC),tr(di),Nt.controller&&A.set(di,Nt.controller)}),me({fetchers:new Map(j.fetchers)});let Nc=()=>xa.forEach(Nt=>tr(Nt.key));Te.signal.addEventListener("abort",Nc);let{loaderResults:Cc,fetcherResults:Fe}=await Fo(j,Br,zo,xa,ci);if(Te.signal.aborted)return;Te.signal.removeEventListener("abort",Nc),U.delete(P),A.delete(P),xa.forEach(Nt=>A.delete(Nt.key));let vt=qc(Cc);if(vt)return zn(ci,vt.result,!1,{preventScrollReset:ne});if(vt=qc(Fe),vt)return $.add(vt.key),zn(ci,vt.result,!1,{preventScrollReset:ne});let{loaderData:ui,errors:Bo}=s0(j,Br,Cc,void 0,xa,Fe,Ve);if(j.fetchers.has(P)){let Nt=vs($e.data);j.fetchers.set(P,Nt)}li(br),j.navigation.state==="loading"&&br>O?(ke(k,"Expected pending action"),T&&T.abort(),Ne(j.navigation.location,{matches:Br,loaderData:ui,errors:Bo,fetchers:new Map(j.fetchers)})):(me({errors:Bo,loaderData:a0(j.loaderData,ui,Br,Bo),fetchers:new Map(j.fetchers)}),H=!1)}async function xf(P,M,I,z,ee,ie,ve,ne,re){let te=j.fetchers.get(P);rn(P,Jo(re,te?te.data:void 0),{flushSync:ve});let oe=new AbortController,Te=hi(e.history,I,oe.signal);if(ie){let $e=await Sc(ee,I,Te.signal);if($e.type==="aborted")return;if($e.type==="error"){Bn(P,M,$e.error,{flushSync:ve});return}else if($e.matches)ee=$e.matches,z=dl(ee,I);else{Bn(P,M,yn(404,{pathname:I}),{flushSync:ve});return}}A.set(P,oe);let Ie=C,tt=(await pa("loader",j,Te,[z],ee,P))[z.route.id];if($s(tt)&&(tt=await fg(tt,Te.signal,!0)||tt),A.get(P)===oe&&A.delete(P),!Te.signal.aborted){if(ye.has(P)){rn(P,vs(void 0));return}if(Ra(tt))if(O>Ie){rn(P,vs(void 0));return}else{$.add(P),await zn(Te,tt,!1,{preventScrollReset:ne});return}if(Mn(tt)){Bn(P,M,tt.error);return}ke(!$s(tt),"Unhandled fetcher deferred data"),rn(P,vs(tt.data))}}async function zn(P,M,I,z){let{submission:ee,fetcherSubmission:ie,preventScrollReset:ve,replace:ne}=z===void 0?{}:z;M.response.headers.has("X-Remix-Revalidate")&&(H=!0);let re=M.response.headers.get("Location");ke(re,"Expected a Location header on the redirect Response"),re=n0(re,new URL(P.url),c);let te=Vl(j.location,re,{_isRedirect:!0});if(n){let $e=!1;if(M.response.headers.has("X-Remix-Reload-Document"))$e=!0;else if(dg.test(re)){const gt=e.history.createURL(re);$e=gt.origin!==t.location.origin||_o(gt.pathname,c)==null}if($e){ne?t.location.replace(re):t.location.assign(re);return}}T=null;let oe=ne===!0||M.response.headers.has("X-Remix-Replace")?Ct.Replace:Ct.Push,{formMethod:Te,formAction:Ie,formEncType:$t}=j.navigation;!ee&&!ie&&Te&&Ie&&$t&&(ee=c0(j.navigation));let tt=ee||ie;if(v2.has(M.response.status)&&tt&&or(tt.formMethod))await Vt(oe,te,{submission:ct({},tt,{formAction:re}),preventScrollReset:ve||N,enableViewTransition:I?R:void 0});else{let $e=Jf(te,ee);await Vt(oe,te,{overrideNavigation:$e,fetcherSubmission:ie,preventScrollReset:ve||N,enableViewTransition:I?R:void 0})}}async function pa(P,M,I,z,ee,ie){let ve,ne={};try{ve=await N2(u,P,M,I,z,ee,ie,a,s)}catch(re){return z.forEach(te=>{ne[te.route.id]={type:Je.error,error:re}}),ne}for(let[re,te]of Object.entries(ve))if(M2(te)){let oe=te.result;ne[re]={type:Je.redirect,response:E2(oe,I,re,ee,c,h.v7_relativeSplatPath)}}else ne[re]=await k2(te);return ne}async function Fo(P,M,I,z,ee){let ie=P.matches,ve=pa("loader",P,ee,I,M,null),ne=Promise.all(z.map(async oe=>{if(oe.matches&&oe.match&&oe.controller){let Ie=(await pa("loader",P,hi(e.history,oe.path,oe.controller.signal),[oe.match],oe.matches,oe.key))[oe.match.route.id];return{[oe.key]:Ie}}else return Promise.resolve({[oe.key]:{type:Je.error,error:yn(404,{pathname:oe.path})}})})),re=await ve,te=(await ne).reduce((oe,Te)=>Object.assign(oe,Te),{});return await Promise.all([O2(M,re,ee.signal,ie,P.loaderData),A2(M,te,z)]),{loaderResults:re,fetcherResults:te}}function ga(){H=!0,K.push(...hn()),Y.forEach((P,M)=>{A.has(M)&&q.add(M),tr(M)})}function rn(P,M,I){I===void 0&&(I={}),j.fetchers.set(P,M),me({fetchers:new Map(j.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Bn(P,M,I,z){z===void 0&&(z={});let ee=ka(j.matches,M);va(P),me({errors:{[ee.route.id]:I},fetchers:new Map(j.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function zr(P){return h.v7_fetcherPersist&&(fe.set(P,(fe.get(P)||0)+1),ye.has(P)&&ye.delete(P)),j.fetchers.get(P)||y2}function va(P){let M=j.fetchers.get(P);A.has(P)&&!(M&&M.state==="loading"&&U.has(P))&&tr(P),Y.delete(P),U.delete(P),$.delete(P),ye.delete(P),q.delete(P),j.fetchers.delete(P)}function wf(P){if(h.v7_fetcherPersist){let M=(fe.get(P)||0)-1;M<=0?(fe.delete(P),ye.add(P)):fe.set(P,M)}else va(P);me({fetchers:new Map(j.fetchers)})}function tr(P){let M=A.get(P);M&&(M.abort(),A.delete(P))}function $o(P){for(let M of P){let I=zr(M),z=vs(I.data);j.fetchers.set(M,z)}}function bc(){let P=[],M=!1;for(let I of $){let z=j.fetchers.get(I);ke(z,"Expected fetcher: "+I),z.state==="loading"&&($.delete(I),P.push(I),M=!0)}return $o(P),M}function li(P){let M=[];for(let[I,z]of U)if(z<P){let ee=j.fetchers.get(I);ke(ee,"Expected fetcher: "+I),ee.state==="loading"&&(tr(I),U.delete(I),M.push(I))}return $o(M),M.length>0}function wr(P,M){let I=j.blockers.get(P)||Xo;return ue.get(P)!==M&&ue.set(P,M),I}function _c(P){j.blockers.delete(P),ue.delete(P)}function pe(P,M){let I=j.blockers.get(P)||Xo;ke(I.state==="unblocked"&&M.state==="blocked"||I.state==="blocked"&&M.state==="blocked"||I.state==="blocked"&&M.state==="proceeding"||I.state==="blocked"&&M.state==="unblocked"||I.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+I.state+" -> "+M.state);let z=new Map(j.blockers);z.set(P,M),me({blockers:z})}function Xe(P){let{currentLocation:M,nextLocation:I,historyAction:z}=P;if(ue.size===0)return;ue.size>1&&fo(!1,"A router only supports one blocker at a time");let ee=Array.from(ue.entries()),[ie,ve]=ee[ee.length-1],ne=j.blockers.get(ie);if(!(ne&&ne.state==="proceeding")&&ve({currentLocation:M,nextLocation:I,historyAction:z}))return ie}function We(P){let M=yn(404,{pathname:P}),I=l||i,{matches:z,route:ee}=o0(I);return hn(),{notFoundMatches:z,route:ee,error:M}}function hn(P){let M=[];return Ve.forEach((I,z)=>{(!P||P(z))&&(I.cancel(),M.push(z),Ve.delete(z))}),M}function Wn(P,M,I){if(y=P,b=M,g=I||null,!x&&j.navigation===Xf){x=!0;let z=Av(j.location,j.matches);z!=null&&me({restoreScrollPosition:z})}return()=>{y=null,b=null,g=null}}function ya(P,M){return g&&g(P,M.map(z=>GE(z,j.loaderData)))||P.key}function bf(P,M){if(y&&b){let I=ya(P,M);y[I]=b()}}function Av(P,M){if(y){let I=ya(P,M),z=y[I];if(typeof z=="number")return z}return null}function jc(P,M,I){if(d)if(P){if(Object.keys(P[0].params).length>0)return{active:!0,matches:xu(M,I,c,!0)}}else return{active:!0,matches:xu(M,I,c,!0)||[]};return{active:!1,matches:null}}async function Sc(P,M,I){if(!d)return{type:"success",matches:P};let z=P;for(;;){let ee=l==null,ie=l||i,ve=a;try{await d({path:M,matches:z,patch:(te,oe)=>{I.aborted||t0(te,oe,ie,ve,s)}})}catch(te){return{type:"error",error:te,partialMatches:z}}finally{ee&&!I.aborted&&(i=[...i])}if(I.aborted)return{type:"aborted"};let ne=Ca(ie,M,c);if(ne)return{type:"success",matches:ne};let re=xu(ie,M,c,!0);if(!re||z.length===re.length&&z.every((te,oe)=>te.route.id===re[oe].route.id))return{type:"success",matches:null};z=re}}function fC(P){a={},l=ed(P,s,void 0,a)}function hC(P,M){let I=l==null;t0(P,M,l||i,a,s),I&&(i=[...i],me({}))}return S={get basename(){return c},get future(){return h},get state(){return j},get routes(){return i},get window(){return t},initialize:Pe,subscribe:Ce,enableScrollRestoration:Wn,navigate:Ot,fetch:fs,revalidate:nn,createHref:P=>e.history.createHref(P),encodeLocation:P=>e.history.encodeLocation(P),getFetcher:zr,deleteFetcher:wf,dispose:Ae,getBlocker:wr,deleteBlocker:_c,patchRoutes:hC,_internalFetchControllers:A,_internalActiveDeferreds:Ve,_internalSetRoutes:fC},S}function b2(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function bm(e,t,n,r,s,a,i,l){let c,u;if(i){c=[];for(let h of t)if(c.push(h),h.route.id===i){u=h;break}}else c=t,u=t[t.length-1];let d=Id(s||".",Ad(c,a),_o(e.pathname,n)||e.pathname,l==="path");if(s==null&&(d.search=e.search,d.hash=e.hash),(s==null||s===""||s===".")&&u){let h=hg(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let f=new URLSearchParams(d.search),p=f.getAll("index");f.delete("index"),p.filter(g=>g).forEach(g=>f.append("index",g));let y=f.toString();d.search=y?"?"+y:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:es([n,d.pathname])),Ga(d)}function Xy(e,t,n,r){if(!r||!b2(r))return{path:n};if(r.formMethod&&!D2(r.formMethod))return{path:n,error:yn(405,{method:r.formMethod})};let s=()=>({path:n,error:yn(400,{type:"invalid-body"})}),a=r.formMethod||"get",i=e?a.toUpperCase():a.toLowerCase(),l=i1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!or(i))return s();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,y)=>{let[g,b]=y;return""+p+g+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:i,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!or(i))return s();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:i,formAction:l,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}ke(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=jm(r.formData),u=r.formData;else if(r.body instanceof FormData)c=jm(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=r0(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=r0(c)}catch{return s()}let d={formMethod:i,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(or(d.formMethod))return{path:n,submission:d};let h=la(n);return t&&h.search&&hg(h.search)&&c.append("index",""),h.search="?"+c,{path:Ga(h),submission:d}}function Jy(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(s=>s.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function Zy(e,t,n,r,s,a,i,l,c,u,d,h,f,p,y,g){let b=g?Mn(g[1])?g[1].error:g[1].data:void 0,x=e.createURL(t.location),v=e.createURL(s),w=n;a&&t.errors?w=Jy(n,Object.keys(t.errors)[0],!0):g&&Mn(g[1])&&(w=Jy(n,g[0]));let _=g?g[1].statusCode:void 0,S=i&&_&&_>=400,j=w.filter((N,T)=>{let{route:R}=N;if(R.lazy)return!0;if(R.loader==null)return!1;if(a)return _m(R,t.loaderData,t.errors);if(_2(t.loaderData,t.matches[T],N)||c.some(F=>F===N.route.id))return!0;let L=t.matches[T],D=N;return e0(N,ct({currentUrl:x,currentParams:L.params,nextUrl:v,nextParams:D.params},r,{actionResult:b,actionStatus:_,defaultShouldRevalidate:S?!1:l||x.pathname+x.search===v.pathname+v.search||x.search!==v.search||s1(L,D)}))}),k=[];return h.forEach((N,T)=>{if(a||!n.some(H=>H.route.id===N.routeId)||d.has(T))return;let R=Ca(p,N.path,y);if(!R){k.push({key:T,routeId:N.routeId,path:N.path,matches:null,match:null,controller:null});return}let L=t.fetchers.get(T),D=dl(R,N.path),F=!1;f.has(T)?F=!1:u.has(T)?(u.delete(T),F=!0):L&&L.state!=="idle"&&L.data===void 0?F=l:F=e0(D,ct({currentUrl:x,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:_,defaultShouldRevalidate:S?!1:l})),F&&k.push({key:T,routeId:N.routeId,path:N.path,matches:R,match:D,controller:new AbortController})}),[j,k]}function _m(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,s=n!=null&&n[e.id]!==void 0;return!r&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!s}function _2(e,t,n){let r=!t||n.route.id!==t.route.id,s=e[n.route.id]===void 0;return r||s}function s1(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function e0(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function t0(e,t,n,r,s){var a;let i;if(e){let u=r[e];ke(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),i=u.children}else i=n;let l=t.filter(u=>!i.some(d=>a1(u,d))),c=ed(l,s,[e||"_","patch",String(((a=i)==null?void 0:a.length)||"0")],r);i.push(...c)}function a1(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var s;return(s=t.children)==null?void 0:s.some(a=>a1(n,a))}):!1}async function j2(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let s=n[e.id];ke(s,"No route found in manifest");let a={};for(let i in r){let c=s[i]!==void 0&&i!=="hasErrorBoundary";fo(!c,'Route "'+s.id+'" has a static property "'+i+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+i+'" will be ignored.')),!c&&!YE.has(i)&&(a[i]=r[i])}Object.assign(s,a),Object.assign(s,ct({},t(s),{lazy:void 0}))}async function S2(e){let{matches:t}=e,n=t.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,a,i)=>Object.assign(s,{[n[i].route.id]:a}),{})}async function N2(e,t,n,r,s,a,i,l,c,u){let d=a.map(p=>p.route.lazy?j2(p.route,c,l):void 0),h=a.map((p,y)=>{let g=d[y],b=s.some(v=>v.route.id===p.route.id);return ct({},p,{shouldLoad:b,resolve:async v=>(v&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(b=!0),b?C2(t,r,p,g,v,u):Promise.resolve({type:Je.data,result:void 0}))})}),f=await e({matches:h,request:r,params:a[0].params,fetcherKey:i,context:u});try{await Promise.all(d)}catch{}return f}async function C2(e,t,n,r,s,a){let i,l,c=u=>{let d,h=new Promise((y,g)=>d=g);l=()=>d(),t.signal.addEventListener("abort",l);let f=y=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:a},...y!==void 0?[y]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(g=>f(g)):f())}}catch(y){return{type:"error",result:y}}})();return Promise.race([p,h])};try{let u=n.route[e];if(r)if(u){let d,[h]=await Promise.all([c(u).catch(f=>{d=f}),r]);if(d!==void 0)throw d;i=h}else if(await r,u=n.route[e],u)i=await c(u);else if(e==="action"){let d=new URL(t.url),h=d.pathname+d.search;throw yn(405,{method:t.method,pathname:h,routeId:n.route.id})}else return{type:Je.data,result:void 0};else if(u)i=await c(u);else{let d=new URL(t.url),h=d.pathname+d.search;throw yn(404,{pathname:h})}ke(i.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Je.error,result:u}}finally{l&&t.signal.removeEventListener("abort",l)}return i}async function k2(e){let{result:t,type:n}=e;if(o1(t)){let u;try{let d=t.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?t.body==null?u=null:u=await t.json():u=await t.text()}catch(d){return{type:Je.error,error:d}}return n===Je.error?{type:Je.error,error:new td(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:Je.data,data:u,statusCode:t.status,headers:t.headers}}if(n===Je.error){if(l0(t)){var r;if(t.data instanceof Error){var s;return{type:Je.error,error:t.data,statusCode:(s=t.init)==null?void 0:s.status}}t=new td(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:Je.error,error:t,statusCode:Ld(t)?t.status:void 0}}if(R2(t)){var a,i;return{type:Je.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((i=t.init)==null?void 0:i.headers)&&new Headers(t.init.headers)}}if(l0(t)){var l,c;return{type:Je.data,data:t.data,statusCode:(l=t.init)==null?void 0:l.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:Je.data,data:t}}function E2(e,t,n,r,s,a){let i=e.headers.get("Location");if(ke(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!dg.test(i)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);i=bm(new URL(t.url),l,s,!0,i,a),e.headers.set("Location",i)}return e}function n0(e,t,n){if(dg.test(e)){let r=e,s=r.startsWith("//")?new URL(t.protocol+r):new URL(r),a=_o(s.pathname,n)!=null;if(s.origin===t.origin&&a)return s.pathname+s.search+s.hash}return e}function hi(e,t,n,r){let s=e.createURL(i1(t)).toString(),a={signal:n};if(r&&or(r.formMethod)){let{formMethod:i,formEncType:l}=r;a.method=i.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(r.json)):l==="text/plain"?a.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?a.body=jm(r.formData):a.body=r.formData}return new Request(s,a)}function jm(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function r0(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function P2(e,t,n,r,s){let a={},i=null,l,c=!1,u={},d=n&&Mn(n[1])?n[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let f=h.route.id,p=t[f];if(ke(!Ra(p),"Cannot handle redirect results in processLoaderData"),Mn(p)){let y=p.error;d!==void 0&&(y=d,d=void 0),i=i||{};{let g=ka(e,f);i[g.route.id]==null&&(i[g.route.id]=y)}a[f]=void 0,c||(c=!0,l=Ld(p.error)?p.error.status:500),p.headers&&(u[f]=p.headers)}else $s(p)?(r.set(f,p.deferredData),a[f]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(u[f]=p.headers)):(a[f]=p.data,p.statusCode&&p.statusCode!==200&&!c&&(l=p.statusCode),p.headers&&(u[f]=p.headers))}),d!==void 0&&n&&(i={[n[0]]:d},a[n[0]]=void 0),{loaderData:a,errors:i,statusCode:l||200,loaderHeaders:u}}function s0(e,t,n,r,s,a,i){let{loaderData:l,errors:c}=P2(t,n,r,i);return s.forEach(u=>{let{key:d,match:h,controller:f}=u,p=a[d];if(ke(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Mn(p)){let y=ka(e.matches,h==null?void 0:h.route.id);c&&c[y.route.id]||(c=ct({},c,{[y.route.id]:p.error})),e.fetchers.delete(d)}else if(Ra(p))ke(!1,"Unhandled fetcher revalidation redirect");else if($s(p))ke(!1,"Unhandled fetcher deferred data");else{let y=vs(p.data);e.fetchers.set(d,y)}}),{loaderData:l,errors:c}}function a0(e,t,n,r){let s=ct({},t);for(let a of n){let i=a.route.id;if(t.hasOwnProperty(i)?t[i]!==void 0&&(s[i]=t[i]):e[i]!==void 0&&a.route.loader&&(s[i]=e[i]),r&&r.hasOwnProperty(i))break}return s}function i0(e){return e?Mn(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ka(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function o0(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function yn(e,t){let{pathname:n,routeId:r,method:s,type:a,message:i}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",s&&n&&r?c="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"?c="defer() is not supported in actions":a==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+r+'" does not match URL "'+n+'"'):e===404?(l="Not Found",c='No route matches URL "'+n+'"'):e===405&&(l="Method Not Allowed",s&&n&&r?c="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(c='Invalid request method "'+s.toUpperCase()+'"')),new td(e||500,l,new Error(c),!0)}function qc(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,s]=t[n];if(Ra(s))return{key:r,result:s}}}function i1(e){let t=typeof e=="string"?la(e):e;return Ga(ct({},t,{hash:""}))}function T2(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function M2(e){return o1(e.result)&&g2.has(e.result.status)}function $s(e){return e.type===Je.deferred}function Mn(e){return e.type===Je.error}function Ra(e){return(e&&e.type)===Je.redirect}function l0(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function R2(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function o1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function D2(e){return p2.has(e.toLowerCase())}function or(e){return h2.has(e.toLowerCase())}async function O2(e,t,n,r,s){let a=Object.entries(t);for(let i=0;i<a.length;i++){let[l,c]=a[i],u=e.find(f=>(f==null?void 0:f.route.id)===l);if(!u)continue;let d=r.find(f=>f.route.id===u.route.id),h=d!=null&&!s1(d,u)&&(s&&s[u.route.id])!==void 0;$s(c)&&h&&await fg(c,n,!1).then(f=>{f&&(t[l]=f)})}}async function A2(e,t,n){for(let r=0;r<n.length;r++){let{key:s,routeId:a,controller:i}=n[r],l=t[s];e.find(u=>(u==null?void 0:u.route.id)===a)&&$s(l)&&(ke(i,"Expected an AbortController for revalidating fetcher deferred result"),await fg(l,i.signal,!0).then(u=>{u&&(t[s]=u)}))}}async function fg(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Je.data,data:e.deferredData.unwrappedData}}catch(s){return{type:Je.error,error:s}}return{type:Je.data,data:e.deferredData.data}}}function hg(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function dl(e,t){let n=typeof t=="string"?la(t).search:t.search;if(e[e.length-1].route.index&&hg(n||""))return e[e.length-1];let r=t1(e);return r[r.length-1]}function c0(e){let{formMethod:t,formAction:n,formEncType:r,text:s,formData:a,json:i}=e;if(!(!t||!n||!r)){if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:i,text:void 0}}}function Jf(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function I2(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Jo(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function L2(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function vs(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function F2(e,t){try{let n=e.sessionStorage.getItem(r1);if(n){let r=JSON.parse(n);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&t.set(s,new Set(a||[]))}}catch{}}function $2(e,t){if(t.size>0){let n={};for(let[r,s]of t)n[r]=[...s];try{e.sessionStorage.setItem(r1,JSON.stringify(n))}catch(r){fo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(this,arguments)}const Fd=m.createContext(null),l1=m.createContext(null),ca=m.createContext(null),mg=m.createContext(null),us=m.createContext({outlet:null,matches:[],isDataRoute:!1}),c1=m.createContext(null);function U2(e,t){let{relative:n}=t===void 0?{}:t;jo()||ke(!1);let{basename:r,navigator:s}=m.useContext(ca),{hash:a,pathname:i,search:l}=d1(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:es([r,i])),s.createHref({pathname:c,search:l,hash:a})}function jo(){return m.useContext(mg)!=null}function yr(){return jo()||ke(!1),m.useContext(mg).location}function u1(e){m.useContext(ca).static||m.useLayoutEffect(e)}function tn(){let{isDataRoute:e}=m.useContext(us);return e?J2():z2()}function z2(){jo()||ke(!1);let e=m.useContext(Fd),{basename:t,future:n,navigator:r}=m.useContext(ca),{matches:s}=m.useContext(us),{pathname:a}=yr(),i=JSON.stringify(Ad(s,n.v7_relativeSplatPath)),l=m.useRef(!1);return u1(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Id(u,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:es([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,a,e])}function $d(){let{matches:e}=m.useContext(us),t=e[e.length-1];return t?t.params:{}}function d1(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=m.useContext(ca),{matches:s}=m.useContext(us),{pathname:a}=yr(),i=JSON.stringify(Ad(s,r.v7_relativeSplatPath));return m.useMemo(()=>Id(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function B2(e,t,n,r){jo()||ke(!1);let{navigator:s}=m.useContext(ca),{matches:a}=m.useContext(us),i=a[a.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=yr(),d;d=u;let h=d.pathname||"/",f=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let p=Ca(e,{pathname:f});return Y2(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:es([c,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:es([c,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,n,r)}function W2(){let e=X2(),t=Ld(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,null)}const H2=m.createElement(W2,null);class q2 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(us.Provider,{value:this.props.routeContext},m.createElement(c1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V2(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(Fd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(us.Provider,{value:t},r)}function Y2(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ke(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let p,y=!1,g=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||H2,c&&(u<0&&f===0?(y=!0,b=null):u===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,f+1)),v=()=>{let w;return p?w=g:y?w=b:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,m.createElement(V2,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(q2,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var f1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(f1||{}),rd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rd||{});function K2(e){let t=m.useContext(Fd);return t||ke(!1),t}function G2(e){let t=m.useContext(l1);return t||ke(!1),t}function Q2(e){let t=m.useContext(us);return t||ke(!1),t}function h1(e){let t=Q2(),n=t.matches[t.matches.length-1];return n.route.id||ke(!1),n.route.id}function X2(){var e;let t=m.useContext(c1),n=G2(rd.UseRouteError),r=h1(rd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function J2(){let{router:e}=K2(f1.UseNavigateStable),t=h1(rd.UseNavigateStable),n=m.useRef(!1);return u1(()=>{n.current=!0}),m.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,nd({fromRouteId:t},a)))},[e,t])}function sd(e){let{to:t,replace:n,state:r,relative:s}=e;jo()||ke(!1);let{future:a,static:i}=m.useContext(ca),{matches:l}=m.useContext(us),{pathname:c}=yr(),u=tn(),d=Id(t,Ad(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Z2(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ct.Pop,navigator:a,static:i=!1,future:l}=e;jo()&&ke(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:i,future:nd({v7_relativeSplatPath:!1},l)}),[c,l,a,i]);typeof r=="string"&&(r=la(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=r,g=m.useMemo(()=>{let b=_o(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:y},navigationType:s}},[c,d,h,f,p,y,s]);return g==null?null:m.createElement(ca.Provider,{value:u},m.createElement(mg.Provider,{children:n,value:g}))}new Promise(()=>{});function eP(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:m.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:m.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:m.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yl.apply(this,arguments)}function tP(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function nP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rP(e,t){return e.button===0&&(!t||t==="_self")&&!nP(e)}function Sm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function sP(e,t){let n=Sm(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const aP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iP="6";try{window.__reactRouterVersion=iP}catch{}function oP(e,t){return w2({basename:void 0,future:Yl({},void 0,{v7_prependBasename:!0}),history:HE({window:void 0}),hydrationData:lP(),routes:e,mapRouteProperties:eP,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function lP(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Yl({},t,{errors:cP(t.errors)})),t}function cP(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,s]of t)if(s&&s.__type==="RouteErrorResponse")n[r]=new td(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let i=new a(s.message);i.stack="",n[r]=i}catch{}}if(n[r]==null){let a=new Error(s.message);a.stack="",n[r]=a}}else n[r]=s;return n}const uP=m.createContext({isTransitioning:!1}),dP=m.createContext(new Map),fP="startTransition",u0=Gx[fP],hP="flushSync",d0=WE[hP];function mP(e){u0?u0(e):e()}function Zo(e){d0?d0(e):e()}let pP=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function gP(e){let{fallbackElement:t,router:n,future:r}=e,[s,a]=m.useState(n.state),[i,l]=m.useState(),[c,u]=m.useState({isTransitioning:!1}),[d,h]=m.useState(),[f,p]=m.useState(),[y,g]=m.useState(),b=m.useRef(new Map),{v7_startTransition:x}=r||{},v=m.useCallback(N=>{x?mP(N):N()},[x]),w=m.useCallback((N,T)=>{let{deletedFetchers:R,flushSync:L,viewTransitionOpts:D}=T;R.forEach(H=>b.current.delete(H)),N.fetchers.forEach((H,K)=>{H.data!==void 0&&b.current.set(K,H.data)});let F=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||F){L?Zo(()=>a(N)):v(()=>a(N));return}if(L){Zo(()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let H=n.window.document.startViewTransition(()=>{Zo(()=>a(N))});H.finished.finally(()=>{Zo(()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})}),Zo(()=>p(H));return}f?(d&&d.resolve(),f.skipTransition(),g({state:N,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(N),u({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,f,d,b,v]);m.useLayoutEffect(()=>n.subscribe(w),[n,w]),m.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new pP)},[c]),m.useEffect(()=>{if(d&&i&&n.window){let N=i,T=d.promise,R=n.window.document.startViewTransition(async()=>{v(()=>a(N)),await T});R.finished.finally(()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}),p(R)}},[v,i,d,n.window]),m.useEffect(()=>{d&&i&&s.location.key===i.location.key&&d.resolve()},[d,f,s.location,i]),m.useEffect(()=>{!c.isTransitioning&&y&&(l(y.state),u({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),g(void 0))},[c.isTransitioning,y]),m.useEffect(()=>{},[]);let _=m.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:N=>n.navigate(N),push:(N,T,R)=>n.navigate(N,{state:T,preventScrollReset:R==null?void 0:R.preventScrollReset}),replace:(N,T,R)=>n.navigate(N,{replace:!0,state:T,preventScrollReset:R==null?void 0:R.preventScrollReset})}),[n]),S=n.basename||"/",j=m.useMemo(()=>({router:n,navigator:_,static:!1,basename:S}),[n,_,S]),k=m.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return m.createElement(m.Fragment,null,m.createElement(Fd.Provider,{value:j},m.createElement(l1.Provider,{value:s},m.createElement(dP.Provider,{value:b.current},m.createElement(uP.Provider,{value:c},m.createElement(Z2,{basename:S,location:s.location,navigationType:s.historyAction,navigator:_,future:k},s.initialized||n.future.v7_partialHydration?m.createElement(vP,{routes:n.routes,future:n.future,state:s}):t))))),null)}const vP=m.memo(yP);function yP(e){let{routes:t,future:n,state:r}=e;return B2(t,void 0,r,n)}const xP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=m.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=tP(t,aP),{basename:p}=m.useContext(ca),y,g=!1;if(typeof u=="string"&&wP.test(u)&&(y=u,xP))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=_o(_.pathname,p);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let b=U2(u,{relative:s}),x=bP(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||x(w)}return m.createElement("a",Yl({},f,{href:y||b,onClick:g||a?r:v,ref:n,target:c}))});var f0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(f0||(f0={}));var h0;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(h0||(h0={}));function bP(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:l}=t===void 0?{}:t,c=tn(),u=yr(),d=d1(e,{relative:i});return m.useCallback(h=>{if(rP(h,n)){h.preventDefault();let f=r!==void 0?r:Ga(u)===Ga(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:i,viewTransition:l})}},[u,c,d,r,s,n,e,a,i,l])}function _P(e){let t=m.useRef(Sm(e)),n=m.useRef(!1),r=yr(),s=m.useMemo(()=>sP(r.search,n.current?null:t.current),[r.search]),a=tn(),i=m.useCallback((l,c)=>{const u=Sm(typeof l=="function"?l(s):l);n.current=!0,a("?"+u,c)},[a,s]);return[s,i]}var So=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qa=typeof window>"u"||"Deno"in globalThis;function qn(){}function jP(e,t){return typeof e=="function"?e(t):e}function Nm(e){return typeof e=="number"&&e>=0&&e!==1/0}function m1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ui(e,t){return typeof e=="function"?e(t):e}function ur(e,t){return typeof e=="function"?e(t):e}function m0(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==pg(i,t.options))return!1}else if(!Kl(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function p0(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Xa(t.options.mutationKey)!==Xa(a))return!1}else if(!Kl(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function pg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xa)(e)}function Xa(e){return JSON.stringify(e,(t,n)=>Cm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Kl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Kl(e[n],t[n])):!1}function p1(e,t){if(e===t)return e;const n=g0(e)&&g0(t);if(n||Cm(e)&&Cm(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),i=a.length,l=n?[]:{};let c=0;for(let u=0;u<i;u++){const d=n?u:a[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=p1(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function ad(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function g0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cm(e){if(!v0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!v0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function v0(e){return Object.prototype.toString.call(e)==="[object Object]"}function SP(e){return new Promise(t=>{setTimeout(t,e)})}function km(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?p1(e,t):t}function NP(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function CP(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gg=Symbol();function g1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Oa,Es,qi,kx,kP=(kx=class extends So{constructor(){super();ce(this,Oa);ce(this,Es);ce(this,qi);G(this,qi,t=>{if(!Qa&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,Es)||this.setEventListener(E(this,qi))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Es))==null||t.call(this),G(this,Es,void 0))}setEventListener(t){var n;G(this,qi,t),(n=E(this,Es))==null||n.call(this),G(this,Es,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){E(this,Oa)!==t&&(G(this,Oa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof E(this,Oa)=="boolean"?E(this,Oa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Oa=new WeakMap,Es=new WeakMap,qi=new WeakMap,kx),vg=new kP,Vi,Ps,Yi,Ex,EP=(Ex=class extends So{constructor(){super();ce(this,Vi,!0);ce(this,Ps);ce(this,Yi);G(this,Yi,t=>{if(!Qa&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,Ps)||this.setEventListener(E(this,Yi))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Ps))==null||t.call(this),G(this,Ps,void 0))}setEventListener(t){var n;G(this,Yi,t),(n=E(this,Ps))==null||n.call(this),G(this,Ps,t(this.setOnline.bind(this)))}setOnline(t){E(this,Vi)!==t&&(G(this,Vi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return E(this,Vi)}},Vi=new WeakMap,Ps=new WeakMap,Yi=new WeakMap,Ex),id=new EP;function Em(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function PP(e){return Math.min(1e3*2**e,3e4)}function v1(e){return(e??"online")==="online"?id.isOnline():!0}var y1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zf(e){return e instanceof y1}function x1(e){let t=!1,n=0,r=!1,s;const a=Em(),i=g=>{var b;r||(f(new y1(g)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>vg.isFocused()&&(e.networkMode==="always"||id.isOnline())&&e.canRun(),d=()=>v1(e.networkMode)&&e.canRun(),h=g=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,g),s==null||s(),a.resolve(g))},f=g=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,g),s==null||s(),a.reject(g))},p=()=>new Promise(g=>{var b;s=x=>{(r||u())&&g(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const b=n===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var j;if(r)return;const v=e.retry??(Qa?0:3),w=e.retryDelay??PP,_=typeof w=="function"?w(n,x):w,S=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(t||!S){f(x);return}n++,(j=e.onFail)==null||j.call(e,n,x),SP(_).then(()=>u()?void 0:p()).then(()=>{t?f(x):y()})})};return{promise:a,cancel:i,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}function TP(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Mt=TP(),Aa,Px,w1=(Px=class{constructor(){ce(this,Aa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Nm(this.gcTime)&&G(this,Aa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qa?1/0:5*60*1e3))}clearGcTimeout(){E(this,Aa)&&(clearTimeout(E(this,Aa)),G(this,Aa,void 0))}},Aa=new WeakMap,Px),Ki,Gi,Hn,Gt,ec,Ia,ar,qr,Tx,MP=(Tx=class extends w1{constructor(t){super();ce(this,ar);ce(this,Ki);ce(this,Gi);ce(this,Hn);ce(this,Gt);ce(this,ec);ce(this,Ia);G(this,Ia,!1),G(this,ec,t.defaultOptions),this.setOptions(t.options),this.observers=[],G(this,Hn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,G(this,Ki,RP(this.options)),this.state=t.state??E(this,Ki),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,Gt))==null?void 0:t.promise}setOptions(t){this.options={...E(this,ec),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Hn).remove(this)}setData(t,n){const r=km(this.state.data,t,this.options);return je(this,ar,qr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){je(this,ar,qr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=E(this,Gt))==null?void 0:r.promise;return(s=E(this,Gt))==null||s.cancel(t),n?n.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Ki))}isActive(){return this.observers.some(t=>ur(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!m1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=E(this,Gt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=E(this,Gt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,Hn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(E(this,Gt)&&(E(this,Ia)?E(this,Gt).cancel({revert:!0}):E(this,Gt).cancelRetry()),this.scheduleGc()),E(this,Hn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,ar,qr).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,Gt))return E(this,Gt).continueRetry(),E(this,Gt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(G(this,Ia,!0),r.signal)})},a=()=>{const h=g1(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),G(this,Ia,!1),this.options.persister?this.options.persister(h,f,this):h(f)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),G(this,Gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&je(this,ar,qr).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,p,y,g;Zf(h)&&h.silent||je(this,ar,qr).call(this,{type:"error",error:h}),Zf(h)||((p=(f=E(this,Hn).config).onError)==null||p.call(f,h,this),(g=(y=E(this,Hn).config).onSettled)==null||g.call(y,this.state.data,h,this)),this.scheduleGc()};return G(this,Gt,x1({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,p,y,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){l(b);return}(p=(f=E(this,Hn).config).onSuccess)==null||p.call(f,h,this),(g=(y=E(this,Hn).config).onSettled)==null||g.call(y,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{je(this,ar,qr).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{je(this,ar,qr).call(this,{type:"pause"})},onContinue:()=>{je(this,ar,qr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),E(this,Gt).start()}},Ki=new WeakMap,Gi=new WeakMap,Hn=new WeakMap,Gt=new WeakMap,ec=new WeakMap,Ia=new WeakMap,ar=new WeakSet,qr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...b1(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Zf(s)&&s.revert&&E(this,Gi)?{...E(this,Gi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,Hn).notify({query:this,type:"updated",action:t})})},Tx);function b1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Nr,Mx,DP=(Mx=class extends So{constructor(t={}){super();ce(this,Nr);this.config=t,G(this,Nr,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??pg(s,n);let i=this.get(a);return i||(i=new MP({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){E(this,Nr).has(t.queryHash)||(E(this,Nr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=E(this,Nr).get(t.queryHash);n&&(t.destroy(),n===t&&E(this,Nr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,Nr).get(t)}getAll(){return[...E(this,Nr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>m0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>m0(t,r)):n}notify(t){Mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Nr=new WeakMap,Mx),Cr,sn,La,kr,ys,Rx,OP=(Rx=class extends w1{constructor(t){super();ce(this,kr);ce(this,Cr);ce(this,sn);ce(this,La);this.mutationId=t.mutationId,G(this,sn,t.mutationCache),G(this,Cr,[]),this.state=t.state||_1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,Cr).includes(t)||(E(this,Cr).push(t),this.clearGcTimeout(),E(this,sn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){G(this,Cr,E(this,Cr).filter(n=>n!==t)),this.scheduleGc(),E(this,sn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,Cr).length||(this.state.status==="pending"?this.scheduleGc():E(this,sn).remove(this))}continue(){var t;return((t=E(this,La))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,i,l,c,u,d,h,f,p,y,g,b,x,v,w,_,S,j,k;G(this,La,x1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,T)=>{je(this,kr,ys).call(this,{type:"failed",failureCount:N,error:T})},onPause:()=>{je(this,kr,ys).call(this,{type:"pause"})},onContinue:()=>{je(this,kr,ys).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,sn).canRun(this)}));const n=this.state.status==="pending",r=!E(this,La).canStart();try{if(!n){je(this,kr,ys).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(s=E(this,sn).config).onMutate)==null?void 0:a.call(s,t,this));const T=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));T!==this.state.context&&je(this,kr,ys).call(this,{type:"pending",context:T,variables:t,isPaused:r})}const N=await E(this,La).start();return await((u=(c=E(this,sn).config).onSuccess)==null?void 0:u.call(c,N,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,N,t,this.state.context)),await((p=(f=E(this,sn).config).onSettled)==null?void 0:p.call(f,N,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,N,null,t,this.state.context)),je(this,kr,ys).call(this,{type:"success",data:N}),N}catch(N){try{throw await((x=(b=E(this,sn).config).onError)==null?void 0:x.call(b,N,t,this.state.context,this)),await((w=(v=this.options).onError)==null?void 0:w.call(v,N,t,this.state.context)),await((S=(_=E(this,sn).config).onSettled)==null?void 0:S.call(_,void 0,N,this.state.variables,this.state.context,this)),await((k=(j=this.options).onSettled)==null?void 0:k.call(j,void 0,N,t,this.state.context)),N}finally{je(this,kr,ys).call(this,{type:"error",error:N})}}finally{E(this,sn).runNext(this)}}},Cr=new WeakMap,sn=new WeakMap,La=new WeakMap,kr=new WeakSet,ys=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mt.batch(()=>{E(this,Cr).forEach(r=>{r.onMutationUpdate(t)}),E(this,sn).notify({mutation:this,type:"updated",action:t})})},Rx);function _1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var En,tc,Dx,AP=(Dx=class extends So{constructor(t={}){super();ce(this,En);ce(this,tc);this.config=t,G(this,En,new Map),G(this,tc,Date.now())}build(t,n,r){const s=new OP({mutationCache:this,mutationId:++kc(this,tc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Vc(t),r=E(this,En).get(n)??[];r.push(t),E(this,En).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Vc(t);if(E(this,En).has(n)){const s=(r=E(this,En).get(n))==null?void 0:r.filter(a=>a!==t);s&&(s.length===0?E(this,En).delete(n):E(this,En).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=E(this,En).get(Vc(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=E(this,En).get(Vc(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...E(this,En).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>p0(n,r))}findAll(t={}){return this.getAll().filter(n=>p0(t,n))}notify(t){Mt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(t.map(n=>n.continue().catch(qn))))}},En=new WeakMap,tc=new WeakMap,Dx);function Vc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function y0(e){return{onFetch:(t,n)=>{var d,h,f,p,y;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=g1(t.options,t.fetchOptions),v=async(w,_,S)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const j={queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};b(j);const k=await x(j),{maxPages:N}=t.options,T=S?CP:NP;return{pages:T(w.pages,k,N),pageParams:T(w.pageParams,_,N)}};if(s&&a.length){const w=s==="backward",_=w?IP:x0,S={pages:a,pageParams:i},j=_(r,S);l=await v(S,j,w)}else{const w=e??a.length;do{const _=c===0?i[0]??r.initialPageParam:x0(r,l);if(c>0&&_==null)break;l=await v(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function x0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IP(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var yt,Ts,Ms,Qi,Xi,Rs,Ji,Zi,Ox,LP=(Ox=class{constructor(e={}){ce(this,yt);ce(this,Ts);ce(this,Ms);ce(this,Qi);ce(this,Xi);ce(this,Rs);ce(this,Ji);ce(this,Zi);G(this,yt,e.queryCache||new DP),G(this,Ts,e.mutationCache||new AP),G(this,Ms,e.defaultOptions||{}),G(this,Qi,new Map),G(this,Xi,new Map),G(this,Rs,0)}mount(){kc(this,Rs)._++,E(this,Rs)===1&&(G(this,Ji,vg.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,yt).onFocus())})),G(this,Zi,id.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,yt).onOnline())})))}unmount(){var e,t;kc(this,Rs)._--,E(this,Rs)===0&&((e=E(this,Ji))==null||e.call(this),G(this,Ji,void 0),(t=E(this,Zi))==null||t.call(this),G(this,Zi,void 0))}isFetching(e){return E(this,yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,Ts).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=E(this,yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=E(this,yt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Ui(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return E(this,yt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=E(this,yt).get(r.queryHash),a=s==null?void 0:s.state.data,i=jP(t,a);if(i!==void 0)return E(this,yt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Mt.batch(()=>E(this,yt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=E(this,yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=E(this,yt);Mt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=E(this,yt),r={type:"active",...e};return Mt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Mt.batch(()=>E(this,yt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(qn).catch(qn)}invalidateQueries(e={},t={}){return Mt.batch(()=>{if(E(this,yt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Mt.batch(()=>E(this,yt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(qn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(qn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=E(this,yt).build(this,t);return n.isStaleByTime(Ui(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qn).catch(qn)}fetchInfiniteQuery(e){return e.behavior=y0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qn).catch(qn)}ensureInfiniteQueryData(e){return e.behavior=y0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return id.isOnline()?E(this,Ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,yt)}getMutationCache(){return E(this,Ts)}getDefaultOptions(){return E(this,Ms)}setDefaultOptions(e){G(this,Ms,e)}setQueryDefaults(e,t){E(this,Qi).set(Xa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,Qi).values()];let n={};return t.forEach(r=>{Kl(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){E(this,Xi).set(Xa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,Xi).values()];let n={};return t.forEach(r=>{Kl(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,Ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=pg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===gg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,Ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,yt).clear(),E(this,Ts).clear()}},yt=new WeakMap,Ts=new WeakMap,Ms=new WeakMap,Qi=new WeakMap,Xi=new WeakMap,Rs=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,Ox),gn,De,nc,an,Fa,eo,Ds,Er,rc,to,no,$a,Ua,Os,ro,qe,fl,Pm,Tm,Mm,Rm,Dm,Om,Am,j1,Ax,FP=(Ax=class extends So{constructor(t,n){super();ce(this,qe);ce(this,gn);ce(this,De);ce(this,nc);ce(this,an);ce(this,Fa);ce(this,eo);ce(this,Ds);ce(this,Er);ce(this,rc);ce(this,to);ce(this,no);ce(this,$a);ce(this,Ua);ce(this,Os);ce(this,ro,new Set);this.options=n,G(this,gn,t),G(this,Er,null),G(this,Ds,Em()),this.options.experimental_prefetchInRender||E(this,Ds).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,De).addObserver(this),w0(E(this,De),this.options)?je(this,qe,fl).call(this):this.updateResult(),je(this,qe,Rm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Im(E(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Im(E(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,qe,Dm).call(this),je(this,qe,Om).call(this),E(this,De).removeObserver(this)}setOptions(t,n){const r=this.options,s=E(this,De);if(this.options=E(this,gn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ur(this.options.enabled,E(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,qe,Am).call(this),E(this,De).setOptions(this.options),r._defaulted&&!ad(this.options,r)&&E(this,gn).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,De),observer:this});const a=this.hasListeners();a&&b0(E(this,De),s,this.options,r)&&je(this,qe,fl).call(this),this.updateResult(n),a&&(E(this,De)!==s||ur(this.options.enabled,E(this,De))!==ur(r.enabled,E(this,De))||Ui(this.options.staleTime,E(this,De))!==Ui(r.staleTime,E(this,De)))&&je(this,qe,Pm).call(this);const i=je(this,qe,Tm).call(this);a&&(E(this,De)!==s||ur(this.options.enabled,E(this,De))!==ur(r.enabled,E(this,De))||i!==E(this,Os))&&je(this,qe,Mm).call(this,i)}getOptimisticResult(t){const n=E(this,gn).getQueryCache().build(E(this,gn),t),r=this.createResult(n,t);return UP(this,r)&&(G(this,an,r),G(this,eo,this.options),G(this,Fa,E(this,De).state)),r}getCurrentResult(){return E(this,an)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){E(this,ro).add(t)}getCurrentQuery(){return E(this,De)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=E(this,gn).defaultQueryOptions(t),r=E(this,gn).getQueryCache().build(E(this,gn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return je(this,qe,fl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,an)))}createResult(t,n){var N;const r=E(this,De),s=this.options,a=E(this,an),i=E(this,Fa),l=E(this,eo),u=t!==r?t.state:E(this,nc),{state:d}=t;let h={...d},f=!1,p;if(n._optimisticResults){const T=this.hasListeners(),R=!T&&w0(t,n),L=T&&b0(t,r,n,s);(R||L)&&(h={...h,...b1(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:g,status:b}=h;if(n.select&&h.data!==void 0)if(a&&h.data===(i==null?void 0:i.data)&&n.select===E(this,rc))p=E(this,to);else try{G(this,rc,n.select),p=n.select(h.data),p=km(a==null?void 0:a.data,p,n),G(this,to,p),G(this,Er,null)}catch(T){G(this,Er,T)}else p=h.data;if(n.placeholderData!==void 0&&p===void 0&&b==="pending"){let T;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))T=a.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((N=E(this,no))==null?void 0:N.state.data,E(this,no)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),G(this,Er,null)}catch(R){G(this,Er,R)}T!==void 0&&(b="success",p=km(a==null?void 0:a.data,T,n),f=!0)}E(this,Er)&&(y=E(this,Er),p=E(this,to),g=Date.now(),b="error");const x=h.fetchStatus==="fetching",v=b==="pending",w=b==="error",_=v&&x,S=p!==void 0,k={status:b,fetchStatus:h.fetchStatus,isPending:v,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!v,isLoadingError:w&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&S,isStale:yg(t,n),refetch:this.refetch,promise:E(this,Ds)};if(this.options.experimental_prefetchInRender){const T=D=>{k.status==="error"?D.reject(k.error):k.data!==void 0&&D.resolve(k.data)},R=()=>{const D=G(this,Ds,k.promise=Em());T(D)},L=E(this,Ds);switch(L.status){case"pending":t.queryHash===r.queryHash&&T(L);break;case"fulfilled":(k.status==="error"||k.data!==L.value)&&R();break;case"rejected":(k.status!=="error"||k.error!==L.reason)&&R();break}}return k}updateResult(t){const n=E(this,an),r=this.createResult(E(this,De),this.options);if(G(this,Fa,E(this,De).state),G(this,eo,this.options),E(this,Fa).data!==void 0&&G(this,no,E(this,De)),ad(r,n))return;G(this,an,r);const s={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!E(this,ro).size)return!0;const c=new Set(l??E(this,ro));return this.options.throwOnError&&c.add("error"),Object.keys(E(this,an)).some(u=>{const d=u;return E(this,an)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),je(this,qe,j1).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,qe,Rm).call(this)}},gn=new WeakMap,De=new WeakMap,nc=new WeakMap,an=new WeakMap,Fa=new WeakMap,eo=new WeakMap,Ds=new WeakMap,Er=new WeakMap,rc=new WeakMap,to=new WeakMap,no=new WeakMap,$a=new WeakMap,Ua=new WeakMap,Os=new WeakMap,ro=new WeakMap,qe=new WeakSet,fl=function(t){je(this,qe,Am).call(this);let n=E(this,De).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(qn)),n},Pm=function(){je(this,qe,Dm).call(this);const t=Ui(this.options.staleTime,E(this,De));if(Qa||E(this,an).isStale||!Nm(t))return;const r=m1(E(this,an).dataUpdatedAt,t)+1;G(this,$a,setTimeout(()=>{E(this,an).isStale||this.updateResult()},r))},Tm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,De)):this.options.refetchInterval)??!1},Mm=function(t){je(this,qe,Om).call(this),G(this,Os,t),!(Qa||ur(this.options.enabled,E(this,De))===!1||!Nm(E(this,Os))||E(this,Os)===0)&&G(this,Ua,setInterval(()=>{(this.options.refetchIntervalInBackground||vg.isFocused())&&je(this,qe,fl).call(this)},E(this,Os)))},Rm=function(){je(this,qe,Pm).call(this),je(this,qe,Mm).call(this,je(this,qe,Tm).call(this))},Dm=function(){E(this,$a)&&(clearTimeout(E(this,$a)),G(this,$a,void 0))},Om=function(){E(this,Ua)&&(clearInterval(E(this,Ua)),G(this,Ua,void 0))},Am=function(){const t=E(this,gn).getQueryCache().build(E(this,gn),this.options);if(t===E(this,De))return;const n=E(this,De);G(this,De,t),G(this,nc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},j1=function(t){Mt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(E(this,an))}),E(this,gn).getQueryCache().notify({query:E(this,De),type:"observerResultsUpdated"})})},Ax);function $P(e,t){return ur(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function w0(e,t){return $P(e,t)||e.state.data!==void 0&&Im(e,t,t.refetchOnMount)}function Im(e,t,n){if(ur(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&yg(e,t)}return!1}function b0(e,t,n,r){return(e!==t||ur(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&yg(e,n)}function yg(e,t){return ur(t.enabled,e)!==!1&&e.isStaleByTime(Ui(t.staleTime,e))}function UP(e,t){return!ad(e.getCurrentResult(),t)}var As,Is,vn,Gr,ts,wu,Lm,Ix,zP=(Ix=class extends So{constructor(n,r){super();ce(this,ts);ce(this,As);ce(this,Is);ce(this,vn);ce(this,Gr);G(this,As,n),this.setOptions(r),this.bindMethods(),je(this,ts,wu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=E(this,As).defaultMutationOptions(n),ad(this.options,r)||E(this,As).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,vn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Xa(r.mutationKey)!==Xa(this.options.mutationKey)?this.reset():((s=E(this,vn))==null?void 0:s.state.status)==="pending"&&E(this,vn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,vn))==null||n.removeObserver(this)}onMutationUpdate(n){je(this,ts,wu).call(this),je(this,ts,Lm).call(this,n)}getCurrentResult(){return E(this,Is)}reset(){var n;(n=E(this,vn))==null||n.removeObserver(this),G(this,vn,void 0),je(this,ts,wu).call(this),je(this,ts,Lm).call(this)}mutate(n,r){var s;return G(this,Gr,r),(s=E(this,vn))==null||s.removeObserver(this),G(this,vn,E(this,As).getMutationCache().build(E(this,As),this.options)),E(this,vn).addObserver(this),E(this,vn).execute(n)}},As=new WeakMap,Is=new WeakMap,vn=new WeakMap,Gr=new WeakMap,ts=new WeakSet,wu=function(){var r;const n=((r=E(this,vn))==null?void 0:r.state)??_1();G(this,Is,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Lm=function(n){Mt.batch(()=>{var r,s,a,i,l,c,u,d;if(E(this,Gr)&&this.hasListeners()){const h=E(this,Is).variables,f=E(this,Is).context;(n==null?void 0:n.type)==="success"?((s=(r=E(this,Gr)).onSuccess)==null||s.call(r,n.data,h,f),(i=(a=E(this,Gr)).onSettled)==null||i.call(a,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=E(this,Gr)).onError)==null||c.call(l,n.error,h,f),(d=(u=E(this,Gr)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(E(this,Is))})})},Ix),S1=m.createContext(void 0),ds=e=>{const t=m.useContext(S1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},BP=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(S1.Provider,{value:e,children:t})),N1=m.createContext(!1),WP=()=>m.useContext(N1);N1.Provider;function HP(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qP=m.createContext(HP()),VP=()=>m.useContext(qP);function C1(e,t){return typeof e=="function"?e(...t):!!e}function k1(){}var YP=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},KP=e=>{m.useEffect(()=>{e.clearReset()},[e])},GP=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&C1(n,[e.error,r]),QP=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},XP=(e,t)=>e.isLoading&&e.isFetching&&!t,JP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function ZP(e,t,n){var d,h,f,p,y;const r=ds(),s=WP(),a=VP(),i=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,i),i._optimisticResults=s?"isRestoring":"optimistic",QP(i),YP(i,a),KP(a);const l=!r.getQueryCache().get(i.queryHash),[c]=m.useState(()=>new t(r,i)),u=c.getOptimisticResult(i);if(m.useSyncExternalStore(m.useCallback(g=>{const b=s?()=>{}:c.subscribe(Mt.batchCalls(g));return c.updateResult(),b},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),JP(i,u))throw _0(i,c,a);if(GP({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw u.error;if((p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||p.call(f,i,u),i.experimental_prefetchInRender&&!Qa&&XP(u,s)){const g=l?_0(i,c,a):(y=r.getQueryCache().get(i.queryHash))==null?void 0:y.promise;g==null||g.catch(k1).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Ft(e,t){return ZP(e,FP)}function Jr(e,t){const n=ds(),[r]=m.useState(()=>new zP(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const s=m.useSyncExternalStore(m.useCallback(i=>r.subscribe(Mt.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=m.useCallback((i,l)=>{r.mutate(i,l).catch(k1)},[r]);if(s.error&&C1(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const eT={theme:"system",setTheme:()=>null},tT=m.createContext(eT);function nT({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[s,a]=m.useState(()=>localStorage.getItem(n)||t);m.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const i={theme:s,setTheme:l=>{localStorage.setItem(n,l),a(l)}};return o.jsx(tT.Provider,{...r,value:i,children:e})}var rT=e=>{switch(e){case"success":return iT;case"info":return lT;case"warning":return oT;case"error":return cT;default:return null}},sT=Array(12).fill(0),aT=({visible:e})=>V.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},V.createElement("div",{className:"sonner-spinner"},sT.map((t,n)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),iT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uT=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Fm=1,dT=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Fm++,a=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async a=>{if(hT(a)&&!a.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${a.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${a.status}`):t.description;this.create({id:n,type:"error",message:i,description:l})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(a):t.success,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"success",message:i,description:l})}}).catch(async a=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(a):t.error,l=typeof t.description=="function"?await t.description(a):t.description;this.create({id:n,type:"error",message:i,description:l})}}).finally(()=>{var a;s&&(this.dismiss(n),n=void 0),(a=t.finally)==null||a.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Fm++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Pn=new dT,fT=(e,t)=>{let n=(t==null?void 0:t.id)||Fm++;return Pn.addToast({title:e,...t,id:n}),n},hT=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",mT=fT,pT=()=>Pn.toasts,gT=Object.assign(mT,{success:Pn.success,info:Pn.info,warning:Pn.warning,error:Pn.error,custom:Pn.custom,message:Pn.message,promise:Pn.promise,dismiss:Pn.dismiss,loading:Pn.loading},{getHistory:pT});function vT(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}vT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yc(e){return e.label!==void 0}var yT=3,xT="32px",wT=4e3,bT=356,_T=14,jT=20,ST=200;function NT(...e){return e.filter(Boolean).join(" ")}var CT=e=>{var t,n,r,s,a,i,l,c,u,d;let{invert:h,toast:f,unstyled:p,interacting:y,setHeights:g,visibleToasts:b,heights:x,index:v,toasts:w,expanded:_,removeToast:S,defaultRichColors:j,closeButton:k,style:N,cancelButtonStyle:T,actionButtonStyle:R,className:L="",descriptionClassName:D="",duration:F,position:H,gap:K,loadingIcon:q,expandByDefault:A,classNames:C,icons:O,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:$,cn:Y}=e,[fe,ye]=V.useState(!1),[Ve,ue]=V.useState(!1),[Z,Pe]=V.useState(!1),[Ae,Ce]=V.useState(!1),[me,Ne]=V.useState(0),[Ot,nn]=V.useState(0),Vt=V.useRef(null),fn=V.useRef(null),Ur=v===0,oi=v+1<=b,Pt=f.type,fs=f.dismissible!==!1,yf=f.className||"",xf=f.descriptionClassName||"",zn=V.useMemo(()=>x.findIndex(pe=>pe.toastId===f.id)||0,[x,f.id]),pa=V.useMemo(()=>{var pe;return(pe=f.closeButton)!=null?pe:k},[f.closeButton,k]),Fo=V.useMemo(()=>f.duration||F||wT,[f.duration,F]),ga=V.useRef(0),rn=V.useRef(0),Bn=V.useRef(0),zr=V.useRef(null),[va,wf]=H.split("-"),tr=V.useMemo(()=>x.reduce((pe,Xe,We)=>We>=zn?pe:pe+Xe.height,0),[x,zn]),$o=uT(),bc=f.invert||h,li=Pt==="loading";rn.current=V.useMemo(()=>zn*K+tr,[zn,tr]),V.useEffect(()=>{ye(!0)},[]),V.useLayoutEffect(()=>{if(!fe)return;let pe=fn.current,Xe=pe.style.height;pe.style.height="auto";let We=pe.getBoundingClientRect().height;pe.style.height=Xe,nn(We),g(hn=>hn.find(Wn=>Wn.toastId===f.id)?hn.map(Wn=>Wn.toastId===f.id?{...Wn,height:We}:Wn):[{toastId:f.id,height:We,position:f.position},...hn])},[fe,f.title,f.description,g,f.id]);let wr=V.useCallback(()=>{ue(!0),Ne(rn.current),g(pe=>pe.filter(Xe=>Xe.toastId!==f.id)),setTimeout(()=>{S(f)},ST)},[f,S,g,rn]);V.useEffect(()=>{if(f.promise&&Pt==="loading"||f.duration===1/0||f.type==="loading")return;let pe,Xe=Fo;return _||y||$&&$o?(()=>{if(Bn.current<ga.current){let We=new Date().getTime()-ga.current;Xe=Xe-We}Bn.current=new Date().getTime()})():Xe!==1/0&&(ga.current=new Date().getTime(),pe=setTimeout(()=>{var We;(We=f.onAutoClose)==null||We.call(f,f),wr()},Xe)),()=>clearTimeout(pe)},[_,y,A,f,Fo,wr,f.promise,Pt,$,$o]),V.useEffect(()=>{let pe=fn.current;if(pe){let Xe=pe.getBoundingClientRect().height;return nn(Xe),g(We=>[{toastId:f.id,height:Xe,position:f.position},...We]),()=>g(We=>We.filter(hn=>hn.toastId!==f.id))}},[g,f.id]),V.useEffect(()=>{f.delete&&wr()},[wr,f.delete]);function _c(){return O!=null&&O.loading?V.createElement("div",{className:"sonner-loader","data-visible":Pt==="loading"},O.loading):q?V.createElement("div",{className:"sonner-loader","data-visible":Pt==="loading"},q):V.createElement(aT,{visible:Pt==="loading"})}return V.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:fn,className:Y(L,yf,C==null?void 0:C.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[Pt],(n=f==null?void 0:f.classNames)==null?void 0:n[Pt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:j,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":fe,"data-promise":!!f.promise,"data-removed":Ve,"data-visible":oi,"data-y-position":va,"data-x-position":wf,"data-index":v,"data-front":Ur,"data-swiping":Z,"data-dismissible":fs,"data-type":Pt,"data-invert":bc,"data-swipe-out":Ae,"data-expanded":!!(_||A&&fe),style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${Ve?me:rn.current}px`,"--initial-height":A?"auto":`${Ot}px`,...N,...f.style},onPointerDown:pe=>{li||!fs||(Vt.current=new Date,Ne(rn.current),pe.target.setPointerCapture(pe.pointerId),pe.target.tagName!=="BUTTON"&&(Pe(!0),zr.current={x:pe.clientX,y:pe.clientY}))},onPointerUp:()=>{var pe,Xe,We,hn;if(Ae||!fs)return;zr.current=null;let Wn=Number(((pe=fn.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ya=new Date().getTime()-((Xe=Vt.current)==null?void 0:Xe.getTime()),bf=Math.abs(Wn)/ya;if(Math.abs(Wn)>=jT||bf>.11){Ne(rn.current),(We=f.onDismiss)==null||We.call(f,f),wr(),Ce(!0);return}(hn=fn.current)==null||hn.style.setProperty("--swipe-amount","0px"),Pe(!1)},onPointerMove:pe=>{var Xe;if(!zr.current||!fs)return;let We=pe.clientY-zr.current.y,hn=pe.clientX-zr.current.x,Wn=(va==="top"?Math.min:Math.max)(0,We),ya=pe.pointerType==="touch"?10:2;Math.abs(Wn)>ya?(Xe=fn.current)==null||Xe.style.setProperty("--swipe-amount",`${We}px`):Math.abs(hn)>ya&&(zr.current=null)}},pa&&!f.jsx?V.createElement("button",{"aria-label":U,"data-disabled":li,"data-close-button":!0,onClick:li||!fs?()=>{}:()=>{var pe;wr(),(pe=f.onDismiss)==null||pe.call(f,f)},className:Y(C==null?void 0:C.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||V.isValidElement(f.title)?f.jsx||f.title:V.createElement(V.Fragment,null,Pt||f.icon||f.promise?V.createElement("div",{"data-icon":"",className:Y(C==null?void 0:C.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||_c():null,f.type!=="loading"?f.icon||(O==null?void 0:O[Pt])||rT(Pt):null):null,V.createElement("div",{"data-content":"",className:Y(C==null?void 0:C.content,(i=f==null?void 0:f.classNames)==null?void 0:i.content)},V.createElement("div",{"data-title":"",className:Y(C==null?void 0:C.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?V.createElement("div",{"data-description":"",className:Y(D,xf,C==null?void 0:C.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),V.isValidElement(f.cancel)?f.cancel:f.cancel&&Yc(f.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||T,onClick:pe=>{var Xe,We;Yc(f.cancel)&&fs&&((We=(Xe=f.cancel).onClick)==null||We.call(Xe,pe),wr())},className:Y(C==null?void 0:C.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,V.isValidElement(f.action)?f.action:f.action&&Yc(f.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:pe=>{var Xe,We;Yc(f.action)&&(pe.defaultPrevented||((We=(Xe=f.action).onClick)==null||We.call(Xe,pe),wr()))},className:Y(C==null?void 0:C.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function j0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var kT=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:a,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=yT,toastOptions:p,dir:y=j0(),gap:g=_T,loadingIcon:b,icons:x,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:w,cn:_=NT}=e,[S,j]=V.useState([]),k=V.useMemo(()=>Array.from(new Set([n].concat(S.filter($=>$.position).map($=>$.position)))),[S,n]),[N,T]=V.useState([]),[R,L]=V.useState(!1),[D,F]=V.useState(!1),[H,K]=V.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=V.useRef(null),A=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=V.useRef(null),O=V.useRef(!1),U=V.useCallback($=>{var Y;(Y=S.find(fe=>fe.id===$.id))!=null&&Y.delete||Pn.dismiss($.id),j(fe=>fe.filter(({id:ye})=>ye!==$.id))},[S]);return V.useEffect(()=>Pn.subscribe($=>{if($.dismiss){j(Y=>Y.map(fe=>fe.id===$.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{ug.flushSync(()=>{j(Y=>{let fe=Y.findIndex(ye=>ye.id===$.id);return fe!==-1?[...Y.slice(0,fe),{...Y[fe],...$},...Y.slice(fe+1)]:[$,...Y]})})})}),[]),V.useEffect(()=>{if(c!=="system"){K(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{K($?"dark":"light")})},[c]),V.useEffect(()=>{S.length<=1&&L(!1)},[S]),V.useEffect(()=>{let $=Y=>{var fe,ye;r.every(Ve=>Y[Ve]||Y.code===Ve)&&(L(!0),(fe=q.current)==null||fe.focus()),Y.code==="Escape"&&(document.activeElement===q.current||(ye=q.current)!=null&&ye.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[r]),V.useEffect(()=>{if(q.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,O.current=!1)}},[q.current]),S.length?V.createElement("section",{"aria-label":`${v} ${A}`,tabIndex:-1},k.map(($,Y)=>{var fe;let[ye,Ve]=$.split("-");return V.createElement("ol",{key:$,dir:y==="auto"?j0():y,tabIndex:-1,ref:q,className:i,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":ye,"data-x-position":Ve,style:{"--front-toast-height":`${((fe=N[0])==null?void 0:fe.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||xT,"--width":`${bT}px`,"--gap":`${g}px`,...h},onBlur:ue=>{O.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(O.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||O.current||(O.current=!0,C.current=ue.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{D||L(!1)},onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},S.filter(ue=>!ue.position&&Y===0||ue.position===$).map((ue,Z)=>{var Pe,Ae;return V.createElement(CT,{key:ue.id,icons:x,index:Z,toast:ue,defaultRichColors:u,duration:(Pe=p==null?void 0:p.duration)!=null?Pe:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:f,closeButton:(Ae=p==null?void 0:p.closeButton)!=null?Ae:a,interacting:D,position:$,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:U,toasts:S.filter(Ce=>Ce.position==ue.position),heights:N.filter(Ce=>Ce.position==ue.position),setHeights:T,expandByDefault:s,gap:g,loadingIcon:b,expanded:R,pauseWhenPageIsHidden:w,cn:_})}))})):null};function ET(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ud(...e){return t=>e.forEach(n=>ET(n,t))}function Qe(...e){return m.useCallback(Ud(...e),e)}var Js=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),a=s.find(TT);if(a){const i=a.props.children,l=s.map(c=>c===a?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return o.jsx($m,{...r,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,l):null})}return o.jsx($m,{...r,ref:t,children:n})});Js.displayName="Slot";var $m=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const s=RT(n);return m.cloneElement(n,{...MT(r,n.props),ref:t?Ud(t,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});$m.displayName="SlotClone";var PT=({children:e})=>o.jsx(o.Fragment,{children:e});function TT(e){return m.isValidElement(e)&&e.type===PT}function MT(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function RT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function E1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=E1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function P1(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=E1(e))&&(r&&(r+=" "),r+=t);return r}const S0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,N0=P1,xg=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return N0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=S0(d)||S0(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(y=>{let[g,b]=y;return Array.isArray(b)?b.includes({...a,...l}[g]):{...a,...l}[g]===b})?[...u,h,f]:u},[]);return N0(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},wg="-",DT=e=>{const t=AT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(wg);return l[0]===""&&l.length!==1&&l.shift(),T1(l,t)||OT(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},T1=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?T1(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(wg);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},C0=/^\[(.+)\]$/,OT=e=>{if(C0.test(e)){const t=C0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},AT=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return LT(Object.entries(e.classGroups),n).forEach(([a,i])=>{Um(i,r,a,t)}),r},Um=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:k0(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(IT(s)){Um(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,i])=>{Um(i,k0(t,a),n,r)})})},k0=(e,t)=>{let n=e;return t.split(wg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},IT=e=>e.isThemeGetter,LT=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[n,s]}):e,FT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return s(a,i),i},set(a,i){n.has(a)?n.set(a,i):s(a,i)}}},M1="!",$T=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,i=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===s&&(r||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(x==="/"){h=b;continue}}x==="["?u++:x==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(M1),y=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:i}):i},UT=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},zT=e=>({cache:FT(e.cacheSize),parseClassName:$T(e),...DT(e)}),BT=/\s+/,WT=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],i=e.trim().split(BT);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let y=!!p,g=r(y?f.substring(0,p):f);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=r(f),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=UT(d).join(":"),x=h?b+M1:b,v=x+g;if(a.includes(v))continue;a.push(v);const w=s(g,y);for(let _=0;_<w.length;++_){const S=w[_];a.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function HT(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=R1(t))&&(r&&(r+=" "),r+=n);return r}const R1=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=R1(e[r]))&&(n&&(n+=" "),n+=t);return n};function qT(e,...t){let n,r,s,a=i;function i(c){const u=t.reduce((d,h)=>h(d),e());return n=zT(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=WT(c,n);return s(c,d),d}return function(){return a(HT.apply(null,arguments))}}const it=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},D1=/^\[(?:([a-z-]+):)?(.+)\]$/i,VT=/^\d+\/\d+$/,YT=new Set(["px","full","screen"]),KT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wr=e=>zi(e)||YT.has(e)||VT.test(e),ms=e=>No(e,"length",iM),zi=e=>!!e&&!Number.isNaN(Number(e)),eh=e=>No(e,"number",zi),el=e=>!!e&&Number.isInteger(Number(e)),ZT=e=>e.endsWith("%")&&zi(e.slice(0,-1)),we=e=>D1.test(e),ps=e=>KT.test(e),eM=new Set(["length","size","percentage"]),tM=e=>No(e,eM,O1),nM=e=>No(e,"position",O1),rM=new Set(["image","url"]),sM=e=>No(e,rM,lM),aM=e=>No(e,"",oM),tl=()=>!0,No=(e,t,n)=>{const r=D1.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},iM=e=>GT.test(e)&&!QT.test(e),O1=()=>!1,oM=e=>XT.test(e),lM=e=>JT.test(e),cM=()=>{const e=it("colors"),t=it("spacing"),n=it("blur"),r=it("brightness"),s=it("borderColor"),a=it("borderRadius"),i=it("borderSpacing"),l=it("borderWidth"),c=it("contrast"),u=it("grayscale"),d=it("hueRotate"),h=it("invert"),f=it("gap"),p=it("gradientColorStops"),y=it("gradientColorStopPositions"),g=it("inset"),b=it("margin"),x=it("opacity"),v=it("padding"),w=it("saturate"),_=it("scale"),S=it("sepia"),j=it("skew"),k=it("space"),N=it("translate"),T=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",we,t],D=()=>[we,t],F=()=>["",Wr,ms],H=()=>["auto",zi,we],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",we],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[zi,we];return{cacheSize:500,separator:":",theme:{colors:[tl],spacing:[Wr,ms],blur:["none","",ps,we],brightness:$(),borderColor:[e],borderRadius:["none","","full",ps,we],borderSpacing:D(),borderWidth:F(),contrast:$(),grayscale:O(),hueRotate:$(),invert:O(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[ZT,ms],inset:L(),margin:L(),opacity:$(),padding:D(),saturate:$(),scale:$(),sepia:O(),skew:$(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[ps]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),we]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",el,we]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",el,we]}],"grid-cols":[{"grid-cols":[tl]}],"col-start-end":[{col:["auto",{span:["full",el,we]},we]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[tl]}],"row-start-end":[{row:["auto",{span:[el,we]},we]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,t]}],"min-w":[{"min-w":[we,t,"min","max","fit"]}],"max-w":[{"max-w":[we,t,"none","full","min","max","fit","prose",{screen:[ps]},ps]}],h:[{h:[we,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ps,ms]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eh]}],"font-family":[{font:[tl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",zi,eh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wr,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wr,ms]}],"underline-offset":[{"underline-offset":["auto",Wr,we]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),nM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Wr,we]}],"outline-w":[{outline:[Wr,ms]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Wr,ms]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ps,aM]}],"shadow-color":[{shadow:[tl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ps,we]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[el,we]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wr,ms,eh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uM=qT(cM);function ae(...e){return uM(P1(e))}const zm=xg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const i=r?Js:"button";return o.jsx(i,{className:ae(zm({variant:t,size:n,className:e})),ref:a,...s})});X.displayName="Button";const dM="modulepreload",fM=function(e){return"/"+e},E0={},ho=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=fM(c),c in E0)return;E0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":dM,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},hM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ho(async()=>{const{default:r}=await Promise.resolve().then(()=>Co);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class bg extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class mM extends bg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class pM extends bg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gM extends bg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bm||(Bm={}));var vM=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class yM{constructor(t,{headers:n={},customFetch:r,region:s=Bm.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=hM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return vM(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=n;let l={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(y=>{throw new mM(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new pM(d);if(!d.ok)throw new gM(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var wn={},_g={},zd={},cc={},Bd={},Wd={},xM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mo=xM();const wM=mo.fetch,A1=mo.fetch.bind(mo),I1=mo.Headers,bM=mo.Request,_M=mo.Response,Co=Object.freeze(Object.defineProperty({__proto__:null,Headers:I1,Request:bM,Response:_M,default:A1,fetch:wM},Symbol.toStringTag,{value:"Module"})),jM=vC(Co);var Hd={};Object.defineProperty(Hd,"__esModule",{value:!0});let SM=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Hd.default=SM;var L1=Jn&&Jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wd,"__esModule",{value:!0});const NM=L1(jM),CM=L1(Hd);let kM=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=NM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c;let u=null,d=null,h=null,f=a.status,p=a.statusText;if(a.ok){if(this.method!=="HEAD"){const x=await a.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await a.text();try{u=JSON.parse(g),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,p="OK")}catch{a.status===404&&g===""?(f=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new CM.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Wd.default=kM;var EM=Jn&&Jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bd,"__esModule",{value:!0});const PM=EM(Wd);let TM=class extends PM.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Bd.default=TM;var MM=Jn&&Jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cc,"__esModule",{value:!0});const RM=MM(Bd);let DM=class extends RM.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};cc.default=DM;var OM=Jn&&Jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zd,"__esModule",{value:!0});const nl=OM(cc);let AM=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new nl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new nl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new nl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new nl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new nl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zd.default=AM;var qd={},Vd={};Object.defineProperty(Vd,"__esModule",{value:!0});Vd.version=void 0;Vd.version="0.0.0-automated";Object.defineProperty(qd,"__esModule",{value:!0});qd.DEFAULT_HEADERS=void 0;const IM=Vd;qd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${IM.version}`};var F1=Jn&&Jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_g,"__esModule",{value:!0});const LM=F1(zd),FM=F1(cc),$M=qd;let UM=class $1{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},$M.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new LM.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(i="POST",c=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new FM.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};_g.default=UM;var ko=Jn&&Jn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const U1=ko(_g);wn.PostgrestClient=U1.default;const z1=ko(zd);wn.PostgrestQueryBuilder=z1.default;const B1=ko(cc);wn.PostgrestFilterBuilder=B1.default;const W1=ko(Bd);wn.PostgrestTransformBuilder=W1.default;const H1=ko(Wd);wn.PostgrestBuilder=H1.default;const q1=ko(Hd);wn.PostgrestError=q1.default;var zM=wn.default={PostgrestClient:U1.default,PostgrestQueryBuilder:z1.default,PostgrestFilterBuilder:B1.default,PostgrestTransformBuilder:W1.default,PostgrestBuilder:H1.default,PostgrestError:q1.default};const{PostgrestClient:BM,PostgrestQueryBuilder:IU,PostgrestFilterBuilder:LU,PostgrestTransformBuilder:FU,PostgrestBuilder:$U,PostgrestError:UU}=zM,WM="2.11.2",HM={"X-Client-Info":`realtime-js/${WM}`},qM="1.0.0",V1=1e4,VM=1e3;var Bi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bi||(Bi={}));var kn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kn||(kn={}));var lr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(lr||(lr={}));var Wm;(function(e){e.websocket="websocket"})(Wm||(Wm={}));var Ea;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ea||(Ea={}));class YM{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Y1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const P0=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,i)=>(a[i]=KM(i,e,t,s),a),{})},KM=(e,t,n,r)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=n[e];return a&&!r.includes(a)?K1(a,i):Hm(i)},K1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return JM(t,n)}switch(e){case nt.bool:return GM(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return QM(t);case nt.json:case nt.jsonb:return XM(t);case nt.timestamp:return ZM(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return Hm(t);default:return Hm(t)}},Hm=e=>e,GM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},QM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JM=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const i=e.slice(1,n);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>K1(t,l))}return e},ZM=e=>typeof e=="string"?e.replace(" ","T"):e,G1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class th{constructor(t,n,r={},s=V1){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var T0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(T0||(T0={}));class Nl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nl.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Nl.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Nl.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=a[u];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),y=d.filter(b=>p.indexOf(b.presence_ref)<0),g=h.filter(b=>f.indexOf(b.presence_ref)<0);y.length>0&&(l[u]=y),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(M0||(M0={}));var R0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(R0||(R0={}));var Yr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yr||(Yr={}));class jg{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=kn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new th(this,lr.join,this.params,this.timeout),this.rejoinTimer=new Y1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Nl(this),this.broadcastEndpointURL=G1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Yr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Yr.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Yr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let g=0;g<p;g++){const b=f[g],{filter:{event:x,schema:v,table:w,filter:_}}=b,S=d&&d[g];if(S&&S.event===x&&S.schema===v&&S.table===w&&S.filter===_)y.push(Object.assign(Object.assign({},b),{id:S.id}));else{this.unsubscribe(),t==null||t(Yr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Yr.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Yr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new th(this,lr.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new th(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=lr;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,g,b;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(f,r)):(a=this.bindings[i])===null||a===void 0||a.filter(p=>{var y,g,b,x,v,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,S=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((g=n.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(v=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:g,table:b,commit_timestamp:x,type:v,errors:w}=y;f=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:x,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(y))}p.callback(f,r)})}_isClosed(){return this.state===kn.closed}_isJoined(){return this.state===kn.joined}_isJoining(){return this.state===kn.joining}_isLeaving(){return this.state===kn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&jg.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(lr.close,{},t)}_onError(t){this._on(lr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=P0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=P0(t.columns,t.old_record)),n}}const eR=()=>{},tR=typeof WebSocket<"u",nR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rR{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=HM,this.params={},this.timeout=V1,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=eR,this.conn=null,this.sendBuffer=[],this.serializer=new YM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>ho(async()=>{const{default:c}=await Promise.resolve().then(()=>Co);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Wm.websocket}`,this.httpEndpoint=G1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,i)=>i(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Y1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(tR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sR(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ho(async()=>{const{default:t}=await import("./browser-BlqiDk50.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qM}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Bi.connecting:return Ea.Connecting;case Bi.open:return Ea.Open;case Bi.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}channel(t,n={config:{}}){const r=new jg(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){const{topic:n,event:r,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(lr.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(VM,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:a,ref:i}=n;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,a),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(lr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([nR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class sR{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Bi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Sg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function At(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class aR extends Sg{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class qm extends Sg{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var iR=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Q1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ho(async()=>{const{default:r}=await Promise.resolve().then(()=>Co);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},oR=()=>iR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ho(()=>Promise.resolve().then(()=>Co),void 0)).Response:Response}),Vm=e=>{if(Array.isArray(e))return e.map(n=>Vm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Vm(r)}),t};var si=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const nh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lR=(e,t,n)=>si(void 0,void 0,void 0,function*(){const r=yield oR();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new aR(nh(s),e.status||500))}).catch(s=>{t(new qm(nh(s),s))}):t(new qm(nh(e),e))}),cR=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function uc(e,t,n,r,s,a){return si(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,cR(t,r,s,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>lR(c,l,r))})})}function od(e,t,n,r){return si(this,void 0,void 0,function*(){return uc(e,"GET",t,n,r)})}function Ss(e,t,n,r,s){return si(this,void 0,void 0,function*(){return uc(e,"POST",t,r,s,n)})}function uR(e,t,n,r,s){return si(this,void 0,void 0,function*(){return uc(e,"PUT",t,r,s,n)})}function dR(e,t,n,r){return si(this,void 0,void 0,function*(){return uc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function X1(e,t,n,r,s){return si(this,void 0,void 0,function*(){return uc(e,"DELETE",t,r,s,n)})}var mn=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const fR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},D0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hR{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Q1(s)}uploadOrUpdate(t,n,r,s){return mn(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},D0),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(At(a))return{data:null,error:a};throw a}})}upload(t,n,r){return mn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return mn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:D0.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(At(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return mn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield Ss(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new Sg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}update(t,n,r){return mn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return mn(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}copy(t,n,r){return mn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ss(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return mn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Ss(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return mn(this,void 0,void 0,function*(){try{const s=yield Ss(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}download(t,n){return mn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield od(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(At(l))return{data:null,error:l};throw l}})}info(t){return mn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield od(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vm(r),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}exists(t){return mn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield dR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(At(r)&&r instanceof qm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return mn(this,void 0,void 0,function*(){try{return{data:yield X1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}list(t,n,r){return mn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},fR),n),{prefix:t||""});return{data:yield Ss(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const mR="2.7.1",pR={"X-Client-Info":`storage-js/${mR}`};var mi=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class gR{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},pR),n),this.fetch=Q1(r)}listBuckets(){return mi(this,void 0,void 0,function*(){try{return{data:yield od(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(At(t))return{data:null,error:t};throw t}})}getBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield od(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return mi(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return mi(this,void 0,void 0,function*(){try{return{data:yield uR(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}})}emptyBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}deleteBucket(t){return mi(this,void 0,void 0,function*(){try{return{data:yield X1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}}class vR extends gR{constructor(t,n={},r){super(t,n,r)}from(t){return new hR(this.url,this.headers,t,this.fetch)}}const yR="2.49.4";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const xR={"X-Client-Info":`supabase-js-${hl}/${yR}`},wR={headers:xR},bR={schema:"public"},_R={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jR={};var SR=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const NR=e=>{let t;return e?t=e:typeof fetch>"u"?t=A1:t=fetch,(...n)=>t(...n)},CR=()=>typeof Headers>"u"?I1:Headers,kR=(e,t,n)=>{const r=NR(n),s=CR();return(a,i)=>SR(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},i),{headers:u}))})};var ER=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function PR(e){return e.replace(/\/$/,"")}function TR(e,t){const{db:n,auth:r,realtime:s,global:a}=e,{db:i,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),n),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),a),accessToken:()=>ER(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const J1="2.69.1",bi=30*1e3,Ym=3,rh=Ym*bi,MR="http://localhost:9999",RR="supabase.auth.token",DR={"X-Client-Info":`gotrue-js/${J1}`},Km="X-Supabase-Api-Version",Z1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},OR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AR=6e5;class Ng extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IR extends Ng{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function LR(e){return be(e)&&e.name==="AuthApiError"}class e_ extends Ng{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ua extends Ng{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class xs extends ua{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FR(e){return be(e)&&e.name==="AuthSessionMissingError"}class sh extends ua{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kc extends ua{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gc extends ua{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $R(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class O0 extends ua{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gm extends ua{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ah(e){return be(e)&&e.name==="AuthRetryableFetchError"}class A0 extends ua{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Cl extends ua{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const I0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),L0=` 	
\r=`.split(""),UR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<L0.length;t+=1)e[L0[t].charCodeAt(0)]=-2;for(let t=0;t<I0.length;t+=1)e[I0[t].charCodeAt(0)]=t;return e})();function t_(e,t,n){const r=UR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function F0(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{WR(i,r,n)};for(let i=0;i<e.length;i+=1)t_(e.charCodeAt(i),s,a);return t.join("")}function zR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}zR(r,t)}}function WR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function HR(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)t_(e.charCodeAt(s),n,r);return new Uint8Array(t)}function qR(e){const t=[];return BR(e,n=>t.push(n)),new Uint8Array(t)}function VR(e){return Math.round(Date.now()/1e3)+e}function YR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const jr=()=>typeof window<"u"&&typeof document<"u",wa={tested:!1,writable:!1},kl=()=>{if(!jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wa.tested)return wa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wa.tested=!0,wa.writable=!0}catch{wa.tested=!0,wa.writable=!1}return wa.writable};function KR(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const n_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>ho(async()=>{const{default:r}=await Promise.resolve().then(()=>Co);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},GR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",r_=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Qc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xc=async(e,t)=>{await e.removeItem(t)};class Yd{constructor(){this.promise=new Yd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Yd.promiseConstructor=Promise;function ih(e){const t=e.split(".");if(t.length!==3)throw new Cl("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!OR.test(t[r]))throw new Cl("JWT not in base64url format");return{header:JSON.parse(F0(t[0])),payload:JSON.parse(F0(t[1])),signature:HR(t[2]),raw:{header:t[0],payload:t[1]}}}async function QR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XR(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){r(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function JR(e){return("0"+e.toString(16)).substr(-2)}function ZR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,JR).join("")}async function eD(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function tD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await eD(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pi(e,t,n=!1){const r=ZR();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await r_(e,`${t}-code-verifier`,s);const a=await tD(r);return[a,r===a?"plain":"s256"]}const nD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rD(e){const t=e.headers.get(Km);if(!t||!t.match(nD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function aD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var iD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ja=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oD=[502,503,504];async function $0(e){var t;if(!GR(e))throw new Gm(ja(e),0);if(oD.includes(e.status))throw new Gm(ja(e),e.status);let n;try{n=await e.json()}catch(a){throw new e_(ja(a),a)}let r;const s=rD(e);if(s&&s.getTime()>=Z1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new A0(ja(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new xs}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new A0(ja(n),e.status,n.weak_password.reasons);throw new IR(ja(n),e.status||500,r)}const lD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Me(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[Km]||(a[Km]=Z1["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await cD(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function cD(e,t,n,r,s,a){const i=lD(t,r,s,a);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Gm(ja(c),0)}if(l.ok||await $0(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await $0(c)}}function ws(e){var t;let n=null;hD(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=VR(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function U0(e){const t=ws(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ks(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uD(e){return{data:e,error:null}}function dD(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,i=iD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function fD(e){return e}function hD(e){return e.access_token&&e.refresh_token&&e.expires_in}var mD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class pD{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=n_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ks})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=mD(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:dD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ks})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:fD});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ks})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ks})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ks})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:n,error:r}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}}const gD={getItem:e=>kl()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{kl()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{kl()&&globalThis.localStorage.removeItem(e)}};function z0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function vD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const gi={debug:!!(globalThis&&kl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yD extends s_{}async function xD(e,t,n){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),gi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw gi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}vD();const wD={url:MR,storageKey:RR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function B0(e,t,n){return await n()}class Gl{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gl.nextInstanceID,Gl.nextInstanceID+=1,this.instanceID>0&&jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wD),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new pD({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=n_(s.fetch),this.lock=s.lock||B0,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:jr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=xD:this.lock=B0,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:kl()?this.storage=gD:(this.memoryStorage={},this.storage=z0(this.memoryStorage)):(this.memoryStorage={},this.storage=z0(this.memoryStorage)),jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${J1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=KR(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),jr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),$R(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?{error:n}:{error:new e_("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ws}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await pi(this.storage,this.storageKey)),a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:ws})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ws})}else throw new Kc("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:i,options:l}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U0})}else if("phone"in t){const{phone:a,password:i,options:l}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U0})}else throw new Kc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new sh}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await Qc(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:i}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ws});if(await Xc(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new sh}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(be(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:i}=t,l=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ws}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new sh}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await pi(this.storage,this.storageKey));const{error:h}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Kc("You must provide either an email or phone number.")}catch(l){if(be(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ws});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(be(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await pi(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:uD})}catch(a){if(be(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new xs;const{error:s}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:i}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:i,error:l}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Kc("You must provide either an email or phone number and a type")}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Qc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<rh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ks}):await this._useSession(async n=>{var r,s,a;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xs}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:ks})})}catch(n){if(be(n))return FR(n)&&(await this._removeSession(),await Xc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new xs;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await pi(this.storage,this.storageKey));const{data:u,error:d}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:ks});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xs;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:i}=ih(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(be(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new xs;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(be(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!jr())throw new Gc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new O0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new O0("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Gc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=bi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const x={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Qc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(LR(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Xc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=YR(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await pi(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(be(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return jr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(be(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)throw i;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await XR(async s=>(s>0&&await QR(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ws})),(s,a)=>{const i=200*Math.pow(2,s);return a&&ah(a)&&Date.now()+i-r<bi})}catch(r){if(this._debug(n,"error",r),be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),jr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Qc(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<rh;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${rh}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:a}=await this._callRefreshToken(r.refresh_token);a&&(console.error(a),ah(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new xs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yd;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new xs;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),be(a)){const i={session:null,error:a};return ah(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await r_(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/bi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${bi}ms, refresh threshold is ${Ym} ticks`),s<=Ym&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof s_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,i]=await pi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:i,error:l}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(be(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ih(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+AR>Date.now()))return r;const{data:s,error:a}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Cl("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new Cl("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=ih(r);if(sD(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:s,signature:i},error:null}}const u=aD(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,qR(`${l}.${c}`)))throw new Cl("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}}Gl.nextInstanceID=0;const bD=Gl;class _D extends bD{constructor(t){super(t)}}var jD=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function l(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class SD{constructor(t,n,r){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=PR(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:bR,realtime:jR,auth:Object.assign(Object.assign({},_R),{storageKey:c}),global:wR},d=TR(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=kR(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new BM(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new yM(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new vR(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return jD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:a,flowType:i,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _D({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new rR(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ND=(e,t,n)=>new SD(e,t,n),CD="https://qodjhenqguamihndrvct.supabase.co",kD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFvZGpoZW5xZ3VhbWlobmRydmN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwNDE0NjEsImV4cCI6MjA2MDYxNzQ2MX0.Feq8B-Cnl0KdZifE1o-_Q2c9rPGWQ5CU_Qd90hgtNqQ",B=ND(CD,kD),ED=5,PD=1e6,Da={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let oh=0;function TD(){return oh=(oh+1)%Number.MAX_SAFE_INTEGER,oh.toString()}const lh=new Map,W0=e=>{if(lh.has(e))return;const t=setTimeout(()=>{lh.delete(e),Cg({type:Da.REMOVE_TOAST,toastId:e})},PD);lh.set(e,t)},MD=(e,t)=>{switch(t.type){case Da.ADD_TOAST:return{...e,toasts:[t.toast,...e.toasts].slice(0,ED)};case Da.UPDATE_TOAST:return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case Da.DISMISS_TOAST:{const{toastId:n}=t;return n?W0(n):e.toasts.forEach(r=>{W0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r}:r)}}case Da.REMOVE_TOAST:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},bu=[];let _u={toasts:[]};function Cg(e){_u=MD(_u,e),bu.forEach(t=>{t(_u)})}function St(){const[e,t]=m.useState(_u);return m.useEffect(()=>(bu.push(t),()=>{const n=bu.indexOf(t);n>-1&&bu.splice(n,1)}),[e]),{...e,toast:Qt,dismiss:n=>Cg({type:Da.DISMISS_TOAST,toastId:n})}}function Qt(e){const t=e.id||TD(),n=e.variant||"default";return gT(e.title,{id:t,description:e.description}),Cg({type:Da.ADD_TOAST,toast:{...e,id:t,variant:n}}),t}const a_=m.createContext(void 0);function RD({children:e}){const[t,n]=m.useState(null),[r,s]=m.useState(null),[a,i]=m.useState(null),[l,c]=m.useState(!0),[u,d]=m.useState(null),h=async _=>{var S;try{console.log("Fetching profile for user:",_);const{data:j,error:k}=await B.from("users").select("*").eq("id",_).single();if(k&&k.code!=="PGRST116")throw k;if(j){const N={id:j.id,email:j.email,name:j.name,role:j.role,profileImage:j.profile_image};if(N.role==="consultant"){const{data:T,error:R}=await B.from("consultants").select("*").eq("id",_).single();if(R&&R.code!=="PGRST116")throw R;T&&(N.specialization=T.specialization,N.languages=T.languages,N.location=T.location,N.paypalEmail=T.paypal_email,N.bio=T.bio)}i(N),console.log("Profile fetched successfully:",N)}else if(t!=null&&t.user_metadata){const N=t.user_metadata;i({id:t.id,email:t.email||"",name:N.name||((S=t.email)==null?void 0:S.split("@")[0])||"User",role:"user"}),console.log("Created profile from metadata")}}catch(j){console.error("Error fetching user profile:",j),Qt({title:"Profile Error",description:"Failed to load user profile",variant:"destructive"})}},f=async()=>{t&&await h(t.id)};m.useEffect(()=>{(async()=>{var S;try{const{data:{subscription:j}}=B.auth.onAuthStateChange(async(N,T)=>{var L;console.log("Auth state changed:",N,(L=T==null?void 0:T.user)==null?void 0:L.id),s(T);const R=(T==null?void 0:T.user)??null;n(R),R?setTimeout(()=>{h(R.id)},0):i(null)}),{data:{session:k}}=await B.auth.getSession();return console.log("Current session:",(S=k==null?void 0:k.user)==null?void 0:S.id),s(k),n((k==null?void 0:k.user)??null),k!=null&&k.user&&await h(k.user.id),c(!1),()=>{j.unsubscribe()}}catch(j){console.error("Auth initialization error:",j),c(!1)}})()},[]);const p=async(_,S)=>{try{c(!0);const{data:j,error:k}=await B.auth.signInWithPassword({email:_,password:S});if(k)throw k;s(j.session),n(j.user),j.user&&await h(j.user.id),Qt({title:"Login successful",description:"Welcome back!"})}catch(j){throw Qt({title:"Login failed",description:(j==null?void 0:j.message)||"Failed to login, please try again",variant:"destructive"}),j}finally{c(!1)}},y=async(_,S)=>{try{c(!0);const{data:j,error:k}=await B.auth.signUp({email:_.email,password:S,options:{data:{name:_.name}}});if(k)throw k;if(!j.user)throw new Error("Failed to create user");const N={id:j.user.id,email:_.email,name:_.name,role:_.role||"user",profile_image:_.profileImage},{error:T}=await B.from("users").insert([N]);if(T)throw T;if(_.role==="consultant"){const R={id:j.user.id,specialization:_.specialization||["General Mental Health"],languages:_.languages||["English"],location:_.location||"Remote",bio:_.bio||"",paypal_email:_.paypalEmail||_.email},{error:L}=await B.from("consultants").insert([R]);if(L)throw L}await h(j.user.id),Qt({title:"Account created!",description:"Your account has been created successfully."})}catch(j){throw Qt({title:"Signup failed",description:(j==null?void 0:j.message)||"Failed to create account, please try again",variant:"destructive"}),j}finally{c(!1)}},g=async()=>{try{c(!0);const{error:_}=await B.auth.signOut();if(_)throw _;i(null),Qt({title:"Logged out",description:"You have been logged out successfully"})}catch(_){throw Qt({title:"Logout failed",description:(_==null?void 0:_.message)||"Failed to logout, please try again",variant:"destructive"}),_}finally{c(!1)}},b=!!r&&!!t,x=(a==null?void 0:a.role)==="admin"||(a==null?void 0:a.role)==="owner",v=(a==null?void 0:a.role)==="consultant",w=(a==null?void 0:a.role)==="owner";return o.jsx(a_.Provider,{value:{user:t,session:r,profile:a,loading:l,error:u,login:p,signup:y,logout:g,isAuthenticated:b,isAdmin:x,isConsultant:v,isOwner:w,refreshProfile:f},children:e})}function Re(){const e=m.useContext(a_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function se(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function DD(e,t){const n=m.createContext(t),r=a=>{const{children:i,...l}=a,c=m.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function da(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];const u=h=>{var x;const{scope:f,children:p,...y}=h,g=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,b=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:b,children:p})};u.displayName=a+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,OD(s,...t)]}function OD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Ln(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Zs({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=AD({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,l=Ln(n),c=m.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[a,e,s,l]);return[i,c]}function AD({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),a=Ln(t);return m.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var ID=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=ID.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:a,...i}=r,l=a?Js:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function i_(e,t){e&&ri.flushSync(()=>e.dispatchEvent(t))}function LD(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:f,children:p,...y}=h,g=(f==null?void 0:f[e][c])||l,b=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:b,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||l,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,FD(s,...t)]}function FD(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function kg(e){const t=e+"CollectionProvider",[n,r]=LD(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:y,children:g}=p,b=V.useRef(null),x=V.useRef(new Map).current;return o.jsx(s,{scope:y,itemMap:x,collectionRef:b,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=V.forwardRef((p,y)=>{const{scope:g,children:b}=p,x=a(l,g),v=Qe(y,x.collectionRef);return o.jsx(Js,{ref:v,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=V.forwardRef((p,y)=>{const{scope:g,children:b,...x}=p,v=V.useRef(null),w=Qe(y,v),_=a(u,g);return V.useEffect(()=>(_.itemMap.set(v,{ref:v,...x}),()=>void _.itemMap.delete(v))),o.jsx(Js,{[d]:"",ref:w,children:b})});h.displayName=u;function f(p){const y=a(e+"CollectionConsumer",p);return V.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const x=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((_,S)=>x.indexOf(_.ref.current)-x.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},f,r]}var $D=m.createContext(void 0);function Kd(e){const t=m.useContext($D);return e||t||"ltr"}function UD(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var zD="DismissableLayer",Qm="dismissableLayer.update",BD="dismissableLayer.pointerDownOutside",WD="dismissableLayer.focusOutside",H0,o_=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gd=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(o_),[d,h]=m.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=Qe(t,k=>h(k)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=g.indexOf(b),v=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=x,S=VD(k=>{const N=k.target,T=[...u.branches].some(R=>R.contains(N));!_||T||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},f),j=YD(k=>{const N=k.target;[...u.branches].some(R=>R.contains(N))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},f);return UD(k=>{v===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},f),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(H0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),q0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=H0)}},[d,f,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),q0())},[d,u]),m.useEffect(()=>{const k=()=>p({});return document.addEventListener(Qm,k),()=>document.removeEventListener(Qm,k)},[]),o.jsx(ge.div,{...c,ref:y,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:se(e.onFocusCapture,j.onFocusCapture),onBlurCapture:se(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:se(e.onPointerDownCapture,S.onPointerDownCapture)})});Gd.displayName=zD;var HD="DismissableLayerBranch",qD=m.forwardRef((e,t)=>{const n=m.useContext(o_),r=m.useRef(null),s=Qe(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(ge.div,{...e,ref:s})});qD.displayName=HD;function VD(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){l_(BD,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function YD(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e),r=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!r.current&&l_(WD,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function q0(){const e=new CustomEvent(Qm);document.dispatchEvent(e)}function l_(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?i_(s,a):s.dispatchEvent(a)}var ch=0;function Eg(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??V0()),document.body.insertAdjacentElement("beforeend",e[1]??V0()),ch++,()=>{ch===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ch--}},[])}function V0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var uh="focusScope.autoFocusOnMount",dh="focusScope.autoFocusOnUnmount",Y0={bubbles:!1,cancelable:!0},KD="FocusScope",Qd=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=m.useState(null),u=Ln(s),d=Ln(a),h=m.useRef(null),f=Qe(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?h.current=_:bs(h.current,{select:!0})},b=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||bs(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&bs(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(x);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){G0.add(p);const g=document.activeElement;if(!l.contains(g)){const x=new CustomEvent(uh,Y0);l.addEventListener(uh,u),l.dispatchEvent(x),x.defaultPrevented||(GD(eO(c_(l)),{select:!0}),document.activeElement===g&&bs(l))}return()=>{l.removeEventListener(uh,u),setTimeout(()=>{const x=new CustomEvent(dh,Y0);l.addEventListener(dh,d),l.dispatchEvent(x),x.defaultPrevented||bs(g??document.body,{select:!0}),l.removeEventListener(dh,d),G0.remove(p)},0)}}},[l,u,d,p]);const y=m.useCallback(g=>{if(!n&&!r||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,x=document.activeElement;if(b&&x){const v=g.currentTarget,[w,_]=QD(v);w&&_?!g.shiftKey&&x===_?(g.preventDefault(),n&&bs(w,{select:!0})):g.shiftKey&&x===w&&(g.preventDefault(),n&&bs(_,{select:!0})):x===v&&g.preventDefault()}},[n,r,p.paused]);return o.jsx(ge.div,{tabIndex:-1,...i,ref:f,onKeyDown:y})});Qd.displayName=KD;function GD(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(bs(r,{select:t}),document.activeElement!==n)return}function QD(e){const t=c_(e),n=K0(t,e),r=K0(t.reverse(),e);return[n,r]}function c_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function K0(e,t){for(const n of e)if(!XD(n,{upTo:t}))return n}function XD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JD(e){return e instanceof HTMLInputElement&&"select"in e}function bs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&JD(e)&&t&&e.select()}}var G0=ZD();function ZD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Q0(e,t),e.unshift(t)},remove(t){var n;e=Q0(e,t),(n=e[0])==null||n.resume()}}}function Q0(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function eO(e){return e.filter(t=>t.tagName!=="A")}var qt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},tO=Gx.useId||(()=>{}),nO=0;function Ir(e){const[t,n]=m.useState(tO());return qt(()=>{e||n(r=>r??String(nO++))},[e]),e||(t?`radix-${t}`:"")}const rO=["top","right","bottom","left"],ea=Math.min,Rn=Math.max,ld=Math.round,Jc=Math.floor,ta=e=>({x:e,y:e}),sO={left:"right",right:"left",bottom:"top",top:"bottom"},aO={start:"end",end:"start"};function Xm(e,t,n){return Rn(e,ea(t,n))}function is(e,t){return typeof e=="function"?e(t):e}function os(e){return e.split("-")[0]}function Eo(e){return e.split("-")[1]}function Pg(e){return e==="x"?"y":"x"}function Tg(e){return e==="y"?"height":"width"}function na(e){return["top","bottom"].includes(os(e))?"y":"x"}function Mg(e){return Pg(na(e))}function iO(e,t,n){n===void 0&&(n=!1);const r=Eo(e),s=Mg(e),a=Tg(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=cd(i)),[i,cd(i)]}function oO(e){const t=cd(e);return[Jm(e),t,Jm(t)]}function Jm(e){return e.replace(/start|end/g,t=>aO[t])}function lO(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:i;default:return[]}}function cO(e,t,n,r){const s=Eo(e);let a=lO(os(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(Jm)))),a}function cd(e){return e.replace(/left|right|bottom|top/g,t=>sO[t])}function uO(e){return{top:0,right:0,bottom:0,left:0,...e}}function u_(e){return typeof e!="number"?uO(e):{top:e,right:e,bottom:e,left:e}}function ud(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function X0(e,t,n){let{reference:r,floating:s}=e;const a=na(t),i=Mg(t),l=Tg(i),c=os(t),u=a==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Eo(t)){case"start":p[i]-=f*(n&&u?-1:1);break;case"end":p[i]+=f*(n&&u?-1:1);break}return p}const dO=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=X0(u,r,c),f=r,p={},y=0;for(let g=0;g<l.length;g++){const{name:b,fn:x}=l[g],{x:v,y:w,data:_,reset:S}=await x({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,h=w??h,p={...p,[b]:{...p[b],..._}},S&&y<=50&&(y++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:h}=X0(u,f,c)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Ql(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=is(t,e),y=u_(p),b=l[f?h==="floating"?"reference":"floating":h],x=ud(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=ud(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(x.top-S.top+y.top)/_.y,bottom:(S.bottom-x.bottom+y.bottom)/_.y,left:(x.left-S.left+y.left)/_.x,right:(S.right-x.right+y.right)/_.x}}const fO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=is(e,t)||{};if(u==null)return{};const h=u_(d),f={x:n,y:r},p=Mg(s),y=Tg(p),g=await i.getDimensions(u),b=p==="y",x=b?"top":"left",v=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=a.reference[y]+a.reference[p]-f[p]-a.floating[y],S=f[p]-a.reference[p],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=j?j[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(j)))&&(k=l.floating[w]||a.floating[y]);const N=_/2-S/2,T=k/2-g[y]/2-1,R=ea(h[x],T),L=ea(h[v],T),D=R,F=k-g[y]-L,H=k/2-g[y]/2+N,K=Xm(D,H,F),q=!c.arrow&&Eo(s)!=null&&H!==K&&a.reference[y]/2-(H<D?R:L)-g[y]/2<0,A=q?H<D?H-D:H-F:0;return{[p]:f[p]+A,data:{[p]:K,centerOffset:H-K-A,...q&&{alignmentOffset:A}},reset:q}}}),hO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...b}=is(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=os(s),v=na(l),w=os(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=f||(w||!g?[cd(l)]:oO(l)),j=y!=="none";!f&&j&&S.push(...cO(l,g,y,_));const k=[l,...S],N=await Ql(t,b),T=[];let R=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(N[x]),h){const H=iO(s,i,_);T.push(N[H[0]],N[H[1]])}if(R=[...R,{placement:s,overflows:T}],!T.every(H=>H<=0)){var L,D;const H=(((L=a.flip)==null?void 0:L.index)||0)+1,K=k[H];if(K)return{data:{index:H,overflows:R},reset:{placement:K}};let q=(D=R.filter(A=>A.overflows[0]<=0).sort((A,C)=>A.overflows[1]-C.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(p){case"bestFit":{var F;const A=(F=R.filter(C=>{if(j){const O=na(C.placement);return O===v||O==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(O=>O>0).reduce((O,U)=>O+U,0)]).sort((C,O)=>C[1]-O[1])[0])==null?void 0:F[0];A&&(q=A);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function J0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Z0(e){return rO.some(t=>e[t]>=0)}const mO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=is(e,t);switch(r){case"referenceHidden":{const a=await Ql(t,{...s,elementContext:"reference"}),i=J0(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Z0(i)}}}case"escaped":{const a=await Ql(t,{...s,altBoundary:!0}),i=J0(a,n.floating);return{data:{escapedOffsets:i,escaped:Z0(i)}}}default:return{}}}}};async function pO(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=os(n),l=Eo(n),c=na(n)==="y",u=["left","top"].includes(i)?-1:1,d=a&&c?-1:1,h=is(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const gO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await pO(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},vO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x,y:v}=b;return{x,y:v}}},...c}=is(e,t),u={x:n,y:r},d=await Ql(t,c),h=na(os(s)),f=Pg(h);let p=u[f],y=u[h];if(a){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=p+d[b],w=p-d[x];p=Xm(v,p,w)}if(i){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",v=y+d[b],w=y-d[x];y=Xm(v,y,w)}const g=l.fn({...t,[f]:p,[h]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:a,[h]:i}}}}}},yO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=is(e,t),d={x:n,y:r},h=na(s),f=Pg(h);let p=d[f],y=d[h];const g=is(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",_=a.reference[f]-a.floating[w]+b.mainAxis,S=a.reference[f]+a.reference[w]-b.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var x,v;const w=f==="y"?"width":"height",_=["top","left"].includes(os(s)),S=a.reference[h]-a.floating[w]+(_&&((x=i.offset)==null?void 0:x[h])||0)+(_?0:b.crossAxis),j=a.reference[h]+a.reference[w]+(_?0:((v=i.offset)==null?void 0:v[h])||0)-(_?b.crossAxis:0);y<S?y=S:y>j&&(y=j)}return{[f]:p,[h]:y}}}},xO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=is(e,t),d=await Ql(t,u),h=os(s),f=Eo(s),p=na(s)==="y",{width:y,height:g}=a.floating;let b,x;h==="top"||h==="bottom"?(b=h,x=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,b=f==="end"?"top":"bottom");const v=g-d.top-d.bottom,w=y-d.left-d.right,_=ea(g-d[b],v),S=ea(y-d[x],w),j=!t.middlewareData.shift;let k=_,N=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=v),j&&!f){const R=Rn(d.left,0),L=Rn(d.right,0),D=Rn(d.top,0),F=Rn(d.bottom,0);p?N=y-2*(R!==0||L!==0?R+L:Rn(d.left,d.right)):k=g-2*(D!==0||F!==0?D+F:Rn(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:k});const T=await i.getDimensions(l.floating);return y!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function Xd(){return typeof window<"u"}function Po(e){return d_(e)?(e.nodeName||"").toLowerCase():"#document"}function An(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fr(e){var t;return(t=(d_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function d_(e){return Xd()?e instanceof Node||e instanceof An(e).Node:!1}function mr(e){return Xd()?e instanceof Element||e instanceof An(e).Element:!1}function Lr(e){return Xd()?e instanceof HTMLElement||e instanceof An(e).HTMLElement:!1}function ex(e){return!Xd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof An(e).ShadowRoot}function dc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function wO(e){return["table","td","th"].includes(Po(e))}function Jd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Rg(e){const t=Dg(),n=mr(e)?pr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bO(e){let t=ra(e);for(;Lr(t)&&!po(t);){if(Rg(t))return t;if(Jd(t))return null;t=ra(t)}return null}function Dg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function po(e){return["html","body","#document"].includes(Po(e))}function pr(e){return An(e).getComputedStyle(e)}function Zd(e){return mr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ra(e){if(Po(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ex(e)&&e.host||Fr(e);return ex(t)?t.host:t}function f_(e){const t=ra(e);return po(t)?e.ownerDocument?e.ownerDocument.body:e.body:Lr(t)&&dc(t)?t:f_(t)}function Xl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=f_(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=An(s);if(a){const l=Zm(i);return t.concat(i,i.visualViewport||[],dc(s)?s:[],l&&n?Xl(l):[])}return t.concat(s,Xl(s,[],n))}function Zm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function h_(e){const t=pr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Lr(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=ld(n)!==a||ld(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Og(e){return mr(e)?e:e.contextElement}function Wi(e){const t=Og(e);if(!Lr(t))return ta(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=h_(t);let i=(a?ld(n.width):n.width)/r,l=(a?ld(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const _O=ta(0);function m_(e){const t=An(e);return!Dg()||!t.visualViewport?_O:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function jO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==An(e)?!1:t}function Ja(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=Og(e);let i=ta(1);t&&(r?mr(r)&&(i=Wi(r)):i=Wi(e));const l=jO(a,n,r)?m_(a):ta(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(a){const f=An(a),p=r&&mr(r)?An(r):r;let y=f,g=Zm(y);for(;g&&r&&p!==y;){const b=Wi(g),x=g.getBoundingClientRect(),v=pr(g),w=x.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,_=x.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=w,u+=_,y=An(g),g=Zm(y)}}return ud({width:d,height:h,x:c,y:u})}function SO(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=Fr(r),l=t?Jd(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=ta(1);const d=ta(0),h=Lr(r);if((h||!h&&!a)&&((Po(r)!=="body"||dc(i))&&(c=Zd(r)),Lr(r))){const f=Ja(r);u=Wi(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function NO(e){return Array.from(e.getClientRects())}function ep(e,t){const n=Zd(e).scrollLeft;return t?t.left+n:Ja(Fr(e)).left+n}function CO(e){const t=Fr(e),n=Zd(e),r=e.ownerDocument.body,s=Rn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Rn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+ep(e);const l=-n.scrollTop;return pr(r).direction==="rtl"&&(i+=Rn(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function kO(e,t){const n=An(e),r=Fr(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=Dg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}function EO(e,t){const n=Ja(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Lr(e)?Wi(e):ta(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function tx(e,t,n){let r;if(t==="viewport")r=kO(e,n);else if(t==="document")r=CO(Fr(e));else if(mr(t))r=EO(t,n);else{const s=m_(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return ud(r)}function p_(e,t){const n=ra(e);return n===t||!mr(n)||po(n)?!1:pr(n).position==="fixed"||p_(n,t)}function PO(e,t){const n=t.get(e);if(n)return n;let r=Xl(e,[],!1).filter(l=>mr(l)&&Po(l)!=="body"),s=null;const a=pr(e).position==="fixed";let i=a?ra(e):e;for(;mr(i)&&!po(i);){const l=pr(i),c=Rg(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||dc(i)&&!c&&p_(e,i))?r=r.filter(d=>d!==i):s=l,i=ra(i)}return t.set(e,r),r}function TO(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Jd(t)?[]:PO(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const h=tx(t,d,s);return u.top=Rn(h.top,u.top),u.right=ea(h.right,u.right),u.bottom=ea(h.bottom,u.bottom),u.left=Rn(h.left,u.left),u},tx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MO(e){const{width:t,height:n}=h_(e);return{width:t,height:n}}function RO(e,t,n){const r=Lr(t),s=Fr(t),a=n==="fixed",i=Ja(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ta(0);if(r||!r&&!a)if((Po(t)!=="body"||dc(s))&&(l=Zd(t)),r){const p=Ja(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=ep(s));let u=0,d=0;if(s&&!r&&!a){const p=s.getBoundingClientRect();d=p.top+l.scrollTop,u=p.left+l.scrollLeft-ep(s,p)}const h=i.left+l.scrollLeft-c.x-u,f=i.top+l.scrollTop-c.y-d;return{x:h,y:f,width:i.width,height:i.height}}function fh(e){return pr(e).position==="static"}function nx(e,t){if(!Lr(e)||pr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fr(e)===n&&(n=n.ownerDocument.body),n}function g_(e,t){const n=An(e);if(Jd(e))return n;if(!Lr(e)){let s=ra(e);for(;s&&!po(s);){if(mr(s)&&!fh(s))return s;s=ra(s)}return n}let r=nx(e,t);for(;r&&wO(r)&&fh(r);)r=nx(r,t);return r&&po(r)&&fh(r)&&!Rg(r)?n:r||bO(e)||n}const DO=async function(e){const t=this.getOffsetParent||g_,n=this.getDimensions,r=await n(e.floating);return{reference:RO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OO(e){return pr(e).direction==="rtl"}const AO={convertOffsetParentRelativeRectToViewportRelativeRect:SO,getDocumentElement:Fr,getClippingRect:TO,getOffsetParent:g_,getElementRects:DO,getClientRects:NO,getDimensions:MO,getScale:Wi,isElement:mr,isRTL:OO};function IO(e,t){let n=null,r;const s=Fr(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const p=Jc(d),y=Jc(s.clientWidth-(u+h)),g=Jc(s.clientHeight-(d+f)),b=Jc(u),v={rootMargin:-p+"px "+-y+"px "+-g+"px "+-b+"px",threshold:Rn(0,ea(1,c))||1};let w=!0;function _(S){const j=S[0].intersectionRatio;if(j!==c){if(!w)return i();j?i(!1,j):r=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(_,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,v)}n.observe(e)}return i(!0),a}function LO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Og(e),d=s||a?[...u?Xl(u):[],...Xl(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const h=u&&l?IO(u,n):null;let f=-1,p=null;i&&(p=new ResizeObserver(x=>{let[v]=x;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let y,g=c?Ja(e):null;c&&b();function b(){const x=Ja(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,y=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(v=>{s&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),h==null||h(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const FO=gO,$O=vO,UO=hO,zO=xO,BO=mO,rx=fO,WO=yO,HO=(e,t,n)=>{const r=new Map,s={platform:AO,...n},a={...s.platform,_c:r};return dO(e,t,{...s,platform:a})};var ju=typeof document<"u"?m.useLayoutEffect:m.useEffect;function dd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!dd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!dd(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function v_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sx(e,t){const n=v_(e);return Math.round(t*n)/n}function hh(e){const t=m.useRef(e);return ju(()=>{t.current=e}),t}function qO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(r);dd(f,r)||p(r);const[y,g]=m.useState(null),[b,x]=m.useState(null),v=m.useCallback(C=>{C!==j.current&&(j.current=C,g(C))},[]),w=m.useCallback(C=>{C!==k.current&&(k.current=C,x(C))},[]),_=a||y,S=i||b,j=m.useRef(null),k=m.useRef(null),N=m.useRef(d),T=c!=null,R=hh(c),L=hh(s),D=hh(u),F=m.useCallback(()=>{if(!j.current||!k.current)return;const C={placement:t,strategy:n,middleware:f};L.current&&(C.platform=L.current),HO(j.current,k.current,C).then(O=>{const U={...O,isPositioned:D.current!==!1};H.current&&!dd(N.current,U)&&(N.current=U,ri.flushSync(()=>{h(U)}))})},[f,t,n,L,D]);ju(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[u]);const H=m.useRef(!1);ju(()=>(H.current=!0,()=>{H.current=!1}),[]),ju(()=>{if(_&&(j.current=_),S&&(k.current=S),_&&S){if(R.current)return R.current(_,S,F);F()}},[_,S,F,R,T]);const K=m.useMemo(()=>({reference:j,floating:k,setReference:v,setFloating:w}),[v,w]),q=m.useMemo(()=>({reference:_,floating:S}),[_,S]),A=m.useMemo(()=>{const C={position:n,left:0,top:0};if(!q.floating)return C;const O=sx(q.floating,d.x),U=sx(q.floating,d.y);return l?{...C,transform:"translate("+O+"px, "+U+"px)",...v_(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:U}},[n,l,q.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:F,refs:K,elements:q,floatingStyles:A}),[d,F,K,q,A])}const VO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?rx({element:r.current,padding:s}).fn(n):{}:r?rx({element:r,padding:s}).fn(n):{}}}},YO=(e,t)=>({...FO(e),options:[e,t]}),KO=(e,t)=>({...$O(e),options:[e,t]}),GO=(e,t)=>({...WO(e),options:[e,t]}),QO=(e,t)=>({...UO(e),options:[e,t]}),XO=(e,t)=>({...zO(e),options:[e,t]}),JO=(e,t)=>({...BO(e),options:[e,t]}),ZO=(e,t)=>({...VO(e),options:[e,t]});var eA="Arrow",y_=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(ge.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});y_.displayName=eA;var tA=y_;function nA(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:f,children:p,...y}=h,g=(f==null?void 0:f[e][c])||l,b=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:b,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||l,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,rA(s,...t)]}function rA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Ag(e){const[t,n]=m.useState(void 0);return qt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ig="Popper",[x_,ef]=nA(Ig),[sA,w_]=x_(Ig),b_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return o.jsx(sA,{scope:t,anchor:r,onAnchorChange:s,children:n})};b_.displayName=Ig;var __="PopperAnchor",j_=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=w_(__,n),i=m.useRef(null),l=Qe(t,i);return m.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:o.jsx(ge.div,{...s,ref:l})});j_.displayName=__;var Lg="PopperContent",[aA,iA]=x_(Lg),S_=m.forwardRef((e,t)=>{var Z,Pe,Ae,Ce,me,Ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,b=w_(Lg,n),[x,v]=m.useState(null),w=Qe(t,Ot=>v(Ot)),[_,S]=m.useState(null),j=Ag(_),k=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,T=r+(a!=="center"?"-"+a:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],D=L.length>0,F={padding:R,boundary:L.filter(lA),altBoundary:D},{refs:H,floatingStyles:K,placement:q,isPositioned:A,middlewareData:C}=qO({strategy:"fixed",placement:T,whileElementsMounted:(...Ot)=>LO(...Ot,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[YO({mainAxis:s+N,alignmentAxis:i}),c&&KO({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?GO():void 0,...F}),c&&QO({...F}),XO({...F,apply:({elements:Ot,rects:nn,availableWidth:Vt,availableHeight:fn})=>{const{width:Ur,height:oi}=nn.reference,Pt=Ot.floating.style;Pt.setProperty("--radix-popper-available-width",`${Vt}px`),Pt.setProperty("--radix-popper-available-height",`${fn}px`),Pt.setProperty("--radix-popper-anchor-width",`${Ur}px`),Pt.setProperty("--radix-popper-anchor-height",`${oi}px`)}}),_&&ZO({element:_,padding:l}),cA({arrowWidth:k,arrowHeight:N}),f&&JO({strategy:"referenceHidden",...F})]}),[O,U]=k_(q),$=Ln(y);qt(()=>{A&&($==null||$())},[A,$]);const Y=(Z=C.arrow)==null?void 0:Z.x,fe=(Pe=C.arrow)==null?void 0:Pe.y,ye=((Ae=C.arrow)==null?void 0:Ae.centerOffset)!==0,[Ve,ue]=m.useState();return qt(()=>{x&&ue(window.getComputedStyle(x).zIndex)},[x]),o.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:A?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(Ce=C.transformOrigin)==null?void 0:Ce.x,(me=C.transformOrigin)==null?void 0:me.y].join(" "),...((Ne=C.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(aA,{scope:n,placedSide:O,onArrowChange:S,arrowX:Y,arrowY:fe,shouldHideArrow:ye,children:o.jsx(ge.div,{"data-side":O,"data-align":U,...g,ref:w,style:{...g.style,animation:A?void 0:"none"}})})})});S_.displayName=Lg;var N_="PopperArrow",oA={top:"bottom",right:"left",bottom:"top",left:"right"},C_=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=iA(N_,r),i=oA[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(tA,{...s,ref:n,style:{...s.style,display:"block"}})})});C_.displayName=N_;function lA(e){return e!==null}var cA=e=>({name:"transformOrigin",options:e,fn(t){var b,x,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=k_(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=i?h:`${f}px`,g=`${-c}px`):u==="top"?(y=i?h:`${f}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=i?h:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=i?h:`${p}px`),{data:{x:y,y:g}}}});function k_(e){const[t,n="center"]=e.split("-");return[t,n]}var E_=b_,P_=j_,T_=S_,M_=C_,uA="Portal",tf=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=m.useState(!1);qt(()=>a(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?ug.createPortal(o.jsx(ge.div,{...r,ref:t}),i):null});tf.displayName=uA;function dA(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var $r=e=>{const{present:t,children:n}=e,r=fA(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=Qe(r.ref,hA(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:a}):null};$r.displayName="Presence";function fA(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=dA(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Zc(r.current);a.current=l==="mounted"?u:"none"},[l]),qt(()=>{const u=r.current,d=s.current;if(d!==e){const f=a.current,p=Zc(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),qt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const g=Zc(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(a.current=Zc(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Zc(e){return(e==null?void 0:e.animationName)||"none"}function hA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function mA(e,t=[]){let n=[];function r(a,i){const l=m.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:f,children:p,...y}=h,g=(f==null?void 0:f[e][c])||l,b=m.useMemo(()=>y,Object.values(y));return o.jsx(g.Provider,{value:b,children:p})}function d(h,f){const p=(f==null?void 0:f[e][c])||l,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,pA(s,...t)]}function pA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var mh="rovingFocusGroup.onEntryFocus",gA={bubbles:!1,cancelable:!0},nf="RovingFocusGroup",[tp,R_,vA]=kg(nf),[yA,rf]=mA(nf,[vA]),[xA,wA]=yA(nf),D_=m.forwardRef((e,t)=>o.jsx(tp.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(tp.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(bA,{...e,ref:t})})}));D_.displayName=nf;var bA=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=m.useRef(null),p=Qe(t,f),y=Kd(a),[g=null,b]=Zs({prop:i,defaultProp:l,onChange:c}),[x,v]=m.useState(!1),w=Ln(u),_=R_(n),S=m.useRef(!1),[j,k]=m.useState(0);return m.useEffect(()=>{const N=f.current;if(N)return N.addEventListener(mh,w),()=>N.removeEventListener(mh,w)},[w]),o.jsx(xA,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(N=>b(N),[b]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>k(N=>N-1),[]),children:o.jsx(ge.div,{tabIndex:x||j===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:se(e.onMouseDown,()=>{S.current=!0}),onFocus:se(e.onFocus,N=>{const T=!S.current;if(N.target===N.currentTarget&&T&&!x){const R=new CustomEvent(mh,gA);if(N.currentTarget.dispatchEvent(R),!R.defaultPrevented){const L=_().filter(q=>q.focusable),D=L.find(q=>q.active),F=L.find(q=>q.id===g),K=[D,F,...L].filter(Boolean).map(q=>q.ref.current);I_(K,d)}}S.current=!1}),onBlur:se(e.onBlur,()=>v(!1))})})}),O_="RovingFocusGroupItem",A_=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...i}=e,l=Ir(),c=a||l,u=wA(O_,n),d=u.currentTabStopId===c,h=R_(n),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(r)return f(),()=>p()},[r,f,p]),o.jsx(tp.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(ge.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:se(e.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:se(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:se(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=SA(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let x=h().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")x.reverse();else if(g==="prev"||g==="next"){g==="prev"&&x.reverse();const v=x.indexOf(y.currentTarget);x=u.loop?NA(x,v+1):x.slice(v+1)}setTimeout(()=>I_(x))}})})})});A_.displayName=O_;var _A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jA(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function SA(e,t,n){const r=jA(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _A[r]}function I_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function NA(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var L_=D_,F_=A_,CA=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vi=new WeakMap,eu=new WeakMap,tu={},ph=0,$_=function(e){return e&&(e.host||$_(e.parentNode))},kA=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},EA=function(e,t,n,r){var s=kA(t,Array.isArray(e)?e:[e]);tu[n]||(tu[n]=new WeakMap);var a=tu[n],i=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),y=p!==null&&p!=="false",g=(vi.get(f)||0)+1,b=(a.get(f)||0)+1;vi.set(f,g),a.set(f,b),i.push(f),g===1&&y&&eu.set(f,!0),b===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(t),l.clear(),ph++,function(){i.forEach(function(h){var f=vi.get(h)-1,p=a.get(h)-1;vi.set(h,f),a.set(h,p),f||(eu.has(h)||h.removeAttribute(r),eu.delete(h)),p||h.removeAttribute(n)}),ph--,ph||(vi=new WeakMap,vi=new WeakMap,eu=new WeakMap,tu={})}},Fg=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=CA(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),EA(r,s,n,"aria-hidden")):function(){return null}},Tr=function(){return Tr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Tr.apply(this,arguments)};function U_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function PA(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Su="right-scroll-bar-position",Nu="width-before-scroll-bar",TA="with-scroll-bars-hidden",MA="--removed-body-scroll-bar-size";function gh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function RA(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var DA=typeof window<"u"?m.useLayoutEffect:m.useEffect,ax=new WeakMap;function OA(e,t){var n=RA(null,function(r){return e.forEach(function(s){return gh(s,r)})});return DA(function(){var r=ax.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||gh(l,null)}),a.forEach(function(l){s.has(l)||gh(l,i)})}ax.set(n,e)},[e]),n}function AA(e){return e}function IA(e,t){t===void 0&&(t=AA);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function LA(e){e===void 0&&(e={});var t=IA(null);return t.options=Tr({async:!0,ssr:!1},e),t}var z_=function(e){var t=e.sideCar,n=U_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Tr({},n))};z_.isSideCarExport=!0;function FA(e,t){return e.useMedium(t),z_}var B_=LA(),vh=function(){},sf=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:vh,onWheelCapture:vh,onTouchMoveCapture:vh}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,y=e.inert,g=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,v=e.gapMode,w=U_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,S=OA([n,t]),j=Tr(Tr({},w),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:B_,removeScrollBar:u,shards:h,noIsolation:p,inert:y,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:v}),i?m.cloneElement(m.Children.only(l),Tr(Tr({},j),{ref:S})):m.createElement(x,Tr({},j,{className:c,ref:S}),l))});sf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sf.classNames={fullWidth:Nu,zeroRight:Su};var $A=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=$A();return t&&e.setAttribute("nonce",t),e}function zA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function BA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WA=function(){var e=0,t=null;return{add:function(n){e==0&&(t=UA())&&(zA(t,n),BA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HA=function(){var e=WA();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},W_=function(){var e=HA(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},qA={left:0,top:0,right:0,gap:0},yh=function(e){return parseInt(e||"",10)||0},VA=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[yh(n),yh(r),yh(s)]},YA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qA;var t=VA(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},KA=W_(),Hi="data-scroll-locked",GA=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(TA,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Hi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Su,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Nu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Su," .").concat(Su,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Nu," .").concat(Nu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hi,`] {
    `).concat(MA,": ").concat(l,`px;
  }
`)},ix=function(){var e=parseInt(document.body.getAttribute(Hi)||"0",10);return isFinite(e)?e:0},QA=function(){m.useEffect(function(){return document.body.setAttribute(Hi,(ix()+1).toString()),function(){var e=ix()-1;e<=0?document.body.removeAttribute(Hi):document.body.setAttribute(Hi,e.toString())}},[])},XA=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;QA();var a=m.useMemo(function(){return YA(s)},[s]);return m.createElement(KA,{styles:GA(a,!t,s,n?"":"!important")})},np=!1;if(typeof window<"u")try{var nu=Object.defineProperty({},"passive",{get:function(){return np=!0,!0}});window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{np=!1}var yi=np?{passive:!1}:!1,JA=function(e){return e.tagName==="TEXTAREA"},H_=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!JA(e)&&n[t]==="visible")},ZA=function(e){return H_(e,"overflowY")},e4=function(e){return H_(e,"overflowX")},ox=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=q_(e,r);if(s){var a=V_(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},t4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},n4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},q_=function(e,t){return e==="v"?ZA(t):e4(t)},V_=function(e,t){return e==="v"?t4(t):n4(t)},r4=function(e,t){return e==="h"&&t==="rtl"?-1:1},s4=function(e,t,n,r,s){var a=r4(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,d=i>0,h=0,f=0;do{var p=V_(e,l),y=p[0],g=p[1],b=p[2],x=g-b-a*y;(y||x)&&q_(e,l)&&(h+=x,f+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},ru=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lx=function(e){return[e.deltaX,e.deltaY]},cx=function(e){return e&&"current"in e?e.current:e},a4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},i4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},o4=0,xi=[];function l4(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(o4++)[0],a=m.useState(W_)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=PA([e.lockRef.current],(e.shards||[]).map(cx),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var x=ru(g),v=n.current,w="deltaX"in g?g.deltaX:v[0]-x[0],_="deltaY"in g?g.deltaY:v[1]-x[1],S,j=g.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&j.type==="range")return!1;var N=ox(k,j);if(!N)return!0;if(N?S=k:(S=k==="v"?"h":"v",N=ox(k,j)),!N)return!1;if(!r.current&&"changedTouches"in g&&(w||_)&&(r.current=S),!S)return!0;var T=r.current||S;return s4(T,b,g,T==="h"?w:_,!0)},[]),c=m.useCallback(function(g){var b=g;if(!(!xi.length||xi[xi.length-1]!==a)){var x="deltaY"in b?lx(b):ru(b),v=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&a4(S.delta,x)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var w=(i.current.shards||[]).map(cx).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=w.length>0?l(b,w[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(g,b,x,v){var w={name:g,delta:b,target:x,should:v,shadowParent:c4(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(g){n.current=ru(g),r.current=void 0},[]),h=m.useCallback(function(g){u(g.type,lx(g),g.target,l(g,e.lockRef.current))},[]),f=m.useCallback(function(g){u(g.type,ru(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return xi.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,yi),document.addEventListener("touchmove",c,yi),document.addEventListener("touchstart",d,yi),function(){xi=xi.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,yi),document.removeEventListener("touchmove",c,yi),document.removeEventListener("touchstart",d,yi)}},[]);var p=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(a,{styles:i4(s)}):null,p?m.createElement(XA,{gapMode:e.gapMode}):null)}function c4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const u4=FA(B_,l4);var af=m.forwardRef(function(e,t){return m.createElement(sf,Tr({},e,{ref:t,sideCar:u4}))});af.classNames=sf.classNames;var rp=["Enter"," "],d4=["ArrowDown","PageUp","Home"],Y_=["ArrowUp","PageDown","End"],f4=[...d4,...Y_],h4={ltr:[...rp,"ArrowRight"],rtl:[...rp,"ArrowLeft"]},m4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},fc="Menu",[Jl,p4,g4]=kg(fc),[ai,K_]=da(fc,[g4,ef,rf]),of=ef(),G_=rf(),[v4,ii]=ai(fc),[y4,hc]=ai(fc),Q_=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:i=!0}=e,l=of(t),[c,u]=m.useState(null),d=m.useRef(!1),h=Ln(a),f=Kd(s);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(E_,{...l,children:o.jsx(v4,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(y4,{scope:t,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:i,children:r})})})};Q_.displayName=fc;var x4="MenuAnchor",$g=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=of(n);return o.jsx(P_,{...s,...r,ref:t})});$g.displayName=x4;var Ug="MenuPortal",[w4,X_]=ai(Ug,{forceMount:void 0}),J_=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=ii(Ug,t);return o.jsx(w4,{scope:t,forceMount:n,children:o.jsx($r,{present:n||a.open,children:o.jsx(tf,{asChild:!0,container:s,children:r})})})};J_.displayName=Ug;var Qn="MenuContent",[b4,zg]=ai(Qn),Z_=m.forwardRef((e,t)=>{const n=X_(Qn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=ii(Qn,e.__scopeMenu),i=hc(Qn,e.__scopeMenu);return o.jsx(Jl.Provider,{scope:e.__scopeMenu,children:o.jsx($r,{present:r||a.open,children:o.jsx(Jl.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(_4,{...s,ref:t}):o.jsx(j4,{...s,ref:t})})})})}),_4=m.forwardRef((e,t)=>{const n=ii(Qn,e.__scopeMenu),r=m.useRef(null),s=Qe(t,r);return m.useEffect(()=>{const a=r.current;if(a)return Fg(a)},[]),o.jsx(Bg,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:se(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),j4=m.forwardRef((e,t)=>{const n=ii(Qn,e.__scopeMenu);return o.jsx(Bg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Bg=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:y,...g}=e,b=ii(Qn,n),x=hc(Qn,n),v=of(n),w=G_(n),_=p4(n),[S,j]=m.useState(null),k=m.useRef(null),N=Qe(t,k,b.onContentChange),T=m.useRef(0),R=m.useRef(""),L=m.useRef(0),D=m.useRef(null),F=m.useRef("right"),H=m.useRef(0),K=y?af:m.Fragment,q=y?{as:Js,allowPinchZoom:!0}:void 0,A=O=>{var Z,Pe;const U=R.current+O,$=_().filter(Ae=>!Ae.disabled),Y=document.activeElement,fe=(Z=$.find(Ae=>Ae.ref.current===Y))==null?void 0:Z.textValue,ye=$.map(Ae=>Ae.textValue),Ve=A4(ye,U,fe),ue=(Pe=$.find(Ae=>Ae.textValue===Ve))==null?void 0:Pe.ref.current;(function Ae(Ce){R.current=Ce,window.clearTimeout(T.current),Ce!==""&&(T.current=window.setTimeout(()=>Ae(""),1e3))})(U),ue&&setTimeout(()=>ue.focus())};m.useEffect(()=>()=>window.clearTimeout(T.current),[]),Eg();const C=m.useCallback(O=>{var $,Y;return F.current===(($=D.current)==null?void 0:$.side)&&L4(O,(Y=D.current)==null?void 0:Y.area)},[]);return o.jsx(b4,{scope:n,searchRef:R,onItemEnter:m.useCallback(O=>{C(O)&&O.preventDefault()},[C]),onItemLeave:m.useCallback(O=>{var U;C(O)||((U=k.current)==null||U.focus(),j(null))},[C]),onTriggerLeave:m.useCallback(O=>{C(O)&&O.preventDefault()},[C]),pointerGraceTimerRef:L,onPointerGraceIntentChange:m.useCallback(O=>{D.current=O},[]),children:o.jsx(K,{...q,children:o.jsx(Qd,{asChild:!0,trapped:s,onMountAutoFocus:se(a,O=>{var U;O.preventDefault(),(U=k.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(Gd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:o.jsx(L_,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:j,onEntryFocus:se(c,O=>{x.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(T_,{role:"menu","aria-orientation":"vertical","data-state":pj(b.open),"data-radix-menu-content":"",dir:x.dir,...v,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:se(g.onKeyDown,O=>{const $=O.target.closest("[data-radix-menu-content]")===O.currentTarget,Y=O.ctrlKey||O.altKey||O.metaKey,fe=O.key.length===1;$&&(O.key==="Tab"&&O.preventDefault(),!Y&&fe&&A(O.key));const ye=k.current;if(O.target!==ye||!f4.includes(O.key))return;O.preventDefault();const ue=_().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);Y_.includes(O.key)&&ue.reverse(),D4(ue)}),onBlur:se(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout(T.current),R.current="")}),onPointerMove:se(e.onPointerMove,Zl(O=>{const U=O.target,$=H.current!==O.clientX;if(O.currentTarget.contains(U)&&$){const Y=O.clientX>H.current?"right":"left";F.current=Y,H.current=O.clientX}}))})})})})})})});Z_.displayName=Qn;var S4="MenuGroup",Wg=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ge.div,{role:"group",...r,ref:t})});Wg.displayName=S4;var N4="MenuLabel",ej=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ge.div,{...r,ref:t})});ej.displayName=N4;var fd="MenuItem",ux="menu.itemSelect",lf=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=m.useRef(null),i=hc(fd,e.__scopeMenu),l=zg(fd,e.__scopeMenu),c=Qe(t,a),u=m.useRef(!1),d=()=>{const h=a.current;if(!n&&h){const f=new CustomEvent(ux,{bubbles:!0,cancelable:!0});h.addEventListener(ux,p=>r==null?void 0:r(p),{once:!0}),i_(h,f),f.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(tj,{...s,ref:c,disabled:n,onClick:se(e.onClick,d),onPointerDown:h=>{var f;(f=e.onPointerDown)==null||f.call(e,h),u.current=!0},onPointerUp:se(e.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:se(e.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||rp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});lf.displayName=fd;var tj=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,i=zg(fd,n),l=G_(n),c=m.useRef(null),u=Qe(t,c),[d,h]=m.useState(!1),[f,p]=m.useState("");return m.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[a.children]),o.jsx(Jl.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:o.jsx(F_,{asChild:!0,...l,focusable:!r,children:o.jsx(ge.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:se(e.onPointerMove,Zl(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:se(e.onPointerLeave,Zl(y=>i.onItemLeave(y))),onFocus:se(e.onFocus,()=>h(!0)),onBlur:se(e.onBlur,()=>h(!1))})})})}),C4="MenuCheckboxItem",nj=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return o.jsx(oj,{scope:e.__scopeMenu,checked:n,children:o.jsx(lf,{role:"menuitemcheckbox","aria-checked":hd(n)?"mixed":n,...s,ref:t,"data-state":qg(n),onSelect:se(s.onSelect,()=>r==null?void 0:r(hd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});nj.displayName=C4;var rj="MenuRadioGroup",[k4,E4]=ai(rj,{value:void 0,onValueChange:()=>{}}),sj=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=Ln(r);return o.jsx(k4,{scope:e.__scopeMenu,value:n,onValueChange:a,children:o.jsx(Wg,{...s,ref:t})})});sj.displayName=rj;var aj="MenuRadioItem",ij=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=E4(aj,e.__scopeMenu),a=n===s.value;return o.jsx(oj,{scope:e.__scopeMenu,checked:a,children:o.jsx(lf,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":qg(a),onSelect:se(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});ij.displayName=aj;var Hg="MenuItemIndicator",[oj,P4]=ai(Hg,{checked:!1}),lj=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=P4(Hg,n);return o.jsx($r,{present:r||hd(a.checked)||a.checked===!0,children:o.jsx(ge.span,{...s,ref:t,"data-state":qg(a.checked)})})});lj.displayName=Hg;var T4="MenuSeparator",cj=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});cj.displayName=T4;var M4="MenuArrow",uj=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=of(n);return o.jsx(M_,{...s,...r,ref:t})});uj.displayName=M4;var R4="MenuSub",[zU,dj]=ai(R4),ml="MenuSubTrigger",fj=m.forwardRef((e,t)=>{const n=ii(ml,e.__scopeMenu),r=hc(ml,e.__scopeMenu),s=dj(ml,e.__scopeMenu),a=zg(ml,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx($g,{asChild:!0,...u,children:o.jsx(tj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":pj(n.open),...e,ref:Ud(t,s.onTriggerChange),onClick:h=>{var f;(f=e.onClick)==null||f.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:se(e.onPointerMove,Zl(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:se(e.onPointerLeave,Zl(h=>{var p,y;d();const f=(p=n.content)==null?void 0:p.getBoundingClientRect();if(f){const g=(y=n.content)==null?void 0:y.dataset.side,b=g==="right",x=b?-5:5,v=f[b?"left":"right"],w=f[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:v,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:v,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:se(e.onKeyDown,h=>{var p;const f=a.searchRef.current!=="";e.disabled||f&&h.key===" "||h4[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});fj.displayName=ml;var hj="MenuSubContent",mj=m.forwardRef((e,t)=>{const n=X_(Qn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=ii(Qn,e.__scopeMenu),i=hc(Qn,e.__scopeMenu),l=dj(hj,e.__scopeMenu),c=m.useRef(null),u=Qe(t,c);return o.jsx(Jl.Provider,{scope:e.__scopeMenu,children:o.jsx($r,{present:r||a.open,children:o.jsx(Jl.Slot,{scope:e.__scopeMenu,children:o.jsx(Bg,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;i.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:se(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:se(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:se(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=m4[i.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});mj.displayName=hj;function pj(e){return e?"open":"closed"}function hd(e){return e==="indeterminate"}function qg(e){return hd(e)?"indeterminate":e?"checked":"unchecked"}function D4(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function O4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function A4(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=O4(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function I4(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function L4(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return I4(n,t)}function Zl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var F4=Q_,$4=$g,U4=J_,z4=Z_,B4=Wg,W4=ej,H4=lf,q4=nj,V4=sj,Y4=ij,K4=lj,G4=cj,Q4=uj,X4=fj,J4=mj,Vg="DropdownMenu",[Z4,BU]=da(Vg,[K_]),dn=K_(),[eI,gj]=Z4(Vg),vj=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=dn(t),u=m.useRef(null),[d=!1,h]=Zs({prop:s,defaultProp:a,onChange:i});return o.jsx(eI,{scope:t,triggerId:Ir(),triggerRef:u,contentId:Ir(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:l,children:o.jsx(F4,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};vj.displayName=Vg;var yj="DropdownMenuTrigger",xj=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=gj(yj,n),i=dn(n);return o.jsx($4,{asChild:!0,...i,children:o.jsx(ge.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ud(t,a.triggerRef),onPointerDown:se(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:se(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});xj.displayName=yj;var tI="DropdownMenuPortal",wj=e=>{const{__scopeDropdownMenu:t,...n}=e,r=dn(t);return o.jsx(U4,{...r,...n})};wj.displayName=tI;var bj="DropdownMenuContent",_j=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=gj(bj,n),a=dn(n),i=m.useRef(!1);return o.jsx(z4,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:se(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:se(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_j.displayName=bj;var nI="DropdownMenuGroup",rI=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(B4,{...s,...r,ref:t})});rI.displayName=nI;var sI="DropdownMenuLabel",jj=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(W4,{...s,...r,ref:t})});jj.displayName=sI;var aI="DropdownMenuItem",Sj=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(H4,{...s,...r,ref:t})});Sj.displayName=aI;var iI="DropdownMenuCheckboxItem",Nj=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(q4,{...s,...r,ref:t})});Nj.displayName=iI;var oI="DropdownMenuRadioGroup",lI=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(V4,{...s,...r,ref:t})});lI.displayName=oI;var cI="DropdownMenuRadioItem",Cj=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(Y4,{...s,...r,ref:t})});Cj.displayName=cI;var uI="DropdownMenuItemIndicator",kj=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(K4,{...s,...r,ref:t})});kj.displayName=uI;var dI="DropdownMenuSeparator",Ej=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(G4,{...s,...r,ref:t})});Ej.displayName=dI;var fI="DropdownMenuArrow",hI=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(Q4,{...s,...r,ref:t})});hI.displayName=fI;var mI="DropdownMenuSubTrigger",Pj=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(X4,{...s,...r,ref:t})});Pj.displayName=mI;var pI="DropdownMenuSubContent",Tj=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=dn(n);return o.jsx(J4,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Tj.displayName=pI;var gI=vj,vI=xj,yI=wj,Mj=_j,Rj=jj,Dj=Sj,Oj=Nj,Aj=Cj,Ij=kj,Lj=Ej,Fj=Pj,$j=Tj;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...wI,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Uj("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const n=m.forwardRef(({className:r,...s},a)=>m.createElement(bI,{ref:a,iconNode:t,className:Uj(`lucide-${xI(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=de("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=de("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=de("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=de("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=de("ChartColumnIncreasing",[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=de("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=de("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=de("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=de("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=de("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=de("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=de("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=de("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jg=gI,Zg=vI,KI=m.forwardRef(({className:e,inset:t,children:n,...r},s)=>o.jsxs(Fj,{ref:s,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,o.jsx(Hj,{className:"ml-auto h-4 w-4"})]}));KI.displayName=Fj.displayName;const GI=m.forwardRef(({className:e,...t},n)=>o.jsx($j,{ref:n,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));GI.displayName=$j.displayName;const df=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(yI,{children:o.jsx(Mj,{ref:r,sideOffset:t,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));df.displayName=Mj.displayName;const Ks=m.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(Dj,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ks.displayName=Dj.displayName;const QI=m.forwardRef(({className:e,children:t,checked:n,...r},s)=>o.jsxs(Oj,{ref:s,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Ij,{children:o.jsx(uf,{className:"h-4 w-4"})})}),t]}));QI.displayName=Oj.displayName;const XI=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Aj,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Ij,{children:o.jsx(PI,{className:"h-2 w-2 fill-current"})})}),t]}));XI.displayName=Aj.displayName;const Xj=m.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(Rj,{ref:r,className:ae("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Xj.displayName=Rj.displayName;const ap=m.forwardRef(({className:e,...t},n)=>o.jsx(Lj,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));ap.displayName=Lj.displayName;var ev="Dialog",[Jj,WU]=da(ev),[JI,xr]=Jj(ev),Zj=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=Zs({prop:r,defaultProp:s,onChange:a});return o.jsx(JI,{scope:t,triggerRef:l,contentRef:c,contentId:Ir(),titleId:Ir(),descriptionId:Ir(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};Zj.displayName=ev;var eS="DialogTrigger",tS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr(eS,n),a=Qe(t,s.triggerRef);return o.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":rv(s.open),...r,ref:a,onClick:se(e.onClick,s.onOpenToggle)})});tS.displayName=eS;var tv="DialogPortal",[ZI,nS]=Jj(tv,{forceMount:void 0}),rS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=xr(tv,t);return o.jsx(ZI,{scope:t,forceMount:n,children:m.Children.map(r,i=>o.jsx($r,{present:n||a.open,children:o.jsx(tf,{asChild:!0,container:s,children:i})}))})};rS.displayName=tv;var md="DialogOverlay",sS=m.forwardRef((e,t)=>{const n=nS(md,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=xr(md,e.__scopeDialog);return a.modal?o.jsx($r,{present:r||a.open,children:o.jsx(eL,{...s,ref:t})}):null});sS.displayName=md;var eL=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr(md,n);return o.jsx(af,{as:Js,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(ge.div,{"data-state":rv(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Za="DialogContent",aS=m.forwardRef((e,t)=>{const n=nS(Za,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=xr(Za,e.__scopeDialog);return o.jsx($r,{present:r||a.open,children:a.modal?o.jsx(tL,{...s,ref:t}):o.jsx(nL,{...s,ref:t})})});aS.displayName=Za;var tL=m.forwardRef((e,t)=>{const n=xr(Za,e.__scopeDialog),r=m.useRef(null),s=Qe(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return Fg(a)},[]),o.jsx(iS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:se(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:se(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:se(e.onFocusOutside,a=>a.preventDefault())})}),nL=m.forwardRef((e,t)=>{const n=xr(Za,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return o.jsx(iS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),iS=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=xr(Za,n),c=m.useRef(null),u=Qe(t,c);return Eg(),o.jsxs(o.Fragment,{children:[o.jsx(Qd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(Gd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(rL,{titleId:l.titleId}),o.jsx(aL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),nv="DialogTitle",oS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr(nv,n);return o.jsx(ge.h2,{id:s.titleId,...r,ref:t})});oS.displayName=nv;var lS="DialogDescription",cS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr(lS,n);return o.jsx(ge.p,{id:s.descriptionId,...r,ref:t})});cS.displayName=lS;var uS="DialogClose",dS=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=xr(uS,n);return o.jsx(ge.button,{type:"button",...r,ref:t,onClick:se(e.onClick,()=>s.onOpenChange(!1))})});dS.displayName=uS;function rv(e){return e?"open":"closed"}var fS="DialogTitleWarning",[HU,hS]=DD(fS,{contentName:Za,titleName:nv,docsSlug:"dialog"}),rL=({titleId:e})=>{const t=hS(fS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},sL="DialogDescriptionWarning",aL=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${hS(sL).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},iL=Zj,oL=tS,lL=rS,mS=sS,pS=aS,gS=oS,vS=cS,cL=dS;const yS=iL,uL=oL,dL=lL,xS=m.forwardRef(({className:e,...t},n)=>o.jsx(mS,{ref:n,className:ae("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));xS.displayName=mS.displayName;const sv=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(dL,{children:[o.jsx(xS,{}),o.jsxs(pS,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(cL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Wa,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sv.displayName=pS.displayName;const av=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});av.displayName="DialogHeader";const wS=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});wS.displayName="DialogFooter";const iv=m.forwardRef(({className:e,...t},n)=>o.jsx(gS,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));iv.displayName=gS.displayName;const fL=m.forwardRef(({className:e,...t},n)=>o.jsx(vS,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));fL.displayName=vS.displayName;const Oe=m.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Oe.displayName="Input";var hL="Label",bS=m.forwardRef((e,t)=>o.jsx(ge.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bS.displayName=hL;var _S=bS;const mL=xg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_e=m.forwardRef(({className:e,...t},n)=>o.jsx(_S,{ref:n,className:ae(mL(),e),...t}));_e.displayName=_S.displayName;function pL({imagePreview:e,onImageSelect:t,onImageRemove:n}){const r=s=>{s.target.files&&s.target.files[0]&&t(s.target.files[0])};return o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"coverImage",children:"Cover Image"}),o.jsx("div",{className:"flex items-center gap-4",children:e?o.jsxs("div",{className:"relative w-32 h-32",children:[o.jsx("img",{src:e,alt:"Story cover",className:"w-full h-full object-cover rounded-lg"}),o.jsx(X,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1",onClick:n,children:""})]}):o.jsxs("div",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center",children:[o.jsx(Oe,{type:"file",id:"coverImage",accept:"image/*",onChange:r,className:"hidden"}),o.jsxs("label",{htmlFor:"coverImage",className:"cursor-pointer flex flex-col items-center",children:[o.jsx(qI,{className:"w-8 h-8 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Upload Image"})]})]})})]})}const jS=[{value:"mental",label:"Mental Health"},{value:"control",label:"Self Control"},{value:"drugs",label:"Substance Abuse"},{value:"life",label:"Life Skills"},{value:"anxiety",label:"Anxiety"},{value:"depression",label:"Depression"}];function gL({selectedTag:e,onTagChange:t}){return o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"tagType",children:"Primary Tag"}),o.jsx("select",{id:"tagType",name:"tagType",className:"w-full h-10 pl-3 pr-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-mental-green-500",value:e,onChange:t,children:jS.map(n=>o.jsx("option",{value:n.value,children:n.label},n.value))})]})}const El=m.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:ae("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));El.displayName="Textarea";function vL({title:e,snippet:t,content:n,onInputChange:r}){return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"title",children:"Story Title"}),o.jsx(Oe,{id:"title",name:"title",value:e,onChange:r,placeholder:"Enter a title for your story",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"snippet",children:"Short Description"}),o.jsx(Oe,{id:"snippet",name:"snippet",value:t,onChange:r,placeholder:"A brief description that will appear in previews"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Optional - will use the beginning of your story if left blank"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"content",children:"Story Content"}),o.jsx(El,{id:"content",name:"content",value:n,onChange:r,placeholder:"Share your story...",className:"min-h-[200px]",required:!0})]})]})}function yL({onClose:e,story:t}){const{toast:n}=St(),r=tn(),{user:s}=Re(),[a,i]=m.useState(!1),[l,c]=m.useState({title:(t==null?void 0:t.title)||"",snippet:(t==null?void 0:t.snippet)||"",content:(t==null?void 0:t.content)||"",tags:(t==null?void 0:t.tags)||["Mental Health"],tagType:(t==null?void 0:t.tag_type)||"mental",coverImage:(t==null?void 0:t.cover_image)||""}),[u,d]=m.useState(null),[h,f]=m.useState((t==null?void 0:t.cover_image)||"");m.useEffect(()=>{t&&(f(t.cover_image),c({title:t.title,snippet:t.snippet,content:t.content,tags:t.tags,tagType:t.tag_type,coverImage:t.cover_image}))},[t]);const p=w=>{const{name:_,value:S}=w.target;c(j=>({...j,[_]:S}))},y=w=>{d(w),f(URL.createObjectURL(w)),c(_=>({..._,coverImage:URL.createObjectURL(w)}))},g=()=>{d(null),f(""),c(w=>({...w,coverImage:""}))},b=w=>{var j;const _=w.target.value,S=((j=jS.find(k=>k.value===_))==null?void 0:j.label)||"";c(k=>({...k,tagType:_,tags:[S,...k.tags.slice(1)]}))},x=async w=>{try{const _=w.name.split(".").pop(),j=`${`${Math.random().toString(36).substring(2,15)}.${_}`}`,{error:k}=await B.storage.from("story_images").upload(j,w);if(k)throw k;const{data:{publicUrl:N}}=B.storage.from("story_images").getPublicUrl(j);return N}catch(_){throw console.error("Error uploading image:",_),_}},v=async w=>{if(w.preventDefault(),!s){n({title:"Authentication required",description:"You must be logged in to create a story",variant:"destructive"});return}if(!l.title||!l.content){n({title:"Missing information",description:"Please provide a title and content for your story",variant:"destructive"});return}i(!0);try{let _=l.coverImage;u&&(_=await x(u));const{data:S}=await B.auth.getSession();if(!S.session)throw new Error("You must be logged in to create a story");const j={title:l.title,snippet:l.snippet||l.content.slice(0,100)+"...",content:l.content,cover_image:_,author_id:s.id,tags:l.tags,tag_type:l.tagType,is_featured:t?t.is_featured:!1,published_at:t?t.published_at:new Date().toISOString()};let k;t?k=await B.from("stories").update(j).eq("id",t.id).eq("author_id",s.id).select("id").single():k=await B.from("stories").insert(j).select("id").single();const{data:N,error:T}=k;if(T)throw console.error("Supabase error details:",T),T;n({title:t?"Story updated!":"Story published!",description:t?"Your story has been updated successfully":"Your story has been published successfully"}),e(),setTimeout(()=>{t?window.location.reload():r(`/story/${N.id}`)},500)}catch(_){console.error("Error creating/updating story:",_),n({title:t?"Failed to update story":"Failed to create story",description:(_==null?void 0:_.message)||"There was an error. Please try again.",variant:"destructive"})}finally{i(!1)}};return o.jsxs("form",{onSubmit:v,className:"space-y-4",children:[o.jsx(pL,{imagePreview:h,onImageSelect:y,onImageRemove:g}),o.jsx(vL,{title:l.title,snippet:l.snippet,content:l.content,onInputChange:p}),o.jsx(gL,{selectedTag:l.tagType,onTagChange:b}),o.jsxs(wS,{children:[o.jsx(X,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),o.jsx(X,{type:"submit",disabled:a,children:a?t?"Updating...":"Publishing...":t?"Update Story":"Publish Story"})]})]})}function Cu({children:e,story:t,onOpenChange:n}){const[r,s]=m.useState(!1),a=i=>{s(i),n&&n(i)};return o.jsxs(yS,{open:r,onOpenChange:a,children:[o.jsx(uL,{asChild:!0,children:e||o.jsx(X,{children:"Share Your Story"})}),o.jsxs(sv,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[o.jsx(av,{children:o.jsx(iv,{children:t?"Edit Your Story":"Create a New Story"})}),o.jsx(yL,{story:t,onClose:()=>a(!1)})]})]})}function xL(){const{profile:e,isAuthenticated:t,isAdmin:n,logout:r}=Re();return m.useState(!1),o.jsx("header",{className:"sticky top-0 z-20 w-full bg-[#025803] text-white",children:o.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[o.jsx("div",{className:"flex items-center space-x-6",children:o.jsxs(Bt,{to:"/",className:"flex items-center",children:[o.jsx("img",{src:"/assets/OurMinds.png",alt:"Our Minds Logo",className:"h-8 w-8"}),o.jsx("span",{className:"ml-2 text-lg font-semibold",children:"OUR MINDS"})]})}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[o.jsx(Bt,{to:"/",className:"hover:text-mental-green-100 transition-colors",children:"Home"}),o.jsx(Bt,{to:"/about",className:"hover:text-mental-green-100 transition-colors",children:"About Us"}),!t&&o.jsx(Bt,{to:"/login",className:"hover:text-mental-green-100 transition-colors",children:"Login"})]}),o.jsx("div",{className:"flex items-center space-x-4",children:t?o.jsxs(o.Fragment,{children:[o.jsx(Cu,{}),o.jsxs(Jg,{children:[o.jsx(Zg,{asChild:!0,children:o.jsx(X,{variant:"ghost",size:"icon",className:"rounded-full border-2 border-white overflow-hidden",children:e!=null&&e.profileImage?o.jsx("img",{src:e.profileImage,alt:e.name,className:"h-8 w-8 rounded-full object-cover"}):o.jsx("span",{className:"h-8 w-8 rounded-full bg-mental-green-500 flex items-center justify-center text-sm font-medium",children:e==null?void 0:e.name.charAt(0)})})}),o.jsxs(df,{align:"end",className:"w-56",children:[o.jsx(Xj,{children:o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("p",{className:"font-medium",children:e==null?void 0:e.name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})}),o.jsx(ap,{}),o.jsx(Ks,{asChild:!0,children:o.jsx(Bt,{to:"/profile",className:"cursor-pointer",children:"Profile"})}),n&&o.jsx(Ks,{asChild:!0,children:o.jsx(Bt,{to:"/admin",className:"cursor-pointer",children:"Admin Panel"})}),o.jsx(ap,{}),o.jsx(Ks,{onClick:()=>r(),className:"cursor-pointer",children:"Log out"})]})]})]}):o.jsx(Bt,{to:"/login",children:o.jsx(X,{variant:"secondary",children:"Login"})})})]})})}function wL({className:e}){const t=yr(),{isAuthenticated:n,user:r}=Re(),[s,a]=m.useState(0),{data:i,refetch:l}=Ft({queryKey:["unreadMessages",r==null?void 0:r.id],queryFn:async()=>{if(!r)return[];console.log("Fetching unread messages for user:",r.id);try{const{data:u,error:d}=await B.from("chat_threads").select("id").or(`user_id.eq.${r.id},consultant_id.eq.${r.id}`);if(d)return console.error("Error fetching threads:",d),[];if(!u||u.length===0)return[];const h=u.map(y=>y.id),{data:f,error:p}=await B.from("chat_messages").select("*").in("thread_id",h).neq("sender_id",r.id).eq("read",!1);return p?(console.error("Error fetching unread messages:",p),[]):(console.log("Unread messages:",(f==null?void 0:f.length)||0),f||[])}catch(u){return console.error("Error fetching unread messages:",u),[]}},enabled:!!n&&!!r});m.useEffect(()=>{if(!r)return;const u=B.channel("sidebar-unread-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},d=>{d.new&&d.new.sender_id!==r.id&&(console.log("New message detected, refetching unread count..."),l())}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:"read=eq.true"},()=>{console.log("Messages marked as read, refetching unread count..."),l()}).subscribe();return()=>{B.removeChannel(u)}},[r,l]),m.useEffect(()=>{i&&a(i.length)},[i]);const c=[{icon:AI,label:"Home",href:"/"},{icon:mc,label:"Chat",href:"/chat",badge:s>0?s:void 0},{icon:pc,label:"Consult",href:"/consult"},{icon:NI,label:"Book a session",href:"/book-session"}];return o.jsx("aside",{className:ae("w-16 md:w-52 h-full bg-gray-200 border-r border-gray-300",e),children:o.jsxs("nav",{className:"flex flex-col h-full py-6",children:[o.jsx("ul",{className:"space-y-2 px-2",children:c.map(u=>{const d=t.pathname===u.href||u.href==="/chat"&&t.pathname.startsWith("/chat");return o.jsx("li",{children:o.jsxs(Bt,{to:u.href,className:ae("flex items-center px-3 py-2 rounded-lg transition-colors relative",d?"bg-mental-green-600 text-white":"text-gray-700 hover:bg-gray-300","mb-1","w-full"),children:[o.jsx(u.icon,{size:20,className:"min-w-[20px]"}),o.jsx("span",{className:"ml-3 hidden md:block",children:u.label}),u.badge&&o.jsx("span",{className:"absolute top-0 right-0 -mt-1 -mr-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u.badge})]})},u.href)})}),o.jsxs("div",{className:"mt-auto p-4 border-t border-gray-300",children:[o.jsx("p",{className:"text-xs text-gray-500 hidden md:block",children:"Powered by"}),o.jsx("p",{className:"text-sm font-medium text-mental-green-700 hidden md:block",children:"Our Minds"})]})]})})}const wh=768;function bL(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${wh-1}px)`),r=()=>{t(window.innerWidth<wh)};return n.addEventListener("change",r),t(window.innerWidth<wh),()=>n.removeEventListener("change",r)},[]),!!e}function Nn({children:e,showSidebar:t=!0}){const n=bL();return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(xL,{}),o.jsxs("div",{className:"flex flex-1 h-[calc(100vh-4rem)]",children:[t&&o.jsx("div",{className:"hidden md:block w-16 md:w-52 flex-shrink-0",children:o.jsx("div",{className:"fixed h-[calc(100vh-4rem)]",children:o.jsx(wL,{className:"h-full"})})}),o.jsx("main",{className:"flex-1 overflow-y-auto",children:e})]}),n&&t&&o.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-100 border-t border-gray-200 z-10",children:o.jsxs("div",{className:"flex justify-around items-center py-2",children:[o.jsxs("a",{href:"/",className:"flex flex-col items-center text-mental-green-600",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),o.jsx("span",{className:"text-xs",children:"Home"})]}),o.jsxs("a",{href:"/chat",className:"flex flex-col items-center text-gray-500 hover:text-mental-green-600",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),o.jsx("span",{className:"text-xs",children:"Chat"})]}),o.jsxs("a",{href:"/consult",className:"flex flex-col items-center text-gray-500 hover:text-mental-green-600",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),o.jsx("span",{className:"text-xs",children:"Consult"})]}),o.jsxs("a",{href:"/book-session",className:"flex flex-col items-center text-gray-500 hover:text-mental-green-600",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),o.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),o.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),o.jsx("span",{className:"text-xs",children:"Book"})]})]})})]})}var ov="Avatar",[_L,qU]=da(ov),[jL,SS]=_L(ov),NS=m.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,a]=m.useState("idle");return o.jsx(jL,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:o.jsx(ge.span,{...r,ref:t})})});NS.displayName=ov;var CS="AvatarImage",kS=m.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=e,i=SS(CS,n),l=SL(r,a.referrerPolicy),c=Ln(u=>{s(u),i.onImageLoadingStatusChange(u)});return qt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(ge.img,{...a,ref:t,src:r}):null});kS.displayName=CS;var ES="AvatarFallback",PS=m.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,a=SS(ES,n),[i,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?o.jsx(ge.span,{...s,ref:t}):null});PS.displayName=ES;function SL(e,t){const[n,r]=m.useState("idle");return qt(()=>{if(!e){r("error");return}let s=!0;const a=new window.Image,i=l=>()=>{s&&r(l)};return r("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var TS=NS,MS=kS,RS=PS;const To=m.forwardRef(({className:e,...t},n)=>o.jsx(TS,{ref:n,className:ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));To.displayName=TS.displayName;const Mo=m.forwardRef(({className:e,...t},n)=>o.jsx(MS,{ref:n,className:ae("aspect-square h-full w-full",e),...t}));Mo.displayName=MS.displayName;const Ro=m.forwardRef(({className:e,...t},n)=>o.jsx(RS,{ref:n,className:ae("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ro.displayName=RS.displayName;function le(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function et(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function zt(e,t){const n=le(e);return isNaN(t)?et(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function gr(e,t){const n=le(e);if(isNaN(t))return et(e,NaN);if(!t)return n;const r=n.getDate(),s=et(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const a=s.getDate();return r>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const lv=6048e5,NL=864e5,cv=6e4,uv=36e5,CL=1e3,su=43200,fx=1440;let kL={};function fa(){return kL}function Fn(e,t){var l,c,u,d;const n=fa(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=le(e),a=s.getDay(),i=(a<r?7:0)+a-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function ls(e){return Fn(e,{weekStartsOn:1})}function DS(e){const t=le(e),n=t.getFullYear(),r=et(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ls(r),a=et(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const i=ls(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function go(e){const t=le(e);return t.setHours(0,0,0,0),t}function sa(e){const t=le(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Dr(e,t){const n=go(e),r=go(t),s=+n-sa(n),a=+r-sa(r);return Math.round((s-a)/NL)}function EL(e){const t=DS(e),n=et(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ls(n)}function ip(e,t){const n=t*7;return zt(e,n)}function PL(e,t){return gr(e,t*12)}function TL(e){let t;return e.forEach(function(n){const r=le(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function ML(e){let t;return e.forEach(n=>{const r=le(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function ku(e,t){const n=le(e),r=le(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function dv(e){return et(e,Date.now())}function Zt(e,t){const n=go(e),r=go(t);return+n==+r}function fv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function RL(e){if(!fv(e)&&typeof e!="number")return!1;const t=le(e);return!isNaN(Number(t))}function vo(e,t){const n=le(e),r=le(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function DL(e,t,n){const r=Fn(e,n),s=Fn(t,n),a=+r-sa(r),i=+s-sa(s);return Math.round((a-i)/lv)}function OL(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function AL(e,t){return+le(e)-+le(t)}function IL(e){const t=le(e);return t.setHours(23,59,59,999),t}function ff(e){const t=le(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function LL(e){const t=le(e);return+IL(t)==+ff(t)}function FL(e,t){const n=le(e),r=le(t),s=ku(n,r),a=Math.abs(vo(n,r));let i;if(a<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);let l=ku(n,r)===-s;LL(le(e))&&a===1&&ku(e,r)===1&&(l=!1),i=s*(a-Number(l))}return i===0?0:i}function $L(e,t,n){const r=AL(e,t)/1e3;return OL(n==null?void 0:n.roundingMethod)(r)}function Cn(e){const t=le(e);return t.setDate(1),t.setHours(0,0,0,0),t}function OS(e){const t=le(e),n=et(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function hv(e,t){var l,c,u,d;const n=fa(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=le(e),a=s.getDay(),i=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function AS(e){return hv(e,{weekStartsOn:1})}const UL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zL=(e,t,n)=>{let r;const s=UL[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function bh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const BL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qL={date:bh({formats:BL,defaultWidth:"full"}),time:bh({formats:WL,defaultWidth:"full"}),dateTime:bh({formats:HL,defaultWidth:"full"})},VL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YL=(e,t,n,r)=>VL[e];function rl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const KL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},QL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},e3=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},t3={ordinalNumber:e3,era:rl({values:KL,defaultWidth:"wide"}),quarter:rl({values:GL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:rl({values:QL,defaultWidth:"wide"}),day:rl({values:XL,defaultWidth:"wide"}),dayPeriod:rl({values:JL,defaultWidth:"wide",formattingValues:ZL,defaultFormattingWidth:"wide"})};function sl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?r3(l,h=>h.test(i)):n3(l,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function n3(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function r3(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function s3(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const a3=/^(\d+)(th|st|nd|rd)?/i,i3=/\d+/i,o3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},l3={any:[/^b/i,/^(a|c)/i]},c3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},u3={any:[/1/i,/2/i,/3/i,/4/i]},d3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},h3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},g3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v3={ordinalNumber:s3({matchPattern:a3,parsePattern:i3,valueCallback:e=>parseInt(e,10)}),era:sl({matchPatterns:o3,defaultMatchWidth:"wide",parsePatterns:l3,defaultParseWidth:"any"}),quarter:sl({matchPatterns:c3,defaultMatchWidth:"wide",parsePatterns:u3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:sl({matchPatterns:d3,defaultMatchWidth:"wide",parsePatterns:f3,defaultParseWidth:"any"}),day:sl({matchPatterns:h3,defaultMatchWidth:"wide",parsePatterns:m3,defaultParseWidth:"any"}),dayPeriod:sl({matchPatterns:p3,defaultMatchWidth:"any",parsePatterns:g3,defaultParseWidth:"any"})},hf={code:"en-US",formatDistance:zL,formatLong:qL,formatRelative:YL,localize:t3,match:v3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function y3(e){const t=le(e);return Dr(t,OS(t))+1}function mv(e){const t=le(e),n=+ls(t)-+EL(t);return Math.round(n/lv)+1}function pv(e,t){var d,h,f,p;const n=le(e),r=n.getFullYear(),s=fa(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(f=s.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=et(e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const l=Fn(i,t),c=et(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Fn(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function x3(e,t){var l,c,u,d;const n=fa(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=pv(e,t),a=et(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Fn(a,t)}function gv(e,t){const n=le(e),r=+Fn(n,t)-+x3(n,t);return Math.round(r/lv)+1}function Ye(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const gs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ye(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ye(n+1,2)},d(e,t){return Ye(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ye(e.getHours()%12||12,t.length)},H(e,t){return Ye(e.getHours(),t.length)},m(e,t){return Ye(e.getMinutes(),t.length)},s(e,t){return Ye(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ye(s,t.length)}},wi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hx={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return gs.y(e,t)},Y:function(e,t,n,r){const s=pv(e,r),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return Ye(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ye(a,t.length)},R:function(e,t){const n=DS(e);return Ye(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ye(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ye(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ye(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return gs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ye(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=gv(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ye(s,t.length)},I:function(e,t,n){const r=mv(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ye(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):gs.d(e,t)},D:function(e,t,n){const r=y3(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ye(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ye(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ye(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ye(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=wi.noon:r===0?s=wi.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=wi.evening:r>=12?s=wi.afternoon:r>=4?s=wi.morning:s=wi.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return gs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):gs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):gs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):gs.s(e,t)},S:function(e,t){return gs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return px(r);case"XXXX":case"XX":return Sa(r);case"XXXXX":case"XXX":default:return Sa(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return px(r);case"xxxx":case"xx":return Sa(r);case"xxxxx":case"xxx":default:return Sa(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mx(r,":");case"OOOO":default:return"GMT"+Sa(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mx(r,":");case"zzzz":default:return"GMT"+Sa(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ye(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ye(r,t.length)}};function mx(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+Ye(a,2)}function px(e,t){return e%60===0?(e>0?"-":"+")+Ye(Math.abs(e)/60,2):Sa(e,t)}function Sa(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ye(Math.trunc(r/60),2),a=Ye(r%60,2);return n+s+t+a}const gx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},IS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},w3=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return gx(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",gx(r,t)).replace("{{time}}",IS(s,t))},op={p:IS,P:w3},b3=/^D+$/,_3=/^Y+$/,j3=["D","DD","YY","YYYY"];function LS(e){return b3.test(e)}function FS(e){return _3.test(e)}function lp(e,t,n){const r=S3(e,t,n);if(console.warn(r),j3.includes(e))throw new RangeError(r)}function S3(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const N3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k3=/^'([^]*?)'?$/,E3=/''/g,P3=/[a-zA-Z]/;function dt(e,t,n){var d,h,f,p,y,g,b,x;const r=fa(),s=(n==null?void 0:n.locale)??r.locale??hf,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((g=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,l=le(e);if(!RL(l))throw new RangeError("Invalid time value");let c=t.match(C3).map(v=>{const w=v[0];if(w==="p"||w==="P"){const _=op[w];return _(v,s.formatLong)}return v}).join("").match(N3).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:T3(v)};if(hx[w])return{isToken:!0,value:v};if(w.match(P3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&FS(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&LS(w))&&lp(w,t,String(e));const _=hx[w[0]];return _(l,w,s.localize,u)}).join("")}function T3(e){const t=e.match(k3);return t?t[1].replace(E3,"'"):e}function M3(e,t,n){const r=fa(),s=(n==null?void 0:n.locale)??r.locale??hf,a=2520,i=ku(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let c,u;i>0?(c=le(t),u=le(e)):(c=le(e),u=le(t));const d=$L(u,c),h=(sa(u)-sa(c))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<fx){const y=Math.round(f/60);return s.formatDistance("aboutXHours",y,l)}else{if(f<a)return s.formatDistance("xDays",1,l);if(f<su){const y=Math.round(f/fx);return s.formatDistance("xDays",y,l)}else if(f<su*2)return p=Math.round(f/su),s.formatDistance("aboutXMonths",p,l)}if(p=FL(u,c),p<12){const y=Math.round(f/su);return s.formatDistance("xMonths",y,l)}else{const y=p%12,g=Math.trunc(p/12);return y<3?s.formatDistance("aboutXYears",g,l):y<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function vv(e,t){return M3(e,dv(e),t)}function R3(e){const t=le(e),n=t.getFullYear(),r=t.getMonth(),s=et(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function D3(){return Object.assign({},fa())}function O3(e){let n=le(e).getDay();return n===0&&(n=7),n}function A3(e){return Math.trunc(+le(e)/1e3)}function I3(e){const t=le(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function L3(e,t){return DL(I3(e),Cn(e),t)+1}function pd(e,t){const n=le(e),r=le(t);return n.getTime()>r.getTime()}function yv(e,t){const n=le(e),r=le(t);return+n<+r}function F3(e,t){const n=t instanceof Date?et(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const $3=10;class $S{constructor(){Q(this,"subPriority",0)}validate(t,n){return!0}}class U3 extends $S{constructor(t,n,r,s,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=s,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class z3 extends $S{constructor(){super(...arguments);Q(this,"priority",$3);Q(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:et(n,F3(n,Date))}}class Be{run(t,n,r,s){const a=this.parse(t,n,r,s);return a?{setter:new U3(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class B3 extends Be{constructor(){super(...arguments);Q(this,"priority",140);Q(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,r,s){return r.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const _t={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Mr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function jt(e,t){return e&&{value:t(e.value),rest:e.rest}}function ht(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Rr(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:r*(s*uv+a*cv+i*CL),rest:t.slice(n[0].length)}}function US(e){return ht(_t.anyDigitsSigned,e)}function wt(e,t){switch(e){case 1:return ht(_t.singleDigit,t);case 2:return ht(_t.twoDigits,t);case 3:return ht(_t.threeDigits,t);case 4:return ht(_t.fourDigits,t);default:return ht(new RegExp("^\\d{1,"+e+"}"),t)}}function gd(e,t){switch(e){case 1:return ht(_t.singleDigitSigned,t);case 2:return ht(_t.twoDigitsSigned,t);case 3:return ht(_t.threeDigitsSigned,t);case 4:return ht(_t.fourDigitsSigned,t);default:return ht(new RegExp("^-?\\d{1,"+e+"}"),t)}}function xv(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function zS(e,t){const n=t>0,r=n?t:1-t;let s;if(r<=50)s=e||100;else{const a=r+50,i=Math.trunc(a/100)*100,l=e>=a%100;s=e+i-(l?100:0)}return n?s:1-s}function BS(e){return e%400===0||e%4===0&&e%100!==0}class W3 extends Be{constructor(){super(...arguments);Q(this,"priority",130);Q(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,s){const a=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return jt(wt(4,n),a);case"yo":return jt(s.ordinalNumber(n,{unit:"year"}),a);default:return jt(wt(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s){const a=n.getFullYear();if(s.isTwoDigitYear){const l=zS(s.year,a);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const i=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class H3 extends Be{constructor(){super(...arguments);Q(this,"priority",130);Q(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,s){const a=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return jt(wt(4,n),a);case"Yo":return jt(s.ordinalNumber(n,{unit:"year"}),a);default:return jt(wt(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,s,a){const i=pv(n,a);if(s.isTwoDigitYear){const c=zS(s.year,i);return n.setFullYear(c,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),Fn(n,a)}const l=!("era"in r)||r.era===1?s.year:1-s.year;return n.setFullYear(l,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),Fn(n,a)}}class q3 extends Be{constructor(){super(...arguments);Q(this,"priority",130);Q(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return gd(r==="R"?4:r.length,n)}set(n,r,s){const a=et(n,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),ls(a)}}class V3 extends Be{constructor(){super(...arguments);Q(this,"priority",130);Q(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return gd(r==="u"?4:r.length,n)}set(n,r,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class Y3 extends Be{constructor(){super(...arguments);Q(this,"priority",120);Q(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"Q":case"QQ":return wt(r.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class K3 extends Be{constructor(){super(...arguments);Q(this,"priority",120);Q(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"q":case"qq":return wt(r.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class G3 extends Be{constructor(){super(...arguments);Q(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Q(this,"priority",110)}parse(n,r,s){const a=i=>i-1;switch(r){case"M":return jt(ht(_t.month,n),a);case"MM":return jt(wt(2,n),a);case"Mo":return jt(s.ordinalNumber(n,{unit:"month"}),a);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class Q3 extends Be{constructor(){super(...arguments);Q(this,"priority",110);Q(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,s){const a=i=>i-1;switch(r){case"L":return jt(ht(_t.month,n),a);case"LL":return jt(wt(2,n),a);case"Lo":return jt(s.ordinalNumber(n,{unit:"month"}),a);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function X3(e,t,n){const r=le(e),s=gv(r,n)-t;return r.setDate(r.getDate()-s*7),r}class J3 extends Be{constructor(){super(...arguments);Q(this,"priority",100);Q(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,s){switch(r){case"w":return ht(_t.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return wt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s,a){return Fn(X3(n,s,a),a)}}function Z3(e,t){const n=le(e),r=mv(n)-t;return n.setDate(n.getDate()-r*7),n}class eF extends Be{constructor(){super(...arguments);Q(this,"priority",100);Q(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,s){switch(r){case"I":return ht(_t.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return wt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,s){return ls(Z3(n,s))}}const tF=[31,28,31,30,31,30,31,31,30,31,30,31],nF=[31,29,31,30,31,30,31,31,30,31,30,31];class rF extends Be{constructor(){super(...arguments);Q(this,"priority",90);Q(this,"subPriority",1);Q(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"d":return ht(_t.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return wt(r.length,n)}}validate(n,r){const s=n.getFullYear(),a=BS(s),i=n.getMonth();return a?r>=1&&r<=nF[i]:r>=1&&r<=tF[i]}set(n,r,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class sF extends Be{constructor(){super(...arguments);Q(this,"priority",90);Q(this,"subpriority",1);Q(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,s){switch(r){case"D":case"DD":return ht(_t.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return wt(r.length,n)}}validate(n,r){const s=n.getFullYear();return BS(s)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function wv(e,t,n){var h,f,p,y;const r=fa(),s=(n==null?void 0:n.weekStartsOn)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((y=(p=r.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,a=le(e),i=a.getDay(),c=(t%7+7)%7,u=7-s,d=t<0||t>6?t-(i+u)%7:(c+u)%7-(i+u)%7;return zt(a,d)}class aF extends Be{constructor(){super(...arguments);Q(this,"priority",90);Q(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,a){return n=wv(n,s,a),n.setHours(0,0,0,0),n}}class iF extends Be{constructor(){super(...arguments);Q(this,"priority",90);Q(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,s,a){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return jt(wt(r.length,n),i);case"eo":return jt(s.ordinalNumber(n,{unit:"day"}),i);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,a){return n=wv(n,s,a),n.setHours(0,0,0,0),n}}class oF extends Be{constructor(){super(...arguments);Q(this,"priority",90);Q(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,s,a){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return jt(wt(r.length,n),i);case"co":return jt(s.ordinalNumber(n,{unit:"day"}),i);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,s,a){return n=wv(n,s,a),n.setHours(0,0,0,0),n}}function lF(e,t){const n=le(e),r=O3(n),s=t-r;return zt(n,s)}class cF extends Be{constructor(){super(...arguments);Q(this,"priority",90);Q(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,s){const a=i=>i===0?7:i;switch(r){case"i":case"ii":return wt(r.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return jt(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),a);case"iiiii":return jt(s.day(n,{width:"narrow",context:"formatting"}),a);case"iiiiii":return jt(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),a);case"iiii":default:return jt(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),a)}}validate(n,r){return r>=1&&r<=7}set(n,r,s){return n=lF(n,s),n.setHours(0,0,0,0),n}}class uF extends Be{constructor(){super(...arguments);Q(this,"priority",80);Q(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(xv(s),0,0,0),n}}class dF extends Be{constructor(){super(...arguments);Q(this,"priority",80);Q(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(xv(s),0,0,0),n}}class fF extends Be{constructor(){super(...arguments);Q(this,"priority",80);Q(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,s){return n.setHours(xv(s),0,0,0),n}}class hF extends Be{constructor(){super(...arguments);Q(this,"priority",70);Q(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,s){switch(r){case"h":return ht(_t.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return wt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,s){const a=n.getHours()>=12;return a&&s<12?n.setHours(s+12,0,0,0):!a&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class mF extends Be{constructor(){super(...arguments);Q(this,"priority",70);Q(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,s){switch(r){case"H":return ht(_t.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return wt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,s){return n.setHours(s,0,0,0),n}}class pF extends Be{constructor(){super(...arguments);Q(this,"priority",70);Q(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,s){switch(r){case"K":return ht(_t.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return wt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class gF extends Be{constructor(){super(...arguments);Q(this,"priority",70);Q(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,s){switch(r){case"k":return ht(_t.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return wt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,s){const a=s<=24?s%24:s;return n.setHours(a,0,0,0),n}}class vF extends Be{constructor(){super(...arguments);Q(this,"priority",60);Q(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"m":return ht(_t.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return wt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setMinutes(s,0,0),n}}class yF extends Be{constructor(){super(...arguments);Q(this,"priority",50);Q(this,"incompatibleTokens",["t","T"])}parse(n,r,s){switch(r){case"s":return ht(_t.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return wt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,s){return n.setSeconds(s,0),n}}class xF extends Be{constructor(){super(...arguments);Q(this,"priority",30);Q(this,"incompatibleTokens",["t","T"])}parse(n,r){const s=a=>Math.trunc(a*Math.pow(10,-r.length+3));return jt(wt(r.length,n),s)}set(n,r,s){return n.setMilliseconds(s),n}}class wF extends Be{constructor(){super(...arguments);Q(this,"priority",10);Q(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Rr(Mr.basicOptionalMinutes,n);case"XX":return Rr(Mr.basic,n);case"XXXX":return Rr(Mr.basicOptionalSeconds,n);case"XXXXX":return Rr(Mr.extendedOptionalSeconds,n);case"XXX":default:return Rr(Mr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:et(n,n.getTime()-sa(n)-s)}}class bF extends Be{constructor(){super(...arguments);Q(this,"priority",10);Q(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Rr(Mr.basicOptionalMinutes,n);case"xx":return Rr(Mr.basic,n);case"xxxx":return Rr(Mr.basicOptionalSeconds,n);case"xxxxx":return Rr(Mr.extendedOptionalSeconds,n);case"xxx":default:return Rr(Mr.extended,n)}}set(n,r,s){return r.timestampIsSet?n:et(n,n.getTime()-sa(n)-s)}}class _F extends Be{constructor(){super(...arguments);Q(this,"priority",40);Q(this,"incompatibleTokens","*")}parse(n){return US(n)}set(n,r,s){return[et(n,s*1e3),{timestampIsSet:!0}]}}class jF extends Be{constructor(){super(...arguments);Q(this,"priority",20);Q(this,"incompatibleTokens","*")}parse(n){return US(n)}set(n,r,s){return[et(n,s),{timestampIsSet:!0}]}}const SF={G:new B3,y:new W3,Y:new H3,R:new q3,u:new V3,Q:new Y3,q:new K3,M:new G3,L:new Q3,w:new J3,I:new eF,d:new rF,D:new sF,E:new aF,e:new iF,c:new oF,i:new cF,a:new uF,b:new dF,B:new fF,h:new hF,H:new mF,K:new pF,k:new gF,m:new vF,s:new yF,S:new xF,X:new wF,x:new bF,t:new _F,T:new jF},NF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kF=/^'([^]*?)'?$/,EF=/''/g,PF=/\S/,TF=/[a-zA-Z]/;function MF(e,t,n,r){var g,b,x,v;const s=D3(),a=s.locale??hf,i=s.firstWeekContainsDate??((b=(g=s.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,l=s.weekStartsOn??((v=(x=s.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,c={firstWeekContainsDate:i,weekStartsOn:l,locale:a},u=[new z3],d=t.match(CF).map(w=>{const _=w[0];if(_ in op){const S=op[_];return S(w,a.formatLong)}return w}).join("").match(NF),h=[];for(let w of d){FS(w)&&lp(w,t,e),LS(w)&&lp(w,t,e);const _=w[0],S=SF[_];if(S){const{incompatibleTokens:j}=S;if(Array.isArray(j)){const N=h.find(T=>j.includes(T.token)||T.token===_);if(N)throw new RangeError(`The format string mustn't contain \`${N.fullToken}\` and \`${w}\` at the same time`)}else if(S.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);h.push({token:_,fullToken:w});const k=S.run(e,w,a.match,c);if(!k)return et(n,NaN);u.push(k.setter),e=k.rest}else{if(_.match(TF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");if(w==="''"?w="'":_==="'"&&(w=RF(w)),e.indexOf(w)===0)e=e.slice(w.length);else return et(n,NaN)}}if(e.length>0&&PF.test(e))return et(n,NaN);const f=u.map(w=>w.priority).sort((w,_)=>_-w).filter((w,_,S)=>S.indexOf(w)===_).map(w=>u.filter(_=>_.priority===w).sort((_,S)=>S.subPriority-_.subPriority)).map(w=>w[0]);let p=le(n);if(isNaN(p.getTime()))return et(n,NaN);const y={};for(const w of f){if(!w.validate(p,c))return et(n,NaN);const _=w.set(p,y,c);Array.isArray(_)?(p=_[0],Object.assign(y,_[1])):p=_}return et(n,p)}function RF(e){return e.match(kF)[1].replace(EF,"'")}function bv(e,t){const n=le(e),r=le(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function DF(e,t){const n=le(e),r=le(t);return n.getFullYear()===r.getFullYear()}function OF(e){return Zt(e,dv(e))}function Eu(e,t){return zt(e,-t)}function AF(e){return Zt(e,Eu(dv(e),1))}function Na(e,t){const r=$F(e);let s;if(r.date){const c=UF(r.date,2);s=zF(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let i=0,l;if(r.time&&(i=BF(r.time),isNaN(i)))return new Date(NaN);if(r.timezone){if(l=WF(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+i+l)}const au={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},IF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,FF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $F(e){const t={},n=e.split(au.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],au.timeZoneDelimiter.test(t.date)&&(t.date=e.split(au.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=au.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function UF(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function zF(e,t){if(t===null)return new Date(NaN);const n=e.match(IF);if(!n)return new Date(NaN);const r=!!n[4],s=al(n[1]),a=al(n[2])-1,i=al(n[3]),l=al(n[4]),c=al(n[5])-1;if(r)return KF(t,l,c)?HF(t,l,c):new Date(NaN);{const u=new Date(0);return!VF(t,a,i)||!YF(t,s)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(s,i)),u)}}function al(e){return e?parseInt(e):1}function BF(e){const t=e.match(LF);if(!t)return NaN;const n=_h(t[1]),r=_h(t[2]),s=_h(t[3]);return GF(n,r,s)?n*uv+r*cv+s*1e3:NaN}function _h(e){return e&&parseFloat(e.replace(",","."))||0}function WF(e){if(e==="Z")return 0;const t=e.match(FF);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return QF(r,s)?n*(r*uv+s*cv):NaN}function HF(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,a=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}const qF=[31,null,31,30,31,30,31,31,30,31,30,31];function WS(e){return e%400===0||e%4===0&&e%100!==0}function VF(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(qF[t]||(WS(e)?29:28))}function YF(e,t){return t>=1&&t<=(WS(e)?366:365)}function KF(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function GF(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function QF(e,t){return t>=0&&t<=59}function jh(e,t){const n=le(e),r=n.getFullYear(),s=n.getDate(),a=et(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const i=R3(a);return n.setMonth(t,Math.min(s,i)),n}function vx(e,t){const n=le(e);return isNaN(+n)?et(e,NaN):(n.setFullYear(t),n)}function He({className:e,...t}){return o.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",e),...t})}function yx({stories:e,isLoading:t}){const n=e.find(s=>s.is_featured)||e[0];if(t)return o.jsxs("div",{className:"rounded-xl overflow-hidden shadow-md h-full flex flex-col",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx(He,{className:"w-full h-full"}),o.jsxs("div",{className:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-black via-black/80 to-transparent p-6",children:[o.jsx(He,{className:"h-8 w-2/3 bg-gray-400 mb-2"}),o.jsx(He,{className:"h-6 w-1/2 bg-gray-400"})]})]}),o.jsxs("div",{className:"p-6",children:[o.jsx(He,{className:"h-6 w-32 mb-4"}),o.jsx(He,{className:"h-4 w-full mb-2"}),o.jsx(He,{className:"h-4 w-full mb-2"}),o.jsx(He,{className:"h-4 w-3/4"}),o.jsxs("div",{className:"flex items-center mt-6",children:[o.jsx(He,{className:"h-10 w-10 rounded-full"}),o.jsxs("div",{className:"ml-3",children:[o.jsx(He,{className:"h-4 w-32"}),o.jsx(He,{className:"h-3 w-24 mt-1"})]})]})]})]});if(!n)return o.jsx("div",{className:"rounded-xl overflow-hidden shadow-md bg-gray-100 h-full flex items-center justify-center",children:o.jsx("p",{className:"text-gray-500",children:"No stories available"})});const r=(s,a)=>s?s.length<=a?s:s.slice(0,s.lastIndexOf(" ",a))+"...":"";return o.jsx(Bt,{to:`/story/${n.id}`,className:"block h-full",children:o.jsxs("div",{className:"rounded-xl overflow-hidden shadow-md h-full flex flex-col",children:[o.jsxs("div",{className:"relative flex-grow",children:[o.jsx("img",{src:n.cover_image,alt:n.title,className:"w-full h-full object-cover",onError:s=>{s.target.src="/public/lovable-uploads/7646df82-fc16-4ccb-8469-742a8722685b.png"}}),o.jsxs("div",{className:"absolute bottom-0 left-0 w-full bg-gradient-to-t from-black via-black/80 to-transparent p-6",children:[o.jsx("div",{className:"text-white text-sm py-1 px-3 rounded inline-block mb-2",style:{backgroundColor:`var(--story-tag-${n.tag_type})`},children:n.tags[0]}),o.jsx("h1",{className:"text-white text-2xl font-bold",children:n.title})]})]}),o.jsxs("div",{className:"p-6 flex flex-col justify-between h-full",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Featured Story"}),o.jsx("p",{className:"text-gray-600 mb-4",children:r(n.content,300)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs(To,{children:[o.jsx(Mo,{src:n.authorImage}),o.jsx(Ro,{children:(n.authorName||"Anonymous").charAt(0)})]}),o.jsxs("div",{className:"ml-3",children:[o.jsx("p",{className:"font-medium",children:n.authorName||"Anonymous"}),o.jsx("p",{className:"text-sm text-gray-500",children:vv(new Date(n.published_at),{addSuffix:!0})})]})]})]})]})})}const xe=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));xe.displayName="Card";const Ue=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));Ue.displayName="CardHeader";const ze=m.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));ze.displayName="CardTitle";const Jt=m.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));Jt.displayName="CardDescription";const Se=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("p-6 pt-0",e),...t}));Se.displayName="CardContent";const HS=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",e),...t}));HS.displayName="CardFooter";async function yo(e,t){var n,r;if(console.log("Finding or creating chat thread between",{authorId:e,userId:t}),!e||!t)throw new Error("Both authorId and userId are required");try{const{data:s,error:a}=await B.from("chat_threads").select("*").or(`user_id.eq.${t},consultant_id.eq.${t}`).or(`user_id.eq.${e},consultant_id.eq.${e}`).limit(10);if(a)throw console.error("Error checking for existing thread:",a),a;const i=s==null?void 0:s.find(f=>f.user_id===t&&f.consultant_id===e||f.user_id===e&&f.consultant_id===t);if(i)return console.log("Existing thread found:",i),i;console.log("Creating new thread");let l,c;try{const{data:f,error:p}=await B.from("users").select("id, role").in("id",[t,e]);if(p)throw console.error("Error checking user roles:",p),p;if(l=e,c=t,f&&f.length>0){const y=(n=f.find(b=>b.id===t))==null?void 0:n.role,g=(r=f.find(b=>b.id===e))==null?void 0:r.role;(y==="consultant"||y==="admin"||y==="owner")&&g==="user"&&(l=t,c=e)}}catch(f){console.error("Error determining user roles:",f)}const{data:u,error:d}=await B.from("chat_threads").insert({user_id:c,consultant_id:l,last_message_at:new Date().toISOString()}).select().single();if(d)throw console.error("Error creating chat thread:",d),d;console.log("New thread created:",u);const{error:h}=await B.from("chat_messages").insert({thread_id:u.id,sender_id:t,content:"Hi, I read your story and wanted to chat!"});return h&&console.error("Error creating initial message:",h),u}catch(s){throw console.error("Error in findOrCreateChatThread:",s),s}}function xx({stories:e,isLoading:t}){const n=tn(),{user:r,isAuthenticated:s}=Re(),{toast:a}=St(),i=async l=>{if(!s){a({title:"Authentication required",description:"Please login to chat with authors",variant:"destructive"}),n("/login");return}if((r==null?void 0:r.id)===l){a({title:"Cannot chat with yourself",description:"You cannot start a chat with yourself",variant:"destructive"});return}try{const c=await yo(l,r.id);n(`/chat/${c.id}`)}catch(c){console.error("Error starting chat:",c),a({title:"Failed to start chat",description:c.message||"An error occurred",variant:"destructive"})}};return t?o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 h-full",children:[o.jsx(He,{className:"h-8 w-40 mb-4"}),o.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(l=>o.jsx(xe,{className:"overflow-hidden",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(He,{className:"w-24 h-24"}),o.jsxs("div",{className:"flex-1 p-3",children:[o.jsx(He,{className:"h-5 w-24 mb-1"}),o.jsx(He,{className:"h-6 w-40 mb-2"}),o.jsxs("div",{className:"flex items-center mt-2",children:[o.jsx(He,{className:"w-6 h-6 rounded-full"}),o.jsx(He,{className:"w-20 h-4 ml-2"}),o.jsx(He,{className:"w-10 h-4 ml-auto"})]})]})]})},l))})]}):o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 h-full",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:"Top Stories"}),o.jsx("div",{className:"space-y-4",children:e.length>0?e.map(l=>{var h,f;const c=l.authorName||((h=l.author)==null?void 0:h.name)||"Anonymous",u=l.authorImage||((f=l.author)==null?void 0:f.profile_image)||null,d=l.author_id;return o.jsx(Bt,{to:`/story/${l.id}`,children:o.jsx(xe,{className:"overflow-hidden hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-24 h-24",children:o.jsx("img",{src:l.cover_image,alt:l.title,className:"w-full h-full object-cover",onError:p=>{p.target.src="/placeholder.svg"}})}),o.jsxs("div",{className:"flex-1 p-3",children:[l.tags&&l.tags.length>0&&o.jsx("div",{className:"text-white text-xs py-0.5 px-2 rounded inline-block mb-1",style:{backgroundColor:`var(--story-tag-${l.tag_type})`},children:l.tags[0]}),o.jsx("h3",{className:"font-medium text-sm",children:l.title}),o.jsx("div",{className:"flex items-center mt-2",onClick:p=>p.stopPropagation(),children:o.jsxs(Jg,{children:[o.jsxs(Zg,{className:"focus:outline-none flex items-center",children:[o.jsx("img",{src:u||"/placeholder.svg",alt:c,className:"w-6 h-6 rounded-full object-cover",onError:p=>{p.target.src="/placeholder.svg"}}),o.jsx("span",{className:"text-xs ml-2 text-gray-600",children:c}),o.jsx("span",{className:"text-xs ml-auto text-gray-500",children:vv(new Date(l.published_at),{addSuffix:!0})})]}),o.jsxs(df,{align:"start",children:[o.jsxs(Ks,{onClick:p=>{p.preventDefault(),p.stopPropagation(),n(`/profile/${d}`)},children:[o.jsx(VI,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"View Profile"})]}),o.jsxs(Ks,{onClick:p=>{p.preventDefault(),p.stopPropagation(),i(d)},children:[o.jsx(mc,{className:"mr-2 h-4 w-4"}),o.jsxs("span",{children:["Chat with ",c.split(" ")[0]]})]})]})]})})]})]})})},l.id)}):o.jsx("div",{className:"text-center p-8",children:o.jsx("p",{className:"text-gray-500",children:"No stories available"})})})]})}function XF(){const[e,t]=m.useState(!1),[n,r]=m.useState(!0),[s,a]=m.useState([]),{toast:i}=St();return m.useEffect(()=>{(async()=>{try{r(!0);const{data:c,error:u}=await B.from("stories_with_authors").select("*").order("published_at",{ascending:!1});if(u)throw u;if(c){const d=c.map(h=>({id:h.id,title:h.title,snippet:h.snippet,content:h.content,cover_image:h.cover_image||"/placeholder.svg",tags:h.tags||[],tag_type:h.tag_type||"mental",author_id:h.author_id,is_featured:h.is_featured||!1,published_at:h.published_at,created_at:h.created_at,updated_at:h.updated_at,authorName:h.author_name,authorImage:h.author_image,author:{name:h.author_name||"Anonymous",profile_image:h.author_image}}));a(d)}}catch(c){console.error("Error fetching stories:",c),i({title:"Failed to load stories",description:c.message||"Could not retrieve stories from the database",variant:"destructive"})}finally{r(!1)}})()},[i]),m.useEffect(()=>{const l=()=>{t(window.scrollY>300)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]),o.jsxs(Nn,{showSidebar:!0,children:[o.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[o.jsx("div",{className:"w-full lg:w-1/2 p-4 h-full",children:o.jsx("div",{className:"h-[calc(100vh-8rem)]",children:n?o.jsx(yx,{stories:s,isLoading:!0}):o.jsx(yx,{stories:s.map(l=>({...l,linkWrapper:c=>o.jsx(Bt,{to:`/story/${l.id}`,children:c})})),isLoading:!1})})}),o.jsx("div",{className:"w-full lg:w-1/2 p-4 h-full",children:o.jsx("div",{className:"h-[calc(100vh-8rem)] overflow-y-auto",children:n?o.jsx(xx,{stories:s,isLoading:!0}):o.jsx(xx,{stories:s.map(l=>({...l,linkWrapper:c=>o.jsx(Bt,{to:`/story/${l.id}`,children:c})})),isLoading:!1})})})]}),e&&o.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 right-8 p-3 rounded-full bg-mental-green-600 text-white shadow-lg hover:bg-mental-green-700 transition-colors","aria-label":"Back to top",children:o.jsx(SI,{size:20})})]})}const JF=()=>o.jsx(XF,{});function ZF(){const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,a]=m.useState(!1),{login:i}=Re(),l=tn();St();const c=async u=>{u.preventDefault(),a(!0);try{await i(e,n),l("/")}catch(d){console.error("Login error:",d)}finally{a(!1)}};return o.jsxs("div",{className:"w-full max-w-md space-y-6 p-6 bg-[#025803] rounded-lg shadow-md",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"/assets/OurMinds.png",alt:"Our Minds Logo",className:"mx-auto h-12 w-12"}),o.jsx("h1",{className:"mt-4 text-2xl font-bold text-white",children:"Welcome back"}),o.jsx("p",{className:"mt-1 text-sm text-gray-100",children:"Enter your credentials to access your account"})]}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{htmlFor:"email",children:"Email"}),o.jsx(Oe,{className:"w-full  text-black",id:"email",type:"email",placeholder:"",value:e,onChange:u=>t(u.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"text-gray-200 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(_e,{htmlFor:"password",children:"Password"}),o.jsx(Bt,{to:"/forgot-password",className:"text-xs text-white",children:"Forgot password?"})]}),o.jsx(Oe,{className:"w-full  text-black",id:"password",type:"password",placeholder:"",value:n,onChange:u=>r(u.target.value),required:!0,autoComplete:"current-password"})]}),o.jsx(X,{type:"submit",className:"w-full bg-mental-green-400 hover:bg-mental-green-700",disabled:s,children:s?"Logging in...":"Log in"})]}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsx("span",{className:"text-gray-200",children:"Don't have an account? "}),o.jsx(Bt,{to:"/signup",className:"text-mental-green-200 hover:underline",children:"Sign up"})]})]})}function e5(){const{isAuthenticated:e,loading:t}=Re(),n=tn(),r=yr();return m.useEffect(()=>{var s,a;if(!t&&e){console.log("Already authenticated, redirecting");const i=((a=(s=r.state)==null?void 0:s.from)==null?void 0:a.pathname)||"/";n(i,{replace:!0})}},[e,n,r,t]),t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-mental-green-50 p-4",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-mental-green-50 p-4",children:o.jsx(ZF,{})})}var _v="Tabs",[t5,VU]=da(_v,[rf]),qS=rf(),[n5,jv]=t5(_v),VS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Kd(l),[h,f]=Zs({prop:r,onChange:s,defaultProp:a});return o.jsx(n5,{scope:n,baseId:Ir(),value:h,onValueChange:f,orientation:i,dir:d,activationMode:c,children:o.jsx(ge.div,{dir:d,"data-orientation":i,...u,ref:t})})});VS.displayName=_v;var YS="TabsList",KS=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=jv(YS,n),i=qS(n);return o.jsx(L_,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:o.jsx(ge.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});KS.displayName=YS;var GS="TabsTrigger",QS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,i=jv(GS,n),l=qS(n),c=ZS(i.baseId,r),u=eN(i.baseId,r),d=r===i.value;return o.jsx(F_,{asChild:!0,...l,focusable:!s,active:d,children:o.jsx(ge.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:se(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:se(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:se(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});QS.displayName=GS;var XS="TabsContent",JS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...i}=e,l=jv(XS,n),c=ZS(l.baseId,r),u=eN(l.baseId,r),d=r===l.value,h=m.useRef(d);return m.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),o.jsx($r,{present:s||d,children:({present:f})=>o.jsx(ge.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});JS.displayName=XS;function ZS(e,t){return`${e}-trigger-${t}`}function eN(e,t){return`${e}-content-${t}`}var r5=VS,tN=KS,nN=QS,rN=JS;const gc=r5,Do=m.forwardRef(({className:e,...t},n)=>o.jsx(tN,{ref:n,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Do.displayName=tN.displayName;const kt=m.forwardRef(({className:e,...t},n)=>o.jsx(nN,{ref:n,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));kt.displayName=nN.displayName;const Rt=m.forwardRef(({className:e,...t},n)=>o.jsx(rN,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Rt.displayName=rN.displayName;function wx(e,[t,n]){return Math.min(n,Math.max(t,e))}function Sv(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var s5="VisuallyHidden",sN=m.forwardRef((e,t)=>o.jsx(ge.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));sN.displayName=s5;var a5=[" ","Enter","ArrowUp","ArrowDown"],i5=[" ","Enter"],vc="Select",[mf,pf,o5]=kg(vc),[Oo,YU]=da(vc,[o5,ef]),gf=ef(),[l5,ha]=Oo(vc),[c5,u5]=Oo(vc),aN=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:y}=e,g=gf(t),[b,x]=m.useState(null),[v,w]=m.useState(null),[_,S]=m.useState(!1),j=Kd(u),[k=!1,N]=Zs({prop:r,defaultProp:s,onChange:a}),[T,R]=Zs({prop:i,defaultProp:l,onChange:c}),L=m.useRef(null),D=b?y||!!b.closest("form"):!0,[F,H]=m.useState(new Set),K=Array.from(F).map(q=>q.props.value).join(";");return o.jsx(E_,{...g,children:o.jsxs(l5,{required:p,scope:t,trigger:b,onTriggerChange:x,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Ir(),value:T,onValueChange:R,open:k,onOpenChange:N,dir:j,triggerPointerDownPosRef:L,disabled:f,children:[o.jsx(mf.Provider,{scope:t,children:o.jsx(c5,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(q=>{H(A=>new Set(A).add(q))},[]),onNativeOptionRemove:m.useCallback(q=>{H(A=>{const C=new Set(A);return C.delete(q),C})},[]),children:n})}),D?o.jsxs(TN,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:T,onChange:q=>R(q.target.value),disabled:f,form:y,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(F)]},K):null]})})};aN.displayName=vc;var iN="SelectTrigger",oN=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=gf(n),i=ha(iN,n),l=i.disabled||r,c=Qe(t,i.onTriggerChange),u=pf(n),d=m.useRef("touch"),[h,f,p]=MN(g=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===i.value),v=RN(b,g,x);v!==void 0&&i.onValueChange(v.value)}),y=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(P_,{asChild:!0,...a,children:o.jsx(ge.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":PN(i.value)?"":void 0,...s,ref:c,onClick:se(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:se(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:se(s.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(b&&g.key===" ")&&a5.includes(g.key)&&(y(),g.preventDefault())})})})});oN.displayName=iN;var lN="SelectValue",cN=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:i="",...l}=e,c=ha(lN,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Qe(t,c.onValueNodeChange);return qt(()=>{u(d)},[u,d]),o.jsx(ge.span,{...l,ref:h,style:{pointerEvents:"none"},children:PN(c.value)?o.jsx(o.Fragment,{children:i}):a})});cN.displayName=lN;var d5="SelectIcon",uN=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.jsx(ge.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});uN.displayName=d5;var f5="SelectPortal",dN=e=>o.jsx(tf,{asChild:!0,...e});dN.displayName=f5;var ei="SelectContent",fN=m.forwardRef((e,t)=>{const n=ha(ei,e.__scopeSelect),[r,s]=m.useState();if(qt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?ri.createPortal(o.jsx(hN,{scope:e.__scopeSelect,children:o.jsx(mf.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(mN,{...e,ref:t})});fN.displayName=ei;var rr=10,[hN,ma]=Oo(ei),h5="SelectContentImpl",mN=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:b,...x}=e,v=ha(ei,n),[w,_]=m.useState(null),[S,j]=m.useState(null),k=Qe(t,Z=>_(Z)),[N,T]=m.useState(null),[R,L]=m.useState(null),D=pf(n),[F,H]=m.useState(!1),K=m.useRef(!1);m.useEffect(()=>{if(w)return Fg(w)},[w]),Eg();const q=m.useCallback(Z=>{const[Pe,...Ae]=D().map(Ne=>Ne.ref.current),[Ce]=Ae.slice(-1),me=document.activeElement;for(const Ne of Z)if(Ne===me||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===Pe&&S&&(S.scrollTop=0),Ne===Ce&&S&&(S.scrollTop=S.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==me))return},[D,S]),A=m.useCallback(()=>q([N,w]),[q,N,w]);m.useEffect(()=>{F&&A()},[F,A]);const{onOpenChange:C,triggerPointerDownPosRef:O}=v;m.useEffect(()=>{if(w){let Z={x:0,y:0};const Pe=Ce=>{var me,Ne;Z={x:Math.abs(Math.round(Ce.pageX)-(((me=O.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Ne=O.current)==null?void 0:Ne.y)??0))}},Ae=Ce=>{Z.x<=10&&Z.y<=10?Ce.preventDefault():w.contains(Ce.target)||C(!1),document.removeEventListener("pointermove",Pe),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[w,C,O]),m.useEffect(()=>{const Z=()=>C(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[C]);const[U,$]=MN(Z=>{const Pe=D().filter(me=>!me.disabled),Ae=Pe.find(me=>me.ref.current===document.activeElement),Ce=RN(Pe,Z,Ae);Ce&&setTimeout(()=>Ce.ref.current.focus())}),Y=m.useCallback((Z,Pe,Ae)=>{const Ce=!K.current&&!Ae;(v.value!==void 0&&v.value===Pe||Ce)&&(T(Z),Ce&&(K.current=!0))},[v.value]),fe=m.useCallback(()=>w==null?void 0:w.focus(),[w]),ye=m.useCallback((Z,Pe,Ae)=>{const Ce=!K.current&&!Ae;(v.value!==void 0&&v.value===Pe||Ce)&&L(Z)},[v.value]),Ve=r==="popper"?cp:pN,ue=Ve===cp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:b}:{};return o.jsx(hN,{scope:n,content:w,viewport:S,onViewportChange:j,itemRefCallback:Y,selectedItem:N,onItemLeave:fe,itemTextRefCallback:ye,focusSelectedItem:A,selectedItemText:R,position:r,isPositioned:F,searchRef:U,children:o.jsx(af,{as:Js,allowPinchZoom:!0,children:o.jsx(Qd,{asChild:!0,trapped:v.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:se(s,Z=>{var Pe;(Pe=v.trigger)==null||Pe.focus({preventScroll:!0}),Z.preventDefault()}),children:o.jsx(Gd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:o.jsx(Ve,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Z=>Z.preventDefault(),...x,...ue,onPlaced:()=>H(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:se(x.onKeyDown,Z=>{const Pe=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!Pe&&Z.key.length===1&&$(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let Ce=D().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const me=Z.target,Ne=Ce.indexOf(me);Ce=Ce.slice(Ne+1)}setTimeout(()=>q(Ce)),Z.preventDefault()}})})})})})})});mN.displayName=h5;var m5="SelectItemAlignedPosition",pN=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=ha(ei,n),i=ma(ei,n),[l,c]=m.useState(null),[u,d]=m.useState(null),h=Qe(t,k=>d(k)),f=pf(n),p=m.useRef(!1),y=m.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:x,focusSelectedItem:v}=i,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&b&&x){const k=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(a.dir!=="rtl"){const me=R.left-N.left,Ne=T.left-me,Ot=k.left-Ne,nn=k.width+Ot,Vt=Math.max(nn,N.width),fn=window.innerWidth-rr,Ur=wx(Ne,[rr,Math.max(rr,fn-Vt)]);l.style.minWidth=nn+"px",l.style.left=Ur+"px"}else{const me=N.right-R.right,Ne=window.innerWidth-T.right-me,Ot=window.innerWidth-k.right-Ne,nn=k.width+Ot,Vt=Math.max(nn,N.width),fn=window.innerWidth-rr,Ur=wx(Ne,[rr,Math.max(rr,fn-Vt)]);l.style.minWidth=nn+"px",l.style.right=Ur+"px"}const L=f(),D=window.innerHeight-rr*2,F=g.scrollHeight,H=window.getComputedStyle(u),K=parseInt(H.borderTopWidth,10),q=parseInt(H.paddingTop,10),A=parseInt(H.borderBottomWidth,10),C=parseInt(H.paddingBottom,10),O=K+q+F+C+A,U=Math.min(b.offsetHeight*5,O),$=window.getComputedStyle(g),Y=parseInt($.paddingTop,10),fe=parseInt($.paddingBottom,10),ye=k.top+k.height/2-rr,Ve=D-ye,ue=b.offsetHeight/2,Z=b.offsetTop+ue,Pe=K+q+Z,Ae=O-Pe;if(Pe<=ye){const me=L.length>0&&b===L[L.length-1].ref.current;l.style.bottom="0px";const Ne=u.clientHeight-g.offsetTop-g.offsetHeight,Ot=Math.max(Ve,ue+(me?fe:0)+Ne+A),nn=Pe+Ot;l.style.height=nn+"px"}else{const me=L.length>0&&b===L[0].ref.current;l.style.top="0px";const Ot=Math.max(ye,K+g.offsetTop+(me?Y:0)+ue)+Ae;l.style.height=Ot+"px",g.scrollTop=Pe-ye+g.offsetTop}l.style.margin=`${rr}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,a.trigger,a.valueNode,l,u,g,b,x,a.dir,r]);qt(()=>w(),[w]);const[_,S]=m.useState();qt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(k=>{k&&y.current===!0&&(w(),v==null||v(),y.current=!1)},[w,v]);return o.jsx(g5,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(ge.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});pN.displayName=m5;var p5="SelectPopperPosition",cp=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=rr,...a}=e,i=gf(n);return o.jsx(T_,{...i,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cp.displayName=p5;var[g5,Nv]=Oo(ei,{}),up="SelectViewport",gN=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=ma(up,n),i=Nv(up,n),l=Qe(t,a.onViewportChange),c=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(mf.Slot,{scope:n,children:o.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:se(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-rr*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),x=Math.max(g,b);if(x<y){const v=x+p,w=Math.min(y,v),_=v-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});gN.displayName=up;var vN="SelectGroup",[v5,y5]=Oo(vN),x5=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ir();return o.jsx(v5,{scope:n,id:s,children:o.jsx(ge.div,{role:"group","aria-labelledby":s,...r,ref:t})})});x5.displayName=vN;var yN="SelectLabel",xN=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=y5(yN,n);return o.jsx(ge.div,{id:s.id,...r,ref:t})});xN.displayName=yN;var vd="SelectItem",[w5,wN]=Oo(vd),bN=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...i}=e,l=ha(vd,n),c=ma(vd,n),u=l.value===r,[d,h]=m.useState(a??""),[f,p]=m.useState(!1),y=Qe(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,r,s)}),g=Ir(),b=m.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(w5,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(v=>{h(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:o.jsx(mf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:o.jsx(ge.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:se(i.onFocus,()=>p(!0)),onBlur:se(i.onBlur,()=>p(!1)),onClick:se(i.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:se(i.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:se(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:se(i.onPointerMove,v=>{var w;b.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(i.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:se(i.onKeyDown,v=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(i5.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});bN.displayName=vd;var pl="SelectItemText",_N=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,i=ha(pl,n),l=ma(pl,n),c=wN(pl,n),u=u5(pl,n),[d,h]=m.useState(null),f=Qe(t,x=>h(x),c.onItemTextChange,x=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=m.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return qt(()=>(g(y),()=>b(y)),[g,b,y]),o.jsxs(o.Fragment,{children:[o.jsx(ge.span,{id:c.textId,...a,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ri.createPortal(a.children,i.valueNode):null]})});_N.displayName=pl;var jN="SelectItemIndicator",SN=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return wN(jN,n).isSelected?o.jsx(ge.span,{"aria-hidden":!0,...r,ref:t}):null});SN.displayName=jN;var dp="SelectScrollUpButton",NN=m.forwardRef((e,t)=>{const n=ma(dp,e.__scopeSelect),r=Nv(dp,e.__scopeSelect),[s,a]=m.useState(!1),i=Qe(t,r.onScrollButtonChange);return qt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(kN,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});NN.displayName=dp;var fp="SelectScrollDownButton",CN=m.forwardRef((e,t)=>{const n=ma(fp,e.__scopeSelect),r=Nv(fp,e.__scopeSelect),[s,a]=m.useState(!1),i=Qe(t,r.onScrollButtonChange);return qt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?o.jsx(kN,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});CN.displayName=fp;var kN=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=ma("SelectScrollButton",n),i=m.useRef(null),l=pf(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),qt(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(ge.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:se(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:se(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:se(s.onPointerLeave,()=>{c()})})}),b5="SelectSeparator",EN=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(ge.div,{"aria-hidden":!0,...r,ref:t})});EN.displayName=b5;var hp="SelectArrow",_5=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=gf(n),a=ha(hp,n),i=ma(hp,n);return a.open&&i.position==="popper"?o.jsx(M_,{...s,...r,ref:t}):null});_5.displayName=hp;function PN(e){return e===""||e===void 0}var TN=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),a=Qe(t,s),i=Sv(n);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[i,n]),o.jsx(sN,{asChild:!0,children:o.jsx("select",{...r,ref:a,defaultValue:n})})});TN.displayName="BubbleSelect";function MN(e){const t=Ln(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function RN(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=j5(e,Math.max(a,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function j5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var S5=aN,DN=oN,N5=cN,C5=uN,k5=dN,ON=fN,E5=gN,AN=xN,IN=bN,P5=_N,T5=SN,LN=NN,FN=CN,$N=EN;const bx=S5,_x=N5,mp=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(DN,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(C5,{asChild:!0,children:o.jsx(Wj,{className:"h-4 w-4 opacity-50"})})]}));mp.displayName=DN.displayName;const UN=m.forwardRef(({className:e,...t},n)=>o.jsx(LN,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(kI,{className:"h-4 w-4"})}));UN.displayName=LN.displayName;const zN=m.forwardRef(({className:e,...t},n)=>o.jsx(FN,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Wj,{className:"h-4 w-4"})}));zN.displayName=FN.displayName;const pp=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>o.jsx(k5,{children:o.jsxs(ON,{ref:s,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(UN,{}),o.jsx(E5,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(zN,{})]})}));pp.displayName=ON.displayName;const M5=m.forwardRef(({className:e,...t},n)=>o.jsx(AN,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));M5.displayName=AN.displayName;const pn=m.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(IN,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(T5,{children:o.jsx(uf,{className:"h-4 w-4"})})}),o.jsx(P5,{children:t})]}));pn.displayName=IN.displayName;const R5=m.forwardRef(({className:e,...t},n)=>o.jsx($N,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));R5.displayName=$N.displayName;function D5(){const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,a]=m.useState(""),[i,l]=m.useState(""),[c,u]=m.useState("user"),[d,h]=m.useState([]),[f,p]=m.useState([]),[y,g]=m.useState(""),[b,x]=m.useState(""),[v,w]=m.useState(""),[_,S]=m.useState(!1),{signup:j}=Re(),{toast:k}=St(),N=tn(),[T,R]=m.useState(null),[L,D]=m.useState(null),F=async A=>{var U;const C=(U=A.target.files)==null?void 0:U[0];if(!C)return;if(!C.type.startsWith("image/")){k({title:"Invalid file type",description:"Please upload an image file",variant:"destructive"});return}if(C.size>5*1024*1024){k({title:"File too large",description:"Image must be less than 5MB",variant:"destructive"});return}D(C);const O=new FileReader;O.onload=()=>{const $=O.result;R($)},O.readAsDataURL(C)},H=()=>{R(null),D(null),x("")},K=async A=>{try{const C=A.name.split(".").pop(),O=`${Math.random().toString(36).substring(2,15)}.${C}`,$=`${`temp_${Math.random().toString(36).substring(2,15)}`}/${O}`,{error:Y}=await B.storage.from("profile_images").upload($,A);if(Y)throw Y;const{data:{publicUrl:fe}}=B.storage.from("profile_images").getPublicUrl($);return fe}catch(C){throw console.error("Error uploading profile image:",C),C}},q=async A=>{if(A.preventDefault(),s!==i){k({variant:"destructive",title:"Passwords do not match",description:"Please make sure your passwords match."});return}if(c==="consultant"&&!L&&!b){k({variant:"destructive",title:"Profile image required",description:"Please upload a profile image to continue."});return}S(!0);try{let C="";L?C=await K(L):C=`https://ui-avatars.com/api/?name=${(e==null?void 0:e.charAt(0).toUpperCase())||"U"}&background=random&color=fff`;const O={name:e,email:n,role:c,profileImage:C,...c==="consultant"?{specialization:d.length>0?d:["General Mental Health"],languages:f.length>0?f:["English"],location:y||"Remote",paypalEmail:v||n}:{}};await j(O,s),N("/")}catch(C){console.error("Signup error:",C)}finally{S(!1)}};return o.jsxs("div",{className:"w-full max-w-lg space-y-6 p-6 bg-[#025803] rounded-lg shadow-md",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"/assets/OurMinds.png",alt:"Our Minds Logo",className:"mx-auto h-12 w-12"}),o.jsx("h1",{className:"mt-4 text-2xl font-bold text-white",children:"Create an account"}),o.jsx("p",{className:"mt-1 text-sm text-gray-200",children:"Join our mental health community today"})]}),o.jsxs(gc,{defaultValue:"user",className:"w-full",children:[o.jsxs(Do,{className:"grid w-full grid-cols-2",children:[o.jsx(kt,{value:"user",onClick:()=>u("user"),className:"data-[state=active]:bg-mental-green-100 data-[state=active]:text-black",children:"Regular User"}),o.jsx(kt,{value:"consultant",onClick:()=>u("consultant"),className:"data-[state=active]:bg-mental-green-100 data-[state=active]:text-black",children:"Consultant"})]}),o.jsxs("form",{onSubmit:q,className:"space-y-4 mt-4",children:[o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{htmlFor:"name",children:"Full Name"}),o.jsx(Oe,{className:"w-full  text-black",id:"name",type:"text",placeholder:"",value:e,onChange:A=>t(A.target.value),required:!0})]}),o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{htmlFor:"email",children:"Email"}),o.jsx(Oe,{className:"w-full  text-black",id:"email",type:"email",placeholder:"",value:n,onChange:A=>r(A.target.value),required:!0,autoComplete:"email"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{htmlFor:"password",children:"Password"}),o.jsx(Oe,{className:"w-full  text-black",id:"password",type:"password",placeholder:"",value:s,onChange:A=>a(A.target.value),required:!0,autoComplete:"new-password"})]}),o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx(Oe,{className:"w-full  text-black",id:"confirmPassword",type:"password",placeholder:"",value:i,onChange:A=>l(A.target.value),required:!0,autoComplete:"new-password"})]})]}),o.jsxs(Rt,{value:"consultant",className:"space-y-4",children:[o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{children:"Profile Picture"}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(To,{className:"h-24 w-24 border-2 border-gray-200",children:[o.jsx(Mo,{src:T||""}),o.jsx(Ro,{className:"text-3xl",children:e?e.charAt(0).toUpperCase():"U"})]}),o.jsxs("div",{className:"absolute -bottom-2 -right-2 flex gap-1",children:[o.jsxs(X,{type:"button",size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full shadow",onClick:()=>{var A;return(A=document.getElementById("profile-image-upload"))==null?void 0:A.click()},children:[o.jsx(zj,{size:16}),o.jsx("span",{className:"sr-only",children:"Upload image"})]}),T&&o.jsxs(X,{type:"button",size:"icon",variant:"destructive",className:"h-8 w-8 rounded-full shadow",onClick:H,children:[o.jsx(Wa,{size:16}),o.jsx("span",{className:"sr-only",children:"Remove image"})]})]})]}),o.jsx("input",{id:"profile-image-upload",type:"file",className:"hidden",onChange:F,accept:"image/*"}),o.jsx("p",{className:"mt-4 text-xs text-gray-200",children:"Click the camera icon to upload your profile image"})]})]}),o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{htmlFor:"specialization",children:"Specialization"}),o.jsxs(bx,{onValueChange:A=>h([A]),defaultValue:"General Mental Health",children:[o.jsx(mp,{children:o.jsx(_x,{placeholder:"Select a specialization"})}),o.jsxs(pp,{children:[o.jsx(pn,{value:"General Mental Health",children:"General Mental Health"}),o.jsx(pn,{value:"Anxiety",children:"Anxiety"}),o.jsx(pn,{value:"Depression",children:"Depression"}),o.jsx(pn,{value:"Trauma",children:"Trauma"}),o.jsx(pn,{value:"Addiction",children:"Addiction"}),o.jsx(pn,{value:"PTSD",children:"PTSD"}),o.jsx(pn,{value:"Family Therapy",children:"Family Therapy"})]})]})]}),o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{htmlFor:"languages",children:"Languages"}),o.jsxs(bx,{onValueChange:A=>p([A]),defaultValue:"English",children:[o.jsx(mp,{children:o.jsx(_x,{placeholder:"Select languages"})}),o.jsxs(pp,{children:[o.jsx(pn,{value:"English",children:"English"}),o.jsx(pn,{value:"Spanish",children:"Spanish"}),o.jsx(pn,{value:"French",children:"French"}),o.jsx(pn,{value:"German",children:"German"}),o.jsx(pn,{value:"Mandarin",children:"Mandarin"}),o.jsx(pn,{value:"Arabic",children:"Arabic"})]})]})]}),o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{htmlFor:"location",children:"Location"}),o.jsx(Oe,{className:"w-full  text-black",id:"location",type:"text",placeholder:"City, Country",value:y,onChange:A=>g(A.target.value)})]}),o.jsxs("div",{className:"text-gray-100 space-y-2",children:[o.jsx(_e,{htmlFor:"paypalEmail",children:"PayPal Email (for payments)"}),o.jsx(Oe,{className:"w-full  text-black",id:"paypalEmail",type:"email",placeholder:"",value:v,onChange:A=>w(A.target.value)}),o.jsx("p",{className:"text-xs text-gray-200",children:"You can update this later in your profile settings."})]})]}),o.jsx(X,{type:"submit",className:"w-full bg-mental-green-400 hover:bg-mental-green-500",disabled:_,children:_?"Creating account...":"Create account"})]})]}),o.jsxs("div",{className:"text-center text-sm",children:[o.jsx("span",{className:"text-gray-200",children:"Already have an account? "}),o.jsx(Bt,{to:"/login",className:"text-mental-green-300 hover:underline",children:"Log in"})]})]})}function O5(){const{isAuthenticated:e}=Re(),t=tn();return m.useEffect(()=>{e&&t("/")},[e,t]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-mental-green-50 p-4",children:o.jsx(D5,{})})}function A5({currentImage:e,onImageChange:t,size:n="md"}){var b;const{toast:r}=St(),{user:s}=Re(),a=m.useRef(null),[i,l]=m.useState(null),[c,u]=m.useState(!1),d={sm:"h-20 w-20",md:"h-32 w-32",lg:"h-40 w-40"},h=async x=>{var _;const v=(_=x.target.files)==null?void 0:_[0];if(!v)return;if(!v.type.startsWith("image/")){r({title:"Invalid file type",description:"Please upload an image file",variant:"destructive"});return}if(v.size>5*1024*1024){r({title:"File too large",description:"Image must be less than 5MB",variant:"destructive"});return}const w=new FileReader;w.onload=()=>{const S=w.result;l(S)},w.readAsDataURL(v);try{u(!0),await t(v),r({title:"Image uploaded",description:"Your profile image has been updated successfully."})}catch(S){console.error("Error uploading image:",S),r({title:"Upload failed",description:S.message||"Could not upload your image. Please try again.",variant:"destructive"}),l(null)}finally{u(!1)}},f=()=>{a.current&&a.current.click()},p=async()=>{try{u(!0),l(null),a.current&&(a.current.value=""),await t(null),r({title:"Image removed",description:"Your profile image has been removed."})}catch(x){r({title:"Error removing image",description:x.message||"Could not remove your profile image.",variant:"destructive"})}finally{u(!1)}},y=i||e,g=((b=s==null?void 0:s.email)==null?void 0:b[0].toUpperCase())||"U";return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"relative",children:[o.jsxs(To,{className:`${d[n]} border-2 border-gray-200`,children:[o.jsx(Mo,{src:y||""}),o.jsx(Ro,{className:"text-3xl",children:g})]}),o.jsxs("div",{className:"absolute -bottom-2 -right-2 flex gap-1",children:[o.jsxs(X,{type:"button",size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full shadow",onClick:f,disabled:c,children:[o.jsx(zj,{size:16}),o.jsx("span",{className:"sr-only",children:"Upload image"})]}),y&&o.jsxs(X,{type:"button",size:"icon",variant:"destructive",className:"h-8 w-8 rounded-full shadow",onClick:p,disabled:c,children:[o.jsx(Wa,{size:16}),o.jsx("span",{className:"sr-only",children:"Remove image"})]})]})]}),o.jsx("input",{type:"file",className:"hidden",ref:a,onChange:h,accept:"image/*"}),o.jsx("p",{className:"mt-4 text-sm text-gray-500",children:c?"Uploading...":"Click the camera icon to update your profile image"})]})}const I5=xg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function st({className:e,variant:t,...n}){return o.jsx("div",{className:ae(I5({variant:t}),e),...n})}function L5({tags:e,onChange:t,maxTags:n=6}){const{toast:r}=St(),[s,a]=m.useState(""),i=()=>{const u=s.trim();if(u){if(e.includes(u)){r({title:"Tag already exists",description:"This tag has already been added.",variant:"destructive"});return}if(e.length>=n){r({title:"Maximum tags reached",description:`You can only add up to ${n} tags.`,variant:"destructive"});return}t([...e,u]),a("")}},l=u=>{u.key==="Enter"&&(u.preventDefault(),i())},c=u=>{t(e.filter(d=>d!==u))};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Oe,{value:s,onChange:u=>a(u.target.value),onKeyDown:l,placeholder:"Add a specialization tag...",className:"flex-1",disabled:e.length>=n}),o.jsxs(X,{type:"button",onClick:i,disabled:!s.trim()||e.length>=n,children:[o.jsx(Kj,{className:"mr-2 h-4 w-4"})," Add"]})]}),e.length>=n&&o.jsxs("p",{className:"text-amber-600 text-sm",children:["Maximum of ",n," tags reached"]}),o.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[e.map((u,d)=>o.jsxs(st,{variant:"secondary",className:"px-2 py-1 text-sm",children:[u,o.jsxs("button",{type:"button",onClick:()=>c(u),className:"ml-1 text-gray-500 hover:text-gray-700 focus:outline-none",children:[o.jsx(Wa,{size:14}),o.jsxs("span",{className:"sr-only",children:["Remove ",u]})]})]},u)),e.length===0&&o.jsx("p",{className:"text-gray-500 text-sm",children:"No tags added yet"})]})]})}async function F5(e,t){if(!t)return null;try{const n=t.split("/"),r=n[n.length-1];if(t.includes(`/${e}/`))return t;const{data:s,error:a}=await B.storage.from("profile_images").download(r);if(a)return console.error("Error downloading old profile image:",a),t;const i=`${e}/${r}`,{error:l}=await B.storage.from("profile_images").upload(i,s,{cacheControl:"3600",upsert:!0});if(l)return console.error("Error uploading to new path:",l),t;const{data:c}=B.storage.from("profile_images").getPublicUrl(i),{error:u}=await B.from("users").update({profile_image:c.publicUrl}).eq("id",e);return u&&console.error("Error updating user profile:",u),c.publicUrl}catch(n){return console.error("Profile image migration failed:",n),t}}function $5({isConsultant:e=!1,isAdmin:t=!1}){const{profile:n,user:r,refreshProfile:s}=Re(),{toast:a}=St(),[i,l]=m.useState(!1),[c,u]=m.useState((n==null?void 0:n.profileImage)||""),[d,h]=m.useState((n==null?void 0:n.name)||""),[f,p]=m.useState((n==null?void 0:n.bio)||""),[y,g]=m.useState((n==null?void 0:n.specialization)||["Anxiety","Depression","Stress Management"]),[b,x]=m.useState("Remote"),[v,w]=m.useState(["English"]),[_,S]=m.useState(50);m.useEffect(()=>{n&&(h(n.name||""),u(n.profileImage||""),p(n.bio||""),g(n.specialization||["Anxiety","Depression","Stress Management"]),e&&j())},[n,e]);const j=async()=>{if(r)try{const{data:T,error:R}=await B.from("consultants").select("location, languages, hourly_rate").eq("id",r.id).single();if(R){console.log("No consultant record found, using defaults");return}T&&(x(T.location||"Remote"),w(T.languages||["English"]),S(T.hourly_rate||50))}catch(T){console.error("Error fetching consultant details:",T)}};m.useEffect(()=>{(async()=>{if(r&&(n!=null&&n.profileImage))try{if(!n.profileImage.includes(`/${r.id}/`)){console.log("Attempting to migrate profile image");const R=await F5(r.id,n.profileImage);R&&R!==n.profileImage&&(u(R),a({title:"Profile image updated",description:"Your profile image has been migrated to a new format."}))}}catch(R){console.error("Error migrating profile image:",R)}})()},[r,n==null?void 0:n.profileImage,a]);const k=async T=>{if(!r)throw new Error("User not authenticated");if(T===null){u("");return}if(typeof T=="string"){u(T);return}try{const R=T.name.split(".").pop(),L=`${Math.random().toString(36).substring(2,15)}_${Date.now()}.${R}`,D=`${r.id}/${L}`,{error:F,data:H}=await B.storage.from("profile_images").upload(D,T,{cacheControl:"3600",upsert:!0});if(F)throw F;const{data:K}=B.storage.from("profile_images").getPublicUrl(D);u(K.publicUrl)}catch(R){throw console.error("Error uploading profile image:",R),new Error(R.message||"Failed to upload image")}},N=async()=>{if(!r||!n){a({title:"Not authenticated",description:"You need to be logged in to update your profile.",variant:"destructive"});return}l(!0);try{const{error:T}=await B.from("users").update({name:d,profile_image:c}).eq("id",r.id);if(T)throw T;if(e){const{data:R}=await B.from("consultants").select("id").eq("id",r.id).single();if(R){const{error:L}=await B.from("consultants").update({specialization:y,bio:f,location:b,languages:v,hourly_rate:_}).eq("id",r.id);if(L)throw L}else{const{error:L}=await B.from("consultants").insert({id:r.id,specialization:y,bio:f,location:b,languages:v,hourly_rate:_,paypal_email:""});if(L)throw L}}s&&await s(),a({title:"Profile updated",description:"Your profile changes have been saved."})}catch(T){a({title:"Update failed",description:T.message||"There was an error saving your profile. Please try again.",variant:"destructive"})}finally{l(!1)}};return n?o.jsxs("div",{className:"space-y-6",children:[o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Profile Picture"}),o.jsx(Jt,{children:"Update your profile picture. This will be visible to other users."})]}),o.jsx(Se,{className:"flex justify-center",children:o.jsx(A5,{currentImage:c,onImageChange:k,size:"lg"})})]}),o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Personal Information"}),o.jsx(Jt,{children:"Update your personal information."})]}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"name",children:"Full Name"}),o.jsx(Oe,{id:"name",value:d,onChange:T=>h(T.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"email",children:"Email"}),o.jsx(Oe,{id:"email",value:n.email||"",type:"email",disabled:!0})]}),t&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"role",children:"Role"}),o.jsx(Oe,{id:"role",value:"Administrator",disabled:!0})]})]})]}),e&&o.jsxs(o.Fragment,{children:[o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Consultant Details"}),o.jsx(Jt,{children:"Update your location, languages, and hourly rate."})]}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"location",children:"Location"}),o.jsx(Oe,{id:"location",value:b,onChange:T=>x(T.target.value),placeholder:"e.g., Remote, New York, London"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"languages",children:"Languages (comma-separated)"}),o.jsx(Oe,{id:"languages",value:v.join(", "),onChange:T=>w(T.target.value.split(",").map(R=>R.trim()).filter(Boolean)),placeholder:"e.g., English, Spanish, French"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(_e,{htmlFor:"hourly-rate",children:"Hourly Rate ($)"}),o.jsx(Oe,{id:"hourly-rate",type:"number",value:_,onChange:T=>S(Number(T.target.value)),min:"0",step:"5"})]})]})]}),o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Consultant Specializations"}),o.jsx(Jt,{children:"Add up to 6 specialization tags. The first 3 tags will be displayed on your public profile."})]}),o.jsx(Se,{children:o.jsx(L5,{tags:y,onChange:g,maxTags:6})})]})]}),o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Bio"}),o.jsx(Jt,{children:"Tell others a little about yourself."})]}),o.jsx(Se,{children:o.jsx("textarea",{className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:"Write a short bio...",value:f,onChange:T=>p(T.target.value)})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(X,{onClick:N,disabled:i,children:i?"Saving...":"Save Changes"})})]}):o.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading profile..."})}const Ao=m.forwardRef(({className:e,...t},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:ae("w-full caption-bottom text-sm",e),...t})}));Ao.displayName="Table";const Io=m.forwardRef(({className:e,...t},n)=>o.jsx("thead",{ref:n,className:ae("[&_tr]:border-b",e),...t}));Io.displayName="TableHeader";const Lo=m.forwardRef(({className:e,...t},n)=>o.jsx("tbody",{ref:n,className:ae("[&_tr:last-child]:border-0",e),...t}));Lo.displayName="TableBody";const U5=m.forwardRef(({className:e,...t},n)=>o.jsx("tfoot",{ref:n,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));U5.displayName="TableFooter";const Xn=m.forwardRef(({className:e,...t},n)=>o.jsx("tr",{ref:n,className:ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Xn.displayName="TableRow";const Ze=m.forwardRef(({className:e,...t},n)=>o.jsx("th",{ref:n,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ze.displayName="TableHead";const Ke=m.forwardRef(({className:e,...t},n)=>o.jsx("td",{ref:n,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ke.displayName="TableCell";const z5=m.forwardRef(({className:e,...t},n)=>o.jsx("caption",{ref:n,className:ae("mt-4 text-sm text-muted-foreground",e),...t}));z5.displayName="TableCaption";function B5(){const{toast:e}=St(),{user:t,profile:n}=Re(),[r,s]=m.useState([]),[a,i]=m.useState(""),[l,c]=m.useState(!1),[u,d]=m.useState(""),[h,f]=m.useState(!1),[p,y]=m.useState(0),[g,b]=m.useState(0),[x,v]=m.useState(0);m.useEffect(()=>{t&&(w(),_())},[t]);const w=async()=>{if(t)try{const{data:N,error:T}=await B.from("consultants").select("paypal_email").eq("id",t.id).single();if(T)throw T;N&&(i(N.paypal_email||""),d(N.paypal_email||""))}catch(N){console.error("Error fetching consultant data:",N),e({title:"Error loading consultant data",description:N.message,variant:"destructive"})}},_=async()=>{if(t){f(!0);try{const{data:N,error:T}=await B.from("transactions").select("*").eq("consultant_id",t.id).order("created_at",{ascending:!1});if(T)throw T;const R=await Promise.all((N||[]).map(async L=>{let D="Unknown Client";if(L.session_id)try{const{data:F}=await B.from("sessions").select("user_id").eq("id",L.session_id).single();if(F){const{data:H}=await B.from("users").select("name").eq("id",F.user_id).single();H&&(D=H.name)}}catch(F){console.error("Error fetching user name:",F)}return{...L,user_name:D}}));s(R),S(R)}catch(N){console.error("Error fetching transactions:",N),e({title:"Error loading transactions",description:N.message,variant:"destructive"})}finally{f(!1)}}},S=N=>{const T=N.filter(K=>K.status==="completed"),R=T.reduce((K,q)=>K+q.amount,0),L=new Date().getMonth(),D=new Date().getFullYear(),F=T.filter(K=>{const q=new Date(K.created_at);return q.getMonth()===L&&q.getFullYear()===D}).reduce((K,q)=>K+q.amount,0),H=N.filter(K=>K.status==="pending").reduce((K,q)=>K+q.amount,0);y(R),b(F),v(H)},j=async()=>{if(t){f(!0);try{const{error:N}=await B.from("consultants").update({paypal_email:u}).eq("id",t.id);if(N)throw N;i(u),c(!1),e({title:"PayPal email updated",description:"Your payment information has been updated successfully."})}catch(N){console.error("Error updating PayPal email:",N),e({title:"Error updating PayPal email",description:N.message,variant:"destructive"})}finally{f(!1)}}},k=N=>new Date(N).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(xe,{children:[o.jsx(Ue,{className:"pb-2",children:o.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:"Total Earnings"})}),o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Kg,{className:"mr-2 h-4 w-4 text-mental-green-500"}),o.jsxs("span",{className:"text-2xl font-bold",children:["$",p.toFixed(2)]})]})})]}),o.jsxs(xe,{children:[o.jsx(Ue,{className:"pb-2",children:o.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:"This Month"})}),o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(TI,{className:"mr-2 h-4 w-4 text-mental-green-500"}),o.jsxs("span",{className:"text-2xl font-bold",children:["$",g.toFixed(2)]})]})})]}),o.jsxs(xe,{children:[o.jsx(Ue,{className:"pb-2",children:o.jsx(ze,{className:"text-sm font-medium text-muted-foreground",children:"Pending Payout"})}),o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(YI,{className:"mr-2 h-4 w-4 text-mental-green-500"}),o.jsxs("span",{className:"text-2xl font-bold",children:["$",x.toFixed(2)]})]})})]})]}),o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Payment Information"}),o.jsx(Jt,{children:"Update your payment details and preferences."})]}),o.jsx(Se,{children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"paypal-email",children:"PayPal Email"}),l?o.jsxs("div",{className:"flex gap-2 mt-1",children:[o.jsx(Oe,{id:"paypal-email",value:u,onChange:N=>d(N.target.value),placeholder:"your-paypal@example.com",className:"flex-1",disabled:h}),o.jsx(X,{onClick:j,disabled:h,children:h?"Saving...":"Save"}),o.jsx(X,{variant:"outline",onClick:()=>{c(!1),d(a)},disabled:h,children:"Cancel"})]}):o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Oe,{id:"paypal-email",value:a||"No PayPal email set",disabled:!0,className:"bg-muted"}),o.jsx(X,{onClick:()=>c(!0),disabled:h,children:"Change"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"All payments will be sent to this PayPal email address."})]})})})]}),o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Transaction History"}),o.jsx(Jt,{children:"Your recent payment history and session details."})]}),o.jsx(Se,{children:h?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-2"}),o.jsx("p",{children:"Loading transactions..."})]})}):r.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:o.jsx("p",{children:"No transactions yet. Complete sessions to see your earnings here."})}):o.jsxs(Ao,{children:[o.jsx(Io,{children:o.jsxs(Xn,{children:[o.jsx(Ze,{children:"Date"}),o.jsx(Ze,{children:"Client"}),o.jsx(Ze,{children:"Description"}),o.jsx(Ze,{className:"text-right",children:"Amount"}),o.jsx(Ze,{children:"Status"})]})}),o.jsx(Lo,{children:r.map(N=>o.jsxs(Xn,{children:[o.jsx(Ke,{children:k(N.created_at)}),o.jsx(Ke,{children:N.user_name||"Unknown Client"}),o.jsx(Ke,{children:N.description}),o.jsxs(Ke,{className:"text-right",children:["$",N.amount.toFixed(2)]}),o.jsx(Ke,{children:o.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium 
                        ${N.status==="completed"?"bg-green-100 text-green-800":N.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})})]},N.id))})]})})]})]})}var Cv="Switch",[W5,KU]=da(Cv),[H5,q5]=W5(Cv),BN=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=m.useState(null),y=Qe(t,w=>p(w)),g=m.useRef(!1),b=f?d||!!f.closest("form"):!0,[x=!1,v]=Zs({prop:s,defaultProp:a,onChange:u});return o.jsxs(H5,{scope:n,checked:x,disabled:l,children:[o.jsx(ge.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":qN(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:se(e.onClick,w=>{v(_=>!_),b&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),b&&o.jsx(V5,{control:f,bubbles:!g.current,name:r,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});BN.displayName=Cv;var WN="SwitchThumb",HN=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=q5(WN,n);return o.jsx(ge.span,{"data-state":qN(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});HN.displayName=WN;var V5=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=m.useRef(null),i=Sv(n),l=Ag(t);return m.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[i,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qN(e){return e?"checked":"unchecked"}var VN=BN,Y5=HN;const YN=m.forwardRef(({className:e,...t},n)=>o.jsx(VN,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(Y5,{className:ae("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));YN.displayName=VN.displayName;var kv="Checkbox",[K5,GU]=da(kv),[G5,Q5]=K5(kv),KN=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[f,p]=m.useState(null),y=Qe(t,_=>p(_)),g=m.useRef(!1),b=f?d||!!f.closest("form"):!0,[x=!1,v]=Zs({prop:s,defaultProp:a,onChange:u}),w=m.useRef(x);return m.useEffect(()=>{const _=f==null?void 0:f.form;if(_){const S=()=>v(w.current);return _.addEventListener("reset",S),()=>_.removeEventListener("reset",S)}},[f,v]),o.jsxs(G5,{scope:n,state:x,disabled:l,children:[o.jsx(ge.button,{type:"button",role:"checkbox","aria-checked":Gs(x)?"mixed":x,"aria-required":i,"data-state":XN(x),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onKeyDown:se(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:se(e.onClick,_=>{v(S=>Gs(S)?!0:!S),b&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),b&&o.jsx(X5,{control:f,bubbles:!g.current,name:r,value:c,checked:x,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Gs(a)?!1:a})]})});KN.displayName=kv;var GN="CheckboxIndicator",QN=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=Q5(GN,n);return o.jsx($r,{present:r||Gs(a.state)||a.state===!0,children:o.jsx(ge.span,{"data-state":XN(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});QN.displayName=GN;var X5=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,i=m.useRef(null),l=Sv(n),c=Ag(t);m.useEffect(()=>{const d=i.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&p){const y=new Event("click",{bubbles:r});d.indeterminate=Gs(n),p.call(d,Gs(n)?!1:n),d.dispatchEvent(y)}},[l,n,r]);const u=m.useRef(Gs(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gs(e){return e==="indeterminate"}function XN(e){return Gs(e)?"indeterminate":e?"checked":"unchecked"}var JN=KN,J5=QN;const ZN=m.forwardRef(({className:e,...t},n)=>o.jsx(JN,{ref:n,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(J5,{className:ae("flex items-center justify-center text-current"),children:o.jsx(uf,{className:"h-4 w-4"})})}));ZN.displayName=JN.displayName;const Sh=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Z5=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"];function e$(){const{user:e}=Re(),{toast:t}=St(),[n,r]=m.useState(!1),[s,a]=m.useState(!1),[i,l]=m.useState(Sh.map(f=>({day:f,slots:[]})));m.useEffect(()=>{e&&c()},[e]);const c=async()=>{if(e){r(!0);try{const{data:f,error:p}=await B.from("consultants").select("available").eq("id",e.id).single();if(p)throw p;a((f==null?void 0:f.available)||!1);const{data:y,error:g}=await B.from("consultant_availability").select("*").eq("consultant_id",e.id);if(g)throw g;const b=Sh.map((x,v)=>{var _;const w=((_=y==null?void 0:y.filter(S=>S.day_of_week===v+1))==null?void 0:_.map(S=>S.start_time.substring(0,5)))||[];return{day:x,slots:w}});l(b)}catch(f){console.error("Error fetching availability:",f),t({title:"Error fetching availability",description:f.message||"Could not load your availability settings.",variant:"destructive"})}finally{r(!1)}}},u=async()=>{if(e){r(!0);try{const f=!s,{error:p}=await B.from("consultants").update({available:f}).eq("id",e.id);if(p)throw p;a(f),t({title:f?"You are now available":"You are now unavailable",description:f?"Clients can now book sessions with you.":"You won't receive new booking requests."})}catch(f){console.error("Error updating availability:",f),t({title:"Error updating availability",description:f.message||"Could not update your availability status.",variant:"destructive"})}finally{r(!1)}}},d=(f,p)=>{l(y=>y.map(g=>{if(g.day!==f)return g;const b=new Set(g.slots);return b.has(p)?b.delete(p):b.add(p),{...g,slots:Array.from(b)}}))},h=async()=>{if(e){r(!0);try{const{error:f}=await B.from("consultant_availability").delete().eq("consultant_id",e.id);if(f)throw f;const p=[];for(const y of i){const g=Sh.indexOf(y.day)+1;for(const b of y.slots){const[x,v]=b.split(":").map(Number),_=`${(x+1).toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}:00`;p.push({consultant_id:e.id,day_of_week:g,start_time:`${b}:00`,end_time:_})}}if(p.length>0){const{error:y}=await B.from("consultant_availability").insert(p);if(y)throw y}t({title:"Availability updated",description:"Your availability schedule has been saved successfully."})}catch(f){console.error("Error saving availability:",f),t({title:"Error saving availability",description:f.message||"Could not save your availability schedule.",variant:"destructive"})}finally{r(!1)}}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Availability Status"}),o.jsx(Jt,{children:"Toggle your availability to receive booking requests from clients."})]}),o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(YN,{id:"availability-mode",checked:s,onCheckedChange:u,disabled:n}),o.jsx(_e,{htmlFor:"availability-mode",className:"text-base",children:s?"Available for bookings":"Not available for bookings"})]})})]}),o.jsxs(xe,{children:[o.jsxs(Ue,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Weekly Schedule"}),o.jsx(Jt,{children:"Configure your available time slots for each day of the week."})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(X,{variant:"outline",size:"sm",className:"flex items-center",onClick:c,disabled:n,children:[o.jsx(Yg,{className:"mr-1 h-4 w-4"}),n?"Loading...":"Refresh"]}),o.jsxs(X,{size:"sm",className:"flex items-center",onClick:h,disabled:n,children:[o.jsx(cf,{className:"mr-1 h-4 w-4"}),n?"Saving...":"Save Schedule"]})]})]}),o.jsx(Se,{children:o.jsx("div",{className:"space-y-6",children:i.map(f=>o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-2",children:f.day}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:Z5.map(p=>o.jsxs("div",{className:"flex items-center space-x-2 border rounded p-2",children:[o.jsx(ZN,{id:`${f.day}-${p}`,checked:f.slots.includes(p),onCheckedChange:()=>d(f.day,p),disabled:n}),o.jsx("label",{htmlFor:`${f.day}-${p}`,className:"text-sm cursor-pointer",children:p})]},`${f.day}-${p}`))})]},f.day))})})]})]})}function t$(){const{user:e}=Re(),{toast:t}=St(),[n,r]=m.useState(!0),[s,a]=m.useState([]);m.useEffect(()=>{e&&i()},[e]);const i=async()=>{if(e){r(!0);try{const{data:x,error:v}=await B.from("sessions").select(`
          *,
          users!sessions_user_id_fkey(
            name,
            profile_image
          )
        `).eq("consultant_id",e.id).order("start_time",{ascending:!1});if(v)throw v;const w=x?x.map(_=>({id:_.id,user_id:_.user_id,consultant_id:_.consultant_id,start_time:_.start_time,end_time:_.end_time,status:_.status,notes:_.notes,created_at:_.created_at,user:_.users?{name:_.users.name||"Unknown User",profile_image:_.users.profile_image||null}:null})):[];a(w)}catch(x){console.error("Error fetching sessions:",x),t({title:"Error fetching sessions",description:x.message||"Could not load your sessions.",variant:"destructive"})}finally{r(!1)}}},l=async(x,v)=>{r(!0);try{const{error:w}=await B.from("sessions").update({status:v}).eq("id",x).eq("consultant_id",e==null?void 0:e.id);if(w)throw w;a(_=>_.map(S=>S.id===x?{...S,status:v}:S)),t({title:"Session updated",description:`The session has been marked as ${v}.`})}catch(w){t({title:"Error updating session",description:w.message||"Could not update the session status.",variant:"destructive"})}finally{r(!1)}},c=s.filter(x=>(x.status==="scheduled"||x.status==="pending_payment_confirmation")&&pd(Na(x.start_time),new Date)),u=s.filter(x=>x.status==="completed"||x.status!=="cancelled"&&yv(Na(x.start_time),new Date)),d=s.filter(x=>x.status==="cancelled"),h=x=>{const v=Na(x);return dt(v,"MMM dd, yyyy")},f=x=>{const v=Na(x);return dt(v,"h:mm a")},p=(x,v)=>{const w=Na(x);return`${(Na(v).getTime()-w.getTime())/(1e3*60)} min`},y=x=>{switch(x){case"scheduled":return"outline";case"completed":return"default";case"pending_payment_confirmation":return"secondary";case"cancelled":return"destructive";default:return"outline"}},g=x=>{switch(x){case"pending_payment_confirmation":return"Pending Payment";default:return x.charAt(0).toUpperCase()+x.slice(1)}},b=x=>o.jsxs(Ao,{children:[o.jsx(Io,{children:o.jsxs(Xn,{children:[o.jsx(Ze,{children:"Client"}),o.jsx(Ze,{children:"Date"}),o.jsx(Ze,{children:"Time"}),o.jsx(Ze,{children:"Duration"}),o.jsx(Ze,{children:"Status"}),o.jsx(Ze,{children:"Actions"})]})}),o.jsxs(Lo,{children:[x.length===0&&o.jsx(Xn,{children:o.jsx(Ke,{colSpan:6,className:"text-center py-4",children:"No sessions found"})}),x.map(v=>{var w,_,S,j;return o.jsxs(Xn,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-100 overflow-hidden",children:(w=v.user)!=null&&w.profile_image?o.jsx("img",{src:v.user.profile_image,alt:(_=v.user)==null?void 0:_.name,className:"h-full w-full object-cover"}):o.jsx("div",{className:"h-full w-full flex items-center justify-center bg-mental-green-100 text-mental-green-800",children:((S=v.user)==null?void 0:S.name.charAt(0).toUpperCase())||"U"})}),o.jsx("span",{className:"font-medium",children:((j=v.user)==null?void 0:j.name)||"Unknown User"})]})}),o.jsx(Ke,{children:h(v.start_time)}),o.jsx(Ke,{children:f(v.start_time)}),o.jsx(Ke,{children:p(v.start_time,v.end_time)}),o.jsx(Ke,{children:o.jsx(st,{variant:y(v.status),children:g(v.status)})}),o.jsx(Ke,{children:o.jsx("div",{className:"flex space-x-2",children:(v.status==="scheduled"||v.status==="pending_payment_confirmation")&&o.jsxs(o.Fragment,{children:[o.jsx(X,{size:"sm",variant:"outline",onClick:()=>l(v.id,"completed"),children:"Complete"}),o.jsx(X,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>l(v.id,"cancelled"),children:"Cancel"})]})})})]},v.id)})]})]});return o.jsx("div",{className:"space-y-6",children:o.jsxs(xe,{children:[o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Your Sessions"}),o.jsx(Jt,{children:"Manage your upcoming and past client sessions."})]}),o.jsxs(X,{variant:"outline",size:"sm",className:"flex items-center",onClick:i,disabled:n,children:[o.jsx(Yg,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})}),o.jsx(Se,{children:o.jsxs(gc,{defaultValue:"upcoming",children:[o.jsxs(Do,{className:"mb-4",children:[o.jsxs(kt,{value:"upcoming",children:["Upcoming",c.length>0&&o.jsx(st,{variant:"secondary",className:"ml-2",children:c.length})]}),o.jsxs(kt,{value:"past",children:["Past",u.length>0&&o.jsx(st,{variant:"secondary",className:"ml-2",children:u.length})]}),o.jsxs(kt,{value:"cancelled",children:["Cancelled",d.length>0&&o.jsx(st,{variant:"secondary",className:"ml-2",children:d.length})]})]}),o.jsx(Rt,{value:"upcoming",className:"pt-2",children:n?o.jsx("div",{className:"flex items-center justify-center p-4",children:o.jsx("p",{children:"Loading upcoming sessions..."})}):b(c)}),o.jsx(Rt,{value:"past",className:"pt-2",children:n?o.jsx("div",{className:"flex items-center justify-center p-4",children:o.jsx("p",{children:"Loading past sessions..."})}):b(u)}),o.jsx(Rt,{value:"cancelled",className:"pt-2",children:n?o.jsx("div",{className:"flex items-center justify-center p-4",children:o.jsx("p",{children:"Loading cancelled sessions..."})}):b(d)})]})})]})})}function n$(){const{user:e}=Re(),{toast:t}=St(),[n,r]=m.useState(!0),[s,a]=m.useState([]),[i,l]=m.useState(null);m.useEffect(()=>{e&&c()},[e]);const c=async()=>{if(e){r(!0);try{const{data:f,error:p}=await B.from("stories").select("*").eq("author_id",e.id).order("published_at",{ascending:!1});if(p)throw p;const y=f?f.map(g=>({id:g.id,title:g.title,snippet:g.snippet,content:g.content,cover_image:g.cover_image,tags:g.tags,tag_type:g.tag_type||"mental",author_id:g.author_id,is_featured:g.is_featured,published_at:g.published_at,created_at:g.created_at,updated_at:g.updated_at})):[];a(y)}catch(f){t({title:"Error fetching stories",description:f.message||"Could not load your stories.",variant:"destructive"})}finally{r(!1)}}},u=async f=>{if(confirm("Are you sure you want to delete this story? This action cannot be undone."))try{const{error:p}=await B.from("stories").delete().eq("id",f).eq("author_id",e==null?void 0:e.id);if(p)throw p;a(y=>y.filter(g=>g.id!==f)),t({title:"Story deleted",description:"Your story has been deleted successfully."})}catch(p){t({title:"Error deleting story",description:p.message||"Could not delete your story.",variant:"destructive"})}},d=f=>{try{const p=Na(f);return dt(p,"MMM dd, yyyy")}catch{return f}},h=()=>o.jsxs(X,{className:"mt-4",children:[o.jsx(RI,{className:"mr-2 h-4 w-4"}),"Create Your First Story"]});return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(xe,{children:[o.jsxs(Ue,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Your Stories"}),o.jsx(Jt,{children:"Manage stories you've shared on the platform."})]}),o.jsx(Cu,{})]}),o.jsx(Se,{children:n?o.jsx("div",{className:"flex items-center justify-center p-4",children:o.jsx("p",{children:"Loading your stories..."})}):s.length===0?o.jsxs("div",{className:"text-center py-10 space-y-4",children:[o.jsx(dx,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium",children:"No stories yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Share your insights and experiences by creating your first story."})]}),o.jsx(Cu,{children:h()})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(f=>o.jsxs(xe,{className:"overflow-hidden border",children:[o.jsxs("div",{className:"aspect-video relative",children:[o.jsx("img",{src:f.cover_image||"/placeholder.svg",alt:f.title,className:"object-cover w-full h-full"}),f.is_featured&&o.jsx(st,{className:"absolute top-2 right-2 bg-mental-green-600",children:"Featured"})]}),o.jsxs(Ue,{className:"pb-2",children:[o.jsx(ze,{className:"line-clamp-1",children:f.title}),o.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:o.jsxs("span",{children:["Published on ",d(f.published_at)]})})]}),o.jsxs(Se,{className:"pb-2",children:[o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:f.snippet}),o.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[f.tags.slice(0,3).map(p=>o.jsx(st,{variant:"outline",className:"text-xs",children:p},p)),f.tags.length>3&&o.jsxs(st,{variant:"outline",className:"text-xs",children:["+",f.tags.length-3," more"]})]})]}),o.jsxs(HS,{className:"justify-between pt-2",children:[o.jsx(Bt,{to:`/story/${f.id}`,children:o.jsxs(X,{variant:"outline",size:"sm",children:[o.jsx(dx,{className:"mr-2 h-4 w-4"})," Read"]})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{l(f)},children:o.jsx(sp,{className:"h-4 w-4"})}),o.jsx(X,{variant:"ghost",size:"sm",className:"text-red-500 hover:bg-red-50 hover:text-red-600",onClick:()=>u(f.id),children:o.jsx(Xg,{className:"h-4 w-4"})})]})]})]},f.id))})})]}),i&&o.jsx(Cu,{story:i,onOpenChange:()=>l(null)})]})}function r$(){const{profile:e,isConsultant:t,isAdmin:n}=Re();return e?o.jsx(Nn,{children:o.jsxs("div",{className:"container mx-auto py-6 px-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Your Profile"}),o.jsxs(gc,{defaultValue:"settings",className:"w-full",children:[o.jsxs(Do,{className:"mb-4",children:[o.jsx(kt,{value:"settings",children:"Settings"}),t&&o.jsxs(o.Fragment,{children:[o.jsx(kt,{value:"finances",children:"Finances"}),o.jsx(kt,{value:"availability",children:"Availability"})]}),o.jsx(kt,{value:"sessions",children:"Sessions"}),o.jsx(kt,{value:"stories",children:"Stories"})]}),o.jsx(Rt,{value:"settings",children:o.jsx($5,{isConsultant:t,isAdmin:n})}),t&&o.jsxs(o.Fragment,{children:[o.jsx(Rt,{value:"finances",children:o.jsx(B5,{})}),o.jsx(Rt,{value:"availability",children:o.jsx(e$,{})})]}),o.jsx(Rt,{value:"sessions",children:o.jsx(t$,{})}),o.jsx(Rt,{value:"stories",children:o.jsx(n$,{})})]})]})}):o.jsx(Nn,{children:o.jsx("div",{className:"container mx-auto py-6 px-4",children:o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Loading profile..."})})})}function s$(){var u,d,h;const{userId:e}=$d(),{user:t,isAuthenticated:n}=Re(),r=tn(),{toast:s}=St(),{data:a,isLoading:i}=Ft({queryKey:["publicProfile",e],queryFn:async()=>{if(!e)throw new Error("User ID is required");const{data:f,error:p}=await B.from("users").select("id, name, profile_image, role").eq("id",e).single();if(p)throw p;if(f.role==="consultant"||f.role==="admin"||f.role==="owner"){const{data:y,error:g}=await B.from("consultants").select("bio, specialization, location, languages, hourly_rate, rating, review_count, available").eq("id",e).single();return g&&g.code!=="PGRST116"&&console.error("Error fetching consultant data:",g),{...f,consultant:y||void 0}}return f},enabled:!!e}),l=async()=>{if(!n){s({title:"Authentication required",description:"Please login to chat with this user",variant:"destructive"}),r("/login");return}if(!(!e||!t)){if(t.id===e){s({title:"Cannot chat with yourself",description:"You cannot start a chat with yourself",variant:"destructive"});return}try{const f=await yo(e,t.id);r(`/chat/${f.id}`)}catch(f){console.error("Error starting chat:",f),s({title:"Failed to start chat",description:f.message||"An error occurred",variant:"destructive"})}}};if(i)return o.jsx(Nn,{children:o.jsx("div",{className:"container mx-auto py-6 px-4",children:o.jsx("div",{className:"text-center",children:"Loading profile..."})})});if(!a)return o.jsx(Nn,{children:o.jsx("div",{className:"container mx-auto py-6 px-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Profile not found"}),o.jsx("p",{className:"text-gray-600",children:"The user profile you're looking for doesn't exist."})]})})});const c=a.role==="consultant"||a.role==="admin"||a.role==="owner";return o.jsx(Nn,{children:o.jsxs("div",{className:"container mx-auto py-6 px-4 max-w-4xl",children:[o.jsx(xe,{className:"mb-6",children:o.jsx(Se,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[o.jsx("img",{src:a.profile_image||"/placeholder.svg",alt:a.name,className:"w-32 h-32 rounded-full object-cover",onError:f=>{f.target.src="/placeholder.svg"}}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h1",{className:"text-3xl font-bold mb-2",children:a.name}),c&&a.consultant&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2",children:[o.jsx(st,{variant:a.consultant.available?"default":"secondary",children:a.consultant.available?"Available":"Unavailable"}),o.jsx(st,{variant:"outline",children:a.role})]}),o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-gray-600",children:[a.consultant.location&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Yj,{size:16}),o.jsx("span",{children:a.consultant.location})]}),a.consultant.hourly_rate&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Kg,{size:16}),o.jsxs("span",{children:["$",a.consultant.hourly_rate,"/hour"]})]})]})]}),o.jsx("div",{className:"mt-4",children:o.jsxs(X,{onClick:l,className:"flex items-center gap-2",children:[o.jsx(mc,{size:16}),"Start Chat"]})})]})]})})}),c&&((u=a.consultant)==null?void 0:u.bio)&&o.jsxs(xe,{className:"mb-6",children:[o.jsx(Ue,{children:o.jsx(ze,{children:"About"})}),o.jsx(Se,{children:o.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.consultant.bio})})]}),c&&((d=a.consultant)==null?void 0:d.specialization)&&a.consultant.specialization.length>0&&o.jsxs(xe,{className:"mb-6",children:[o.jsx(Ue,{children:o.jsx(ze,{children:"Specializations"})}),o.jsx(Se,{children:o.jsx("div",{className:"flex flex-wrap gap-2",children:a.consultant.specialization.map((f,p)=>o.jsx(st,{variant:"outline",children:f},p))})})]}),c&&((h=a.consultant)==null?void 0:h.languages)&&a.consultant.languages.length>0&&o.jsxs(xe,{className:"mb-6",children:[o.jsx(Ue,{children:o.jsx(ze,{children:"Languages"})}),o.jsx(Se,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qj,{size:16,className:"text-gray-500"}),o.jsx("span",{children:a.consultant.languages.join(", ")})]})})]})]})})}function a$(){var l,c,u;const{storyId:e}=$d(),t=tn(),{toast:n}=St(),[r,s]=m.useState(null),[a,i]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{if(!e){t("/");return}const{data:h,error:f}=await B.from("stories").select("*").eq("id",e).single();if(f)throw f;if(h){let p={name:"Anonymous",profile_image:null};if(h.author_id){const{data:b,error:x}=await B.from("users").select("name, profile_image").eq("id",h.author_id).single();!x&&b&&(p=b)}const y=h.tag_type,g={...h,tag_type:y,author:p};s(g),document.title=`${h.title} | Our Minds`}else t("/")}catch(h){console.error("Error fetching story:",h),n({title:"Failed to load story",description:h.message||"Could not retrieve the story",variant:"destructive"}),t("/")}finally{i(!1)}})()},[e,t,n]),a?o.jsx(Nn,{children:o.jsx("div",{className:"container mx-auto p-6",children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Loading story..."})})})}):r?o.jsx(Nn,{children:o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs(X,{variant:"ghost",size:"sm",className:"mb-4 flex items-center gap-1",onClick:()=>t(-1),children:[o.jsx(_I,{size:16}),o.jsx("span",{children:"Back"})]}),o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"text-white text-sm py-1 px-3 rounded inline-block mb-2",style:{backgroundColor:`var(--story-tag-${r.tag_type})`},children:r.tags[0]}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:r.title}),o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsxs(To,{className:"h-10 w-10",children:[o.jsx(Mo,{src:((l=r.author)==null?void 0:l.profile_image)||void 0}),o.jsx(Ro,{children:((c=r.author)==null?void 0:c.name.charAt(0))||"A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:(u=r.author)==null?void 0:u.name}),o.jsx("p",{className:"text-sm text-gray-500",children:vv(new Date(r.published_at),{addSuffix:!0})})]})]})]}),o.jsx("div",{className:"mb-8",children:o.jsx("img",{src:r.cover_image,alt:r.title,className:"w-full rounded-lg object-cover h-64 md:h-96",onError:d=>{d.target.src="/public/lovable-uploads/7646df82-fc16-4ccb-8469-742a8722685b.png"}})}),o.jsx("div",{className:"prose prose-green max-w-none",children:r.content.split(`

`).map((d,h)=>o.jsx("p",{className:"mb-4",children:d},h))}),o.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((d,h)=>o.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-800 text-sm rounded-full",children:d},h))})]})]})]})}):o.jsx(Nn,{children:o.jsx("div",{className:"container mx-auto p-6",children:o.jsx("div",{className:"flex justify-center items-center h-64",children:o.jsx("p",{children:"Story not found"})})})})}function i$(){const{user:e}=Re(),[t,n]=m.useState([]),{data:r,isLoading:s,error:a,refetch:i}=Ft({queryKey:["chatThreads",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];console.log("Fetching chat threads for user:",e.id);try{const{data:p,error:y}=await B.from("chat_threads").select("*").or(`user_id.eq.${e.id},consultant_id.eq.${e.id}`).order("last_message_at",{ascending:!1});if(y)throw console.error("Error fetching threads:",y),y;return p}catch(p){throw console.error("Error in chat threads query:",p),p}},enabled:!!e}),{data:l,isLoading:c,error:u}=Ft({queryKey:["chatMessages",r==null?void 0:r.map(p=>p.id).join(",")],queryFn:async()=>{if(!r||r.length===0)return{};const p=r.map(g=>g.id),y={};try{const{data:g,error:b}=await B.from("chat_messages").select("*").in("thread_id",p).order("created_at",{ascending:!1});if(b)throw console.error("Error fetching messages:",b),b;return g==null||g.forEach(x=>{y[x.thread_id]||(y[x.thread_id]=[]),y[x.thread_id].push(x)}),y}catch(g){throw console.error("Error fetching messages:",g),g}},enabled:!!r&&r.length>0}),{data:d,isLoading:h,error:f}=Ft({queryKey:["chatUsers",r==null?void 0:r.map(p=>`${p.user_id},${p.consultant_id}`).join(",")],queryFn:async()=>{if(!r||r.length===0)return{};const p=new Set;r.forEach(y=>{p.add(y.user_id),p.add(y.consultant_id)});try{const{data:y,error:g}=await B.from("users").select("id, name, profile_image").in("id",Array.from(p));if(g)throw console.error("Error fetching user profiles:",g),g;const b={};return y==null||y.forEach(x=>{b[x.id]=x}),b}catch(y){throw console.error("Error fetching user profiles:",y),y}},enabled:!!r&&r.length>0});return m.useEffect(()=>{if(!(!e||!r||c||h))try{const p=r.map(y=>{const g=y.user_id===e.id?y.consultant_id:y.user_id,b=(d==null?void 0:d[g])||{id:g,name:"Unknown User",profile_image:"/placeholder.svg"},x=(l==null?void 0:l[y.id])||[],v=x.length>0?x[0]:void 0;return{thread:y,lastMessage:v,otherParticipant:b}});n(p)}catch(p){console.error("Error processing thread data:",p)}},[e,r,l,d,c,h]),m.useEffect(()=>{if(!e)return;const p=B.channel("chat_threads_changes").on("postgres_changes",{event:"*",schema:"public",table:"chat_threads",filter:`user_id=eq.${e.id}`},()=>{console.log("User chat thread changed, refetching..."),i()}).on("postgres_changes",{event:"*",schema:"public",table:"chat_threads",filter:`consultant_id=eq.${e.id}`},()=>{console.log("Consultant chat thread changed, refetching..."),i()}).subscribe(),y=B.channel("chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},()=>{console.log("New message detected, refetching threads..."),i()}).subscribe();return()=>{B.removeChannel(p),B.removeChannel(y)}},[e,i]),{threadsWithDetails:t,isLoading:s||c||h,error:a||u||f,refetch:i}}function o$({searchQuery:e,setSearchQuery:t}){return o.jsxs("div",{className:"relative",children:[o.jsx(Gj,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx("input",{type:"text",placeholder:"Search chats...",className:"w-full pl-8 pr-4 py-2 rounded-md border border-mental-green-200 focus:outline-none focus:ring-1 focus:ring-mental-green-500",value:e,onChange:n=>t(n.target.value)})]})}function l$({threadWithDetails:e,isSelected:t,onClick:n}){const{user:r}=Re(),{thread:s,lastMessage:a,otherParticipant:i}=e;return o.jsxs("button",{className:ae("w-full flex items-center p-3 hover:bg-mental-green-100 transition-colors border-b border-mental-green-100/50",t?"bg-mental-green-100":""),onClick:n,children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:(i==null?void 0:i.profile_image)||"/placeholder.svg",alt:(i==null?void 0:i.name)||"User",className:"w-10 h-10 rounded-full object-cover",onError:l=>{l.target.src="/placeholder.svg"}}),o.jsx("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),o.jsxs("div",{className:"ml-3 text-left flex-1 overflow-hidden",children:[o.jsxs("div",{className:"flex justify-between items-baseline",children:[o.jsx("h3",{className:"font-medium truncate",children:(i==null?void 0:i.name)||"Unknown User"}),a&&o.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap ml-2",children:new Date(a.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a&&o.jsxs("p",{className:"text-sm text-gray-600 truncate",children:[a.sender_id===(r==null?void 0:r.id)?"You: ":"",a.content]})]})]})}function c$({selectedChatId:e,onSelectChat:t}){const[n,r]=m.useState(""),{toast:s}=St(),{threadsWithDetails:a,isLoading:i,error:l}=i$();l&&s({title:"Error loading chats",description:"There was a problem loading your chat threads. Please try again later.",variant:"destructive"});const c=a.filter(u=>{var h;return(((h=u.otherParticipant)==null?void 0:h.name)||"").toLowerCase().includes(n.toLowerCase())});return o.jsxs("div",{className:"flex flex-col h-full border-r border-mental-green-100 bg-mental-green-50/80",children:[o.jsxs("div",{className:"p-4 border-b border-mental-green-100",children:[o.jsx("h2",{className:"text-lg font-semibold text-mental-green-800 mb-2",children:"Chats"}),o.jsx(o$,{searchQuery:n,setSearchQuery:r})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:i?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading chats..."}):c.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500",children:"No chats found"}):c.map(u=>o.jsx(l$,{threadWithDetails:u,isSelected:u.thread.id===e,onClick:()=>t(u.thread.id)},u.thread.id))})]})}function u$({participants:e,currentUserId:t}){return o.jsx("div",{className:"border-b border-mental-green-100 p-3",children:o.jsx("div",{className:"flex items-center",children:e.filter(n=>n.id!==t).map(n=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:n.image,alt:n.name,className:"w-10 h-10 rounded-full object-cover",onError:r=>{r.target.src="/placeholder.svg"}}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"font-semibold",children:n.name}),o.jsx("p",{className:"text-xs text-green-500",children:"Online"})]})]},n.id))})})}function d$({chat:e}){const t=m.useRef(null);m.useEffect(()=>{var a;(a=t.current)==null||a.scrollIntoView({behavior:"smooth"})},[e.messages]);const n=a=>{const i=[];let l="";return a.forEach(c=>{const u=new Date(c.timestamp).toLocaleDateString();u!==l?(l=u,i.push({date:u,messages:[c]})):i[i.length-1].messages.push(c)}),i},r=a=>{const i=new Date(a),l=new Date,c=new Date(l);return c.setDate(c.getDate()-1),i.toDateString()===l.toDateString()?"Today":i.toDateString()===c.toDateString()?"Yesterday":i.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})},s=n(e.messages);return o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s.map((a,i)=>o.jsxs("div",{className:"mb-6",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded-full text-xs font-medium text-gray-600",children:r(a.date)})}),a.messages.map(l=>{var u;const c=((u=e.participants.find(d=>d.name==="You"))==null?void 0:u.id)===l.senderId;return o.jsx("div",{className:ae("flex mb-4",c?"justify-end":"justify-start"),children:o.jsxs("div",{className:"max-w-[70%]",children:[o.jsxs("div",{className:ae("p-3 rounded-lg",c?"bg-mental-green-600 text-white rounded-br-none":"bg-gray-100 text-gray-800 rounded-bl-none"),children:[l.content,l.image&&o.jsx("img",{src:l.image,alt:"Message attachment",className:"mt-2 rounded-md max-w-full h-auto"})]}),o.jsx("div",{className:ae("text-xs text-gray-500 mt-1",c?"text-right":"text-left"),children:new Date(l.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},l.id)})]},i)),o.jsx("div",{ref:t})]})}function f$({onSendMessage:e}){const[t,n]=m.useState(""),r=s=>{s.preventDefault(),t.trim()&&(e(t),n(""))};return o.jsx("div",{className:"p-3 border-t border-mental-green-100 bg-white",children:o.jsxs("form",{onSubmit:r,className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",className:"p-2 rounded-full text-mental-green-600 hover:bg-mental-green-50",children:[o.jsx(FI,{size:20}),o.jsx("span",{className:"sr-only",children:"Attach file"})]}),o.jsx("input",{type:"text",placeholder:"Type something...",className:"flex-1 p-2 border border-mental-green-200 rounded-full focus:outline-none focus:ring-1 focus:ring-mental-green-500",value:t,onChange:s=>n(s.target.value)}),o.jsxs(X,{type:"submit",size:"icon",className:"rounded-full bg-mental-green-600 hover:bg-mental-green-700",disabled:!t.trim(),children:[o.jsx($I,{size:18}),o.jsx("span",{className:"sr-only",children:"Send message"})]})]})})}function h$(){return o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsx("p",{className:"text-gray-500",children:"Select a chat to start messaging"})})}function m$(e){var d,h;const{user:t}=Re(),n=ds(),{toast:r}=St(),{data:s,isLoading:a}=Ft({queryKey:["threadDetails",e],queryFn:async()=>{if(!e)return null;const{data:f,error:p}=await B.from("chat_threads").select("*").eq("id",e).single();if(p)throw p;const y=[f.user_id,f.consultant_id],{data:g,error:b}=await B.from("users").select("id, name, profile_image").in("id",y);if(b)throw b;return{thread:f,participants:g}},enabled:!!e}),{data:i}=Ft({queryKey:["messages",e],queryFn:async()=>{const{data:f,error:p}=await B.from("chat_messages").select("*").eq("thread_id",e).order("created_at",{ascending:!0});if(p)throw p;return f},enabled:!!e}),l=Jr({mutationFn:async f=>{if(!t||!e)throw new Error("No chat selected");const p={thread_id:e,sender_id:t.id,content:f},{error:y}=await B.from("chat_messages").insert([p]);if(y)throw y;const{error:g}=await B.from("chat_threads").update({last_message_at:new Date().toISOString()}).eq("id",e);if(g)throw g},onError:f=>{r({title:"Error sending message",description:f.message,variant:"destructive"})},onSuccess:()=>{n.invalidateQueries({queryKey:["messages",e]}),n.invalidateQueries({queryKey:["chatThreads"]})}});m.useEffect(()=>{if(!e||!t)return;(async()=>{try{await B.rpc("mark_messages_as_read",{p_thread_id:e,p_user_id:t.id}),n.invalidateQueries({queryKey:["unreadMessages"]})}catch(p){console.error("Error marking messages as read:",p)}})()},[e,t,i,n]),m.useEffect(()=>{if(!e)return;const f=B.channel("chat-updates").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`thread_id=eq.${e}`},()=>{n.invalidateQueries({queryKey:["messages",e]})}).subscribe();return()=>{B.removeChannel(f)}},[e,n]);const c=[];if(s&&t){c.push({id:t.id,name:"You",image:((d=t==null?void 0:t.user_metadata)==null?void 0:d.avatar_url)||""});const f=s.thread.user_id===t.id?s.thread.consultant_id:s.thread.user_id,p=(h=s.participants)==null?void 0:h.find(y=>y.id===f);p&&c.push({id:p.id,name:p.name||"User",image:p.profile_image||""})}const u=(i==null?void 0:i.map(f=>{var p,y,g;return{id:f.id,senderId:f.sender_id,content:f.content,timestamp:f.created_at,senderName:f.sender_id===(t==null?void 0:t.id)?"You":((p=c.find(b=>b.id===f.sender_id))==null?void 0:p.name)||"Other User",senderImage:f.sender_id===(t==null?void 0:t.id)?((y=t.user_metadata)==null?void 0:y.avatar_url)||"":((g=c.find(b=>b.id===f.sender_id))==null?void 0:g.image)||""}}))??[];return{threadDetails:s,isLoadingThreadDetails:a,chatParticipants:c,transformedMessages:u,sendMessage:f=>l.mutate(f)}}function p$({selectedChatId:e}){const{user:t}=Re(),{chatParticipants:n,transformedMessages:r,sendMessage:s}=m$(e);return e?o.jsxs(o.Fragment,{children:[o.jsx(u$,{participants:n,currentUserId:t==null?void 0:t.id}),o.jsx(d$,{chat:{id:e,messages:r,participants:n,lastActive:new Date().toISOString()}}),o.jsx(f$,{onSendMessage:s})]}):o.jsx(h$,{})}function g$(){const e=tn(),t=yr(),{isAuthenticated:n}=Re();return m.useEffect(()=>{var r,s;if(n){const a=((s=(r=t.state)==null?void 0:r.from)==null?void 0:s.pathname)||"/home";e(a,{replace:!0})}else e("/login",{state:{from:t},replace:!0})},[e,n,t]),null}function v$(e,t){const[n,r]=m.useState(""),{user:s}=Re(),a=tn(),{toast:i}=St(),l=ds();return m.useEffect(()=>{t&&r(t)},[t]),m.useEffect(()=>{e&&s&&(async()=>{try{const{data:u,error:d}=await B.from("chat_threads").select("*").eq("id",e).maybeSingle();if(!d&&u){r(e),a(`/chat/${e}`,{replace:!0});return}const h=await yo(e,s.id);r(h.id),a(`/chat/${h.id}`,{replace:!0}),l.invalidateQueries({queryKey:["chatThreads"]})}catch(u){console.error("Error setting up chat thread:",u),i({title:"Error",description:"Could not create chat thread",variant:"destructive"})}})()},[e,s,l,i,a]),{selectedChatId:n,setSelectedChatId:r}}function y$(){const{consultantId:e,threadId:t}=$d(),{isAuthenticated:n}=Re(),{selectedChatId:r,setSelectedChatId:s}=v$(e,t);return n?o.jsx(Nn,{children:o.jsxs("div",{className:"flex h-[calc(100vh-64px)]",children:[o.jsx("div",{className:"w-80 h-full",children:o.jsx(c$,{selectedChatId:r,onSelectChat:s})}),o.jsx("div",{className:"flex-1 flex flex-col",children:o.jsx(p$,{selectedChatId:r})})]})}):o.jsx(g$,{})}const eC=[{id:"2",name:"Ann Silo",profileImage:"https://i.pravatar.cc/150?img=5",specialization:["Anxiety","Depression","PTSD","Stress Management","Trauma","Grief"],languages:["English","Spanish"],location:"New York, USA",bio:"Experienced mental health consultant with 10+ years of practice.",rating:4.8,reviewCount:124,hourlyRate:85,isOnline:!0,availability:[{day:"Monday",slots:["9:00 AM","11:00 AM","2:00 PM"]},{day:"Wednesday",slots:["10:00 AM","1:00 PM","3:00 PM"]},{day:"Friday",slots:["9:00 AM","12:00 PM","4:00 PM"]}]},{id:"8",name:"Dr. Michael Stevens",profileImage:"https://i.pravatar.cc/150?img=11",specialization:["Trauma","PTSD","Grief Counseling","Anxiety","Depression","Phobias"],languages:["English","French"],location:"Toronto, Canada",bio:"Specializing in trauma recovery and post-traumatic growth.",rating:4.9,reviewCount:187,hourlyRate:95,isOnline:!1,availability:[{day:"Tuesday",slots:["10:00 AM","12:00 PM","2:00 PM"]},{day:"Thursday",slots:["11:00 AM","1:00 PM","3:00 PM"]},{day:"Saturday",slots:["9:00 AM","11:00 AM","1:00 PM"]}]},{id:"9",name:"Sarah Johnson",profileImage:"https://i.pravatar.cc/150?img=12",specialization:["Teen Counseling","Family Therapy","Anxiety","Depression","Self Esteem","Social Skills"],languages:["English"],location:"Chicago, USA",bio:"Helping teens and families navigate mental health challenges.",rating:4.7,reviewCount:98,hourlyRate:75,isOnline:!0,availability:[{day:"Monday",slots:["3:00 PM","4:00 PM","5:00 PM"]},{day:"Wednesday",slots:["3:00 PM","4:00 PM","5:00 PM"]},{day:"Friday",slots:["2:00 PM","3:00 PM","4:00 PM"]}]},{id:"10",name:"Dr. Amara Okafor",profileImage:"https://i.pravatar.cc/150?img=13",specialization:["Cultural Identity","Racial Trauma","Anxiety","Depression","PTSD","Stress"],languages:["English","Igbo","Yoruba"],location:"London, UK",bio:"Specializing in cultural identity issues and racial trauma.",rating:4.9,reviewCount:145,hourlyRate:90,isOnline:!1,availability:[{day:"Tuesday",slots:["9:00 AM","11:00 AM","1:00 PM"]},{day:"Thursday",slots:["10:00 AM","12:00 PM","2:00 PM"]},{day:"Saturday",slots:["10:00 AM","12:00 PM"]}]},{id:"11",name:"Javier Rodriguez",profileImage:"https://i.pravatar.cc/150?img=14",specialization:["Addiction Recovery","Substance Abuse","Anxiety","Depression","Trauma","Stress Management"],languages:["English","Spanish","Portuguese"],location:"Miami, USA",bio:"Helping individuals overcome addiction and build healthier lives.",rating:4.6,reviewCount:112,hourlyRate:80,isOnline:!0,availability:[{day:"Monday",slots:["10:00 AM","1:00 PM","4:00 PM"]},{day:"Wednesday",slots:["11:00 AM","2:00 PM","5:00 PM"]},{day:"Friday",slots:["10:00 AM","1:00 PM","4:00 PM"]}]}];function x$(){const e=tn(),{toast:t}=St(),{user:n}=Re(),[r,s]=m.useState(""),[a,i]=m.useState(""),{data:l=[],isLoading:c}=Ft({queryKey:["consultants"],queryFn:async()=>{try{const{data:y,error:g}=await B.from("users").select(`
            id,
            name,
            email,
            profile_image,
            role
          `).eq("role","consultant");if(g)throw g;const b=y.map(w=>w.id),{data:x,error:v}=await B.from("consultants").select("*").in("id",b);if(v)throw v;return y.map(w=>{const _=(x==null?void 0:x.find(S=>S.id===w.id))||{specialization:[],languages:["English"],location:"Remote",bio:"",rating:0,review_count:0,hourly_rate:50,available:!1};return{id:w.id,name:w.name,email:w.email,profile_image:w.profile_image||"https://i.pravatar.cc/150?img=2",specialization:_.specialization,languages:_.languages,location:_.location,bio:_.bio,rating:0,review_count:0,hourly_rate:_.hourly_rate,available:_.available}})}catch(y){return console.error("Error fetching consultants:",y),console.log("Using mock consultants data as fallback"),eC.map(g=>({id:g.id,name:g.name,email:`${g.name.toLowerCase().replace(" ",".")}@example.com`,profile_image:g.profileImage,specialization:g.specialization,languages:g.languages,location:g.location,bio:g.bio,rating:0,review_count:0,hourly_rate:g.hourlyRate,available:g.isOnline}))}}}),u=l.filter(y=>y.available),d=Array.from(new Set(u.flatMap(y=>y.specialization||[]))),h=u.filter(y=>{const g=r===""||y.name.toLowerCase().includes(r.toLowerCase())||y.bio.toLowerCase().includes(r.toLowerCase()),b=a===""||y.specialization&&y.specialization.includes(a);return g&&b}),f=async y=>{if(!n){t({title:"Authentication Required",description:"Please log in to start a consultation",variant:"destructive"}),e("/login");return}try{const g=await yo(y,n.id);e(`/chat/${g.id}`),t({title:"Consultation Started",description:"You are now connected with the consultant"})}catch(g){console.error("Error starting consultation:",g),t({title:"Error",description:"Could not start consultation. Please try again.",variant:"destructive"})}},p=y=>{e(`/book-session/${y}`)};return o.jsx(Nn,{children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsx("h1",{className:"text-3xl font-bold text-mental-green-800 mb-2",children:"Free Mental Health Consultation"})}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Gj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsx(Oe,{placeholder:"Search by name or keyword...",className:"pl-10",value:r,onChange:y=>s(y.target.value)})]})}),o.jsx("div",{className:"w-full md:w-64",children:o.jsxs("div",{className:"relative",children:[o.jsx(DI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),o.jsxs("select",{className:"w-full h-10 pl-10 pr-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-mental-green-500",value:a,onChange:y=>i(y.target.value),children:[o.jsx("option",{value:"",children:"All Specializations"}),d.map(y=>o.jsx("option",{value:y,children:y},y))]})]})})]}),c?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("p",{children:"Loading consultants..."})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(y=>{var g;return o.jsxs(xe,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"aspect-[3/2] overflow-hidden relative",children:[o.jsx("img",{src:y.profile_image,alt:y.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(st,{className:"bg-green-500",children:"Online"})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:o.jsx("h3",{className:"text-white text-xl font-bold",children:y.name})})]}),o.jsxs(Se,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[o.jsx(Yj,{size:16,className:"mr-1"}),o.jsx("span",{className:"text-sm",children:y.location})]}),o.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[o.jsx(qj,{size:16,className:"mr-1"}),o.jsx("span",{className:"text-sm",children:y.languages?y.languages.join(", "):"English"})]}),o.jsx("div",{className:"mb-4",children:o.jsx("p",{className:"text-sm line-clamp-2 text-gray-700",children:y.bio})}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(g=y.specialization)==null?void 0:g.slice(0,3).map((b,x)=>x===0&&a&&y.specialization.includes(a)?o.jsx(st,{variant:"outline",className:"bg-mental-green-50 text-mental-green-800 border-mental-green-200",children:a},a):o.jsx(st,{variant:"outline",className:"bg-mental-green-50 text-mental-green-800 border-mental-green-200",children:b},b))}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(X,{size:"sm",onClick:()=>f(y.id),variant:"default",className:"flex items-center",children:[o.jsx(mc,{size:16,className:"mr-1"}),"Chat Now"]}),o.jsxs(X,{size:"sm",onClick:()=>p(y.id),variant:"outline",className:"flex items-center",children:[o.jsx(cf,{size:16,className:"mr-1"}),"Book Session"]})]})})]})]},y.id)})}),h.length===0&&!c&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No consultants online"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or check back later"})]})]})})}var he=function(){return he=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},he.apply(this,arguments)};function w$(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function tC(e,t,n){for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function yc(e){return e.mode==="multiple"}function xc(e){return e.mode==="range"}function vf(e){return e.mode==="single"}var b$={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function _$(e,t){return dt(e,"LLLL y",t)}function j$(e,t){return dt(e,"d",t)}function S$(e,t){return dt(e,"LLLL",t)}function N$(e){return"".concat(e)}function C$(e,t){return dt(e,"cccccc",t)}function k$(e,t){return dt(e,"yyyy",t)}var E$=Object.freeze({__proto__:null,formatCaption:_$,formatDay:j$,formatMonthCaption:S$,formatWeekNumber:N$,formatWeekdayName:C$,formatYearCaption:k$}),P$=function(e,t,n){return dt(e,"do MMMM (EEEE)",n)},T$=function(){return"Month: "},M$=function(){return"Go to next month"},R$=function(){return"Go to previous month"},D$=function(e,t){return dt(e,"cccc",t)},O$=function(e){return"Week n. ".concat(e)},A$=function(){return"Year: "},I$=Object.freeze({__proto__:null,labelDay:P$,labelMonthDropdown:T$,labelNext:M$,labelPrevious:R$,labelWeekNumber:O$,labelWeekday:D$,labelYearDropdown:A$});function L$(){var e="buttons",t=b$,n=hf,r={},s={},a=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:E$,labels:I$,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:a,styles:i,today:l,mode:"default"}}function F$(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,a=e.fromDate,i=e.toDate;return r?a=Cn(r):t&&(a=new Date(t,0,1)),s?i=ff(s):n&&(i=new Date(n,11,31)),{fromDate:a?go(a):void 0,toDate:i?go(i):void 0}}var nC=m.createContext(void 0);function $$(e){var t,n=e.initialProps,r=L$(),s=F$(n),a=s.fromDate,i=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!a||!i)&&(l="buttons");var c;(vf(n)||yc(n)||xc(n))&&(c=n.onSelect);var u=he(he(he({},r),n),{captionLayout:l,classNames:he(he({},r.classNames),n.classNames),components:he({},n.components),formatters:he(he({},r.formatters),n.formatters),fromDate:a,labels:he(he({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:he(he({},r.modifiers),n.modifiers),modifiersClassNames:he(he({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:he(he({},r.styles),n.styles),toDate:i});return o.jsx(nC.Provider,{value:u,children:e.children})}function at(){var e=m.useContext(nC);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function rC(e){var t=at(),n=t.locale,r=t.classNames,s=t.styles,a=t.formatters.formatCaption;return o.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function U$(e){return o.jsx("svg",he({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function sC(e){var t,n,r=e.onChange,s=e.value,a=e.children,i=e.caption,l=e.className,c=e.style,u=at(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:U$;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:a}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function z$(e){var t,n=at(),r=n.fromDate,s=n.toDate,a=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});var h=[];if(DF(r,s))for(var f=Cn(r),p=r.getMonth();p<=s.getMonth();p++)h.push(jh(f,p));else for(var f=Cn(new Date),p=0;p<=11;p++)h.push(jh(f,p));var y=function(b){var x=Number(b.target.value),v=jh(Cn(e.displayMonth),x);e.onChange(v)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:sC;return o.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:h.map(function(b){return o.jsx("option",{value:b.getMonth(),children:l(b,{locale:i})},b.getMonth())})})}function B$(e){var t,n=e.displayMonth,r=at(),s=r.fromDate,a=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!s)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});for(var p=s.getFullYear(),y=a.getFullYear(),g=p;g<=y;g++)f.push(vx(OS(new Date),g));var b=function(v){var w=vx(Cn(n),Number(v.target.value));e.onChange(w)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:sC;return o.jsx(x,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:i}),children:f.map(function(v){return o.jsx("option",{value:v.getFullYear(),children:d(v,{locale:i})},v.getFullYear())})})}function W$(e,t){var n=m.useState(e),r=n[0],s=n[1],a=t===void 0?r:t;return[a,s]}function H$(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,a=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&vo(a,s)<0){var u=-1*(c-1);s=gr(a,u)}return i&&vo(s,i)<0&&(s=i),Cn(s)}function q$(){var e=at(),t=H$(e),n=W$(t,e.month),r=n[0],s=n[1],a=function(i){var l;if(!e.disableNavigation){var c=Cn(i);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,a]}function V$(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Cn(e),a=Cn(gr(s,r)),i=vo(a,s),l=[],c=0;c<i;c++){var u=gr(s,c);l.push(u)}return n&&(l=l.reverse()),l}function Y$(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=r?a:1,l=Cn(e);if(!n)return gr(l,i);var c=vo(n,e);if(!(c<a))return gr(l,i)}}function K$(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=r?a:1,l=Cn(e);if(!n)return gr(l,-i);var c=vo(l,n);if(!(c<=0))return gr(l,-i)}}var aC=m.createContext(void 0);function G$(e){var t=at(),n=q$(),r=n[0],s=n[1],a=V$(r,t),i=Y$(r,t),l=K$(r,t),c=function(h){return a.some(function(f){return bv(h,f)})},u=function(h,f){c(h)||(f&&yv(h,f)?s(gr(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(aC.Provider,{value:d,children:e.children})}function wc(){var e=m.useContext(aC);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function jx(e){var t,n=at(),r=n.classNames,s=n.styles,a=n.components,i=wc().goToMonth,l=function(d){i(gr(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:rC,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[o.jsx("div",{className:r.vhidden,children:u}),o.jsx(z$,{onChange:l,displayMonth:e.displayMonth}),o.jsx(B$,{onChange:l,displayMonth:e.displayMonth})]})}function Q$(e){return o.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function X$(e){return o.jsx("svg",he({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var yd=m.forwardRef(function(e,t){var n=at(),r=n.classNames,s=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var i=a.join(" "),l=he(he({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),o.jsx("button",he({},e,{ref:t,type:"button",className:i,style:l}))});function J$(e){var t,n,r=at(),s=r.dir,a=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var f=u(e.previousMonth,{locale:a}),p=[i.nav_button,i.nav_button_previous].join(" "),y=d(e.nextMonth,{locale:a}),g=[i.nav_button,i.nav_button_next].join(" "),b=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:X$,x=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:Q$;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(yd,{name:"previous-month","aria-label":f,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?o.jsx(b,{className:i.nav_icon,style:l.nav_icon}):o.jsx(x,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(yd,{name:"next-month","aria-label":y,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?o.jsx(x,{className:i.nav_icon,style:l.nav_icon}):o.jsx(b,{className:i.nav_icon,style:l.nav_icon})})]})}function Sx(e){var t=at().numberOfMonths,n=wc(),r=n.previousMonth,s=n.nextMonth,a=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(y){return bv(e.displayMonth,y)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){r&&a(r)},p=function(){s&&a(s)};return o.jsx(J$,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:f,onNextClick:p})}function Z$(e){var t,n=at(),r=n.classNames,s=n.disableNavigation,a=n.styles,i=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:rC,u;return s?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(jx,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(jx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(Sx,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Sx,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:r.caption,style:a.caption,children:u})}function e6(e){var t=at(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?o.jsx("tfoot",{className:s,style:r.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:n})})}):o.jsx(o.Fragment,{})}function t6(e,t,n){for(var r=n?ls(new Date):Fn(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var i=zt(r,a);s.push(i)}return s}function n6(){var e=at(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=t6(s,a,i);return o.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&o.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return o.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function r6(){var e,t=at(),n=t.classNames,r=t.styles,s=t.components,a=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:n6;return o.jsx("thead",{style:r.head,className:n.head,children:o.jsx(a,{})})}function s6(e){var t=at(),n=t.locale,r=t.formatters.formatDay;return o.jsx(o.Fragment,{children:r(e.date,{locale:n})})}var Ev=m.createContext(void 0);function a6(e){if(!yc(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(Ev.Provider,{value:t,children:e.children})}return o.jsx(i6,{initialProps:e.initialProps,children:e.children})}function i6(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,a=t.max,i=function(u,d,h){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var g=!!(!d.selected&&a&&(r==null?void 0:r.length)===a);if(!g){var b=r?tC([],r):[];if(d.selected){var x=b.findIndex(function(v){return Zt(u,v)});b.splice(x,1)}else b.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,b,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=a&&r.length>a-1,h=r.some(function(f){return Zt(f,u)});return!!(d&&!h)});var c={selected:r,onDayClick:i,modifiers:l};return o.jsx(Ev.Provider,{value:c,children:n})}function Pv(){var e=m.useContext(Ev);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function o6(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Zt(s,e)&&Zt(r,e)?void 0:Zt(s,e)?{from:s,to:void 0}:Zt(r,e)?void 0:pd(r,e)?{from:e,to:s}:{from:r,to:e}:s?pd(e,s)?{from:s,to:e}:{from:e,to:s}:r?yv(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Tv=m.createContext(void 0);function l6(e){if(!xc(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(Tv.Provider,{value:t,children:e.children})}return o.jsx(c6,{initialProps:e.initialProps,children:e.children})}function c6(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},a=s.from,i=s.to,l=t.min,c=t.max,u=function(p,y,g){var b,x;(b=t.onDayClick)===null||b===void 0||b.call(t,p,y,g);var v=o6(p,r);(x=t.onSelect)===null||x===void 0||x.call(t,v,p,y,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],i?(d.range_end=[i],Zt(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]):i&&(d.range_start=[i],d.range_end=[i]),l&&(a&&!i&&d.disabled.push({after:Eu(a,l-1),before:zt(a,l-1)}),a&&i&&d.disabled.push({after:a,before:zt(a,l-1)}),!a&&i&&d.disabled.push({after:Eu(i,l-1),before:zt(i,l-1)})),c){if(a&&!i&&(d.disabled.push({before:zt(a,-c+1)}),d.disabled.push({after:zt(a,c-1)})),a&&i){var h=Dr(i,a)+1,f=c-h;d.disabled.push({before:Eu(a,f)}),d.disabled.push({after:zt(i,f)})}!a&&i&&(d.disabled.push({before:zt(i,-c+1)}),d.disabled.push({after:zt(i,c-1)}))}return o.jsx(Tv.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Mv(){var e=m.useContext(Tv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Pu(e){return Array.isArray(e)?tC([],e):e!==void 0?[e]:[]}function u6(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=Pu(s)}),t}var vr;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(vr||(vr={}));var d6=vr.Selected,Hr=vr.Disabled,f6=vr.Hidden,h6=vr.Today,Nh=vr.RangeEnd,Ch=vr.RangeMiddle,kh=vr.RangeStart,m6=vr.Outside;function p6(e,t,n){var r,s=(r={},r[d6]=Pu(e.selected),r[Hr]=Pu(e.disabled),r[f6]=Pu(e.hidden),r[h6]=[e.today],r[Nh]=[],r[Ch]=[],r[kh]=[],r[m6]=[],r);return e.fromDate&&s[Hr].push({before:e.fromDate}),e.toDate&&s[Hr].push({after:e.toDate}),yc(e)?s[Hr]=s[Hr].concat(t.modifiers[Hr]):xc(e)&&(s[Hr]=s[Hr].concat(n.modifiers[Hr]),s[kh]=n.modifiers[kh],s[Ch]=n.modifiers[Ch],s[Nh]=n.modifiers[Nh]),s}var iC=m.createContext(void 0);function g6(e){var t=at(),n=Pv(),r=Mv(),s=p6(t,n,r),a=u6(t.modifiers),i=he(he({},s),a);return o.jsx(iC.Provider,{value:i,children:e.children})}function oC(){var e=m.useContext(iC);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function v6(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function y6(e){return!!(e&&typeof e=="object"&&"from"in e)}function x6(e){return!!(e&&typeof e=="object"&&"after"in e)}function w6(e){return!!(e&&typeof e=="object"&&"before"in e)}function b6(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function _6(e,t){var n,r=t.from,s=t.to;if(r&&s){var a=Dr(s,r)<0;a&&(n=[s,r],r=n[0],s=n[1]);var i=Dr(e,r)>=0&&Dr(s,e)>=0;return i}return s?Zt(s,e):r?Zt(r,e):!1}function j6(e){return fv(e)}function S6(e){return Array.isArray(e)&&e.every(fv)}function N6(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(j6(n))return Zt(e,n);if(S6(n))return n.includes(e);if(y6(n))return _6(e,n);if(b6(n))return n.dayOfWeek.includes(e.getDay());if(v6(n)){var r=Dr(n.before,e),s=Dr(n.after,e),a=r>0,i=s<0,l=pd(n.before,n.after);return l?i&&a:a||i}return x6(n)?Dr(e,n.after)>0:w6(n)?Dr(n.before,e)>0:typeof n=="function"?n(e):!1})}function Rv(e,t,n){var r=Object.keys(t).reduce(function(a,i){var l=t[i];return N6(e,l)&&a.push(i),a},[]),s={};return r.forEach(function(a){return s[a]=!0}),n&&!bv(e,n)&&(s.outside=!0),s}function C6(e,t){for(var n=Cn(e[0]),r=ff(e[e.length-1]),s,a,i=n;i<=r;){var l=Rv(i,t),c=!l.disabled&&!l.hidden;if(!c){i=zt(i,1);continue}if(l.selected)return i;l.today&&!a&&(a=i),s||(s=i),i=zt(i,1)}return a||s}var k6=365;function lC(e,t){var n=t.moveBy,r=t.direction,s=t.context,a=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:zt,week:ip,month:gr,year:PL,startOfWeek:function(b){return s.ISOWeek?ls(b):Fn(b,{locale:h,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?AS(b):hv(b,{locale:h,weekStartsOn:c})}},p=f[n](e,r==="after"?1:-1);r==="before"&&u?p=TL([u,p]):r==="after"&&d&&(p=ML([d,p]));var y=!0;if(a){var g=Rv(p,a);y=!g.disabled&&!g.hidden}return y?p:l.count>k6?l.lastFocused:lC(p,{moveBy:n,direction:r,context:s,modifiers:a,retry:he(he({},l),{count:l.count+1})})}var cC=m.createContext(void 0);function E6(e){var t=wc(),n=oC(),r=m.useState(),s=r[0],a=r[1],i=m.useState(),l=i[0],c=i[1],u=C6(t.displayMonths,n),d=s??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(s),a(void 0)},f=function(b){a(b)},p=at(),y=function(b,x){if(s){var v=lC(s,{moveBy:b,direction:x,context:p,modifiers:n});Zt(s,v)||(t.goToDate(v,s),f(v))}},g={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return o.jsx(cC.Provider,{value:g,children:e.children})}function Dv(){var e=m.useContext(cC);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function P6(e,t){var n=oC(),r=Rv(e,n,t);return r}var Ov=m.createContext(void 0);function T6(e){if(!vf(e.initialProps)){var t={selected:void 0};return o.jsx(Ov.Provider,{value:t,children:e.children})}return o.jsx(M6,{initialProps:e.initialProps,children:e.children})}function M6(e){var t=e.initialProps,n=e.children,r=function(a,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,i,l)},s={selected:t.selected,onDayClick:r};return o.jsx(Ov.Provider,{value:s,children:n})}function uC(){var e=m.useContext(Ov);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function R6(e,t){var n=at(),r=uC(),s=Pv(),a=Mv(),i=Dv(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,f=i.focus,p=i.focusMonthBefore,y=i.focusMonthAfter,g=i.focusYearBefore,b=i.focusYearAfter,x=i.focusStartOfWeek,v=i.focusEndOfWeek,w=function(A){var C,O,U,$;vf(n)?(C=r.onDayClick)===null||C===void 0||C.call(r,e,t,A):yc(n)?(O=s.onDayClick)===null||O===void 0||O.call(s,e,t,A):xc(n)?(U=a.onDayClick)===null||U===void 0||U.call(a,e,t,A):($=n.onDayClick)===null||$===void 0||$.call(n,e,t,A)},_=function(A){var C;f(e),(C=n.onDayFocus)===null||C===void 0||C.call(n,e,t,A)},S=function(A){var C;h(),(C=n.onDayBlur)===null||C===void 0||C.call(n,e,t,A)},j=function(A){var C;(C=n.onDayMouseEnter)===null||C===void 0||C.call(n,e,t,A)},k=function(A){var C;(C=n.onDayMouseLeave)===null||C===void 0||C.call(n,e,t,A)},N=function(A){var C;(C=n.onDayPointerEnter)===null||C===void 0||C.call(n,e,t,A)},T=function(A){var C;(C=n.onDayPointerLeave)===null||C===void 0||C.call(n,e,t,A)},R=function(A){var C;(C=n.onDayTouchCancel)===null||C===void 0||C.call(n,e,t,A)},L=function(A){var C;(C=n.onDayTouchEnd)===null||C===void 0||C.call(n,e,t,A)},D=function(A){var C;(C=n.onDayTouchMove)===null||C===void 0||C.call(n,e,t,A)},F=function(A){var C;(C=n.onDayTouchStart)===null||C===void 0||C.call(n,e,t,A)},H=function(A){var C;(C=n.onDayKeyUp)===null||C===void 0||C.call(n,e,t,A)},K=function(A){var C;switch(A.key){case"ArrowLeft":A.preventDefault(),A.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":A.preventDefault(),A.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":A.preventDefault(),A.stopPropagation(),u();break;case"ArrowUp":A.preventDefault(),A.stopPropagation(),d();break;case"PageUp":A.preventDefault(),A.stopPropagation(),A.shiftKey?g():p();break;case"PageDown":A.preventDefault(),A.stopPropagation(),A.shiftKey?b():y();break;case"Home":A.preventDefault(),A.stopPropagation(),x();break;case"End":A.preventDefault(),A.stopPropagation(),v();break}(C=n.onDayKeyDown)===null||C===void 0||C.call(n,e,t,A)},q={onClick:w,onFocus:_,onBlur:S,onKeyDown:K,onKeyUp:H,onMouseEnter:j,onMouseLeave:k,onPointerEnter:N,onPointerLeave:T,onTouchCancel:R,onTouchEnd:L,onTouchMove:D,onTouchStart:F};return q}function D6(){var e=at(),t=uC(),n=Pv(),r=Mv(),s=vf(e)?t.selected:yc(e)?n.selected:xc(e)?r.selected:void 0;return s}function O6(e){return Object.values(vr).includes(e)}function A6(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(O6(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function I6(e,t){var n=he({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=he(he({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function L6(e,t,n){var r,s,a,i=at(),l=Dv(),c=P6(e,t),u=R6(e,c),d=D6(),h=!!(i.onDayClick||i.mode!=="default");m.useEffect(function(){var j;c.outside||l.focusedDay&&h&&Zt(l.focusedDay,e)&&((j=n.current)===null||j===void 0||j.focus())},[l.focusedDay,e,n,h,c.outside]);var f=A6(i,c).join(" "),p=I6(i,c),y=!!(c.outside&&!i.showOutsideDays||c.hidden),g=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:s6,b=o.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),x={style:p,className:f,children:b,role:"gridcell"},v=l.focusTarget&&Zt(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Zt(l.focusedDay,e),_=he(he(he({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=w||v?0:-1,r)),u),S={isButton:h,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return S}function F6(e){var t=m.useRef(null),n=L6(e.date,e.displayMonth,t);return n.isHidden?o.jsx("div",{role:"gridcell"}):n.isButton?o.jsx(yd,he({name:"day",ref:t},n.buttonProps)):o.jsx("div",he({},n.divProps))}function $6(e){var t=e.number,n=e.dates,r=at(),s=r.onWeekNumberClick,a=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return o.jsx("span",{className:i.weeknumber,style:a.weeknumber,children:d});var h=c(Number(t),{locale:l}),f=function(p){s(t,n,p)};return o.jsx(yd,{name:"week-number","aria-label":h,className:i.weeknumber,style:a.weeknumber,onClick:f,children:d})}function U6(e){var t,n,r=at(),s=r.styles,a=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:F6,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:$6,d;return i&&(d=o.jsx("td",{className:a.cell,style:s.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:a.row,style:s.row,children:[d,e.dates.map(function(h){return o.jsx("td",{className:a.cell,style:s.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:h})},A3(h))})]})}function Nx(e,t,n){for(var r=n!=null&&n.ISOWeek?AS(t):hv(t,n),s=n!=null&&n.ISOWeek?ls(e):Fn(e,n),a=Dr(r,s),i=[],l=0;l<=a;l++)i.push(zt(s,l));var c=i.reduce(function(u,d){var h=n!=null&&n.ISOWeek?mv(d):gv(d,n),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function z6(e,t){var n=Nx(Cn(e),ff(e),t);if(t!=null&&t.useFixedWeeks){var r=L3(e,t);if(r<6){var s=n[n.length-1],a=s.dates[s.dates.length-1],i=ip(a,6-r),l=Nx(ip(a,1),i,t);n.push.apply(n,l)}}return n}function B6(e){var t,n,r,s=at(),a=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,p=s.ISOWeek,y=z6(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:h,firstWeekContainsDate:f}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:r6,b=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:U6,x=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:e6;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(g,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:y.map(function(v){return o.jsx(b,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),o.jsx(x,{displayMonth:e.displayMonth})]})}function W6(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var H6=W6()?m.useLayoutEffect:m.useEffect,Eh=!1,q6=0;function Cx(){return"react-day-picker-".concat(++q6)}function V6(e){var t,n=e??(Eh?Cx():null),r=m.useState(n),s=r[0],a=r[1];return H6(function(){s===null&&a(Cx())},[]),m.useEffect(function(){Eh===!1&&(Eh=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function Y6(e){var t,n,r=at(),s=r.dir,a=r.classNames,i=r.styles,l=r.components,c=wc().displayMonths,u=V6(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[a.month],f=i.month,p=e.displayIndex===0,y=e.displayIndex===c.length-1,g=!p&&!y;s==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(h.push(a.caption_start),f=he(he({},f),i.caption_start)),y&&(h.push(a.caption_end),f=he(he({},f),i.caption_end)),g&&(h.push(a.caption_between),f=he(he({},f),i.caption_between));var b=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:Z$;return o.jsxs("div",{className:h.join(" "),style:f,children:[o.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(B6,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function K6(e){var t=at(),n=t.classNames,r=t.styles;return o.jsx("div",{className:n.months,style:r.months,children:e.children})}function G6(e){var t,n,r=e.initialProps,s=at(),a=Dv(),i=wc(),l=m.useState(!1),c=l[0],u=l[1];m.useEffect(function(){s.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[s.initialFocus,c,a.focus,a.focusTarget,a]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=he(he({},s.styles.root),s.style),f=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var b;return he(he({},y),(b={},b[g]=r[g],b))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:K6;return o.jsx("div",he({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:o.jsx(p,{children:i.displayMonths.map(function(y,g){return o.jsx(Y6,{displayIndex:g,displayMonth:y},g)})})}))}function Q6(e){var t=e.children,n=w$(e,["children"]);return o.jsx($$,{initialProps:n,children:o.jsx(G$,{children:o.jsx(T6,{initialProps:n,children:o.jsx(a6,{initialProps:n,children:o.jsx(l6,{initialProps:n,children:o.jsx(g6,{children:o.jsx(E6,{children:t})})})})})})})}function X6(e){return o.jsx(Q6,he({},e,{children:o.jsx(G6,{initialProps:e})}))}function dC({className:e,classNames:t,showOutsideDays:n=!0,...r}){return o.jsx(X6,{showOutsideDays:n,className:ae("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ae(zm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ae(zm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>o.jsx(CI,{className:"h-4 w-4"}),IconRight:({...s})=>o.jsx(Hj,{className:"h-4 w-4"})},...r})}dC.displayName="Calendar";const J6=e=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]||"Unknown",Z6=e=>{const t={};return e.forEach(n=>{const r=J6(n.day_of_week);t[r]||(t[r]=[]);try{const s=dt(MF(n.start_time,"HH:mm:ss",new Date),"HH:mm");t[r].push(s)}catch(s){console.error(`Error parsing time ${n.start_time}:`,s)}}),Object.entries(t).map(([n,r])=>({day:n,slots:r.sort()}))},eU=({isOpen:e,onClose:t,consultantName:n,consultantEmail:r,amount:s,onPaymentComplete:a})=>{const[i,l]=m.useState(1),[c,u]=m.useState(!1),d=()=>{u(!0),setTimeout(()=>{a(),t()},2e3)},h="https://www.paypal.com/us/digital-wallet/send-receive-money/send-money";return o.jsx(yS,{open:e,onOpenChange:t,children:o.jsxs(sv,{className:"max-w-6xl max-h-[90vh] overflow-auto",children:[o.jsx(av,{children:o.jsxs(iv,{className:"flex items-center gap-2",children:[o.jsx(Kg,{className:"h-5 w-5"}),"Pay with PayPal - $",s.toFixed(2)]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"PayPal Payment Portal"}),o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.open(h,"_blank"),className:"flex items-center gap-2",children:[o.jsx(MI,{className:"h-4 w-4"}),"Open in New Tab"]})]}),o.jsx("div",{className:"border rounded-lg overflow-hidden bg-gray-50",children:o.jsx("iframe",{src:h,className:"w-full h-96 border-0",title:"PayPal Send Money",sandbox:"allow-scripts allow-same-origin allow-forms allow-top-navigation"})}),o.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:[o.jsx("p",{className:"font-medium mb-1",children:"Important:"}),o.jsx("p",{children:`If the PayPal page doesn't load properly, click "Open in New Tab" above to complete your payment.`})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(xe,{children:[o.jsx(Ue,{children:o.jsxs(ze,{className:"flex items-center gap-2",children:[o.jsx(Vj,{className:"h-5 w-5"}),"Payment Instructions"]})}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{className:"bg-mental-green-50 p-4 rounded-lg border border-mental-green-200",children:[o.jsx("h4",{className:"font-semibold text-mental-green-800 mb-2",children:"Consultant Details"}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Name:"})," ",n]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"PayPal Email:"})," ",r]}),o.jsxs("p",{className:"text-sm",children:[o.jsx("strong",{children:"Amount:"})," $",s.toFixed(2)," USD"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i>=1?"bg-blue-50 border border-blue-200":"bg-gray-50"}`,children:[o.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${i>=1?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:"1"}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium",children:"Log in to PayPal"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Use the PayPal portal on the left to log into your account"}),i===1&&o.jsx(X,{size:"sm",className:"mt-2",onClick:()=>l(2),children:"I'm Logged In"})]})]}),o.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i>=2?"bg-blue-50 border border-blue-200":"bg-gray-50"}`,children:[o.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${i>=2?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:"2"}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium",children:"Send Money"}),o.jsx("p",{className:"text-sm text-gray-600",children:`Click "Send" and enter the consultant's email:`}),o.jsx(st,{variant:"outline",className:"mt-1 bg-yellow-50 text-yellow-800 border-yellow-300",children:r}),i===2&&o.jsx(X,{size:"sm",className:"mt-2",onClick:()=>l(3),children:"Email Entered"})]})]}),o.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i>=3?"bg-blue-50 border border-blue-200":"bg-gray-50"}`,children:[o.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${i>=3?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:"3"}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium",children:"Enter Amount"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Enter exactly:"}),o.jsxs(st,{variant:"outline",className:"mt-1 bg-green-50 text-green-800 border-green-300",children:["$",s.toFixed(2)," USD"]}),i===3&&o.jsx(X,{size:"sm",className:"mt-2",onClick:()=>l(4),children:"Amount Entered"})]})]}),o.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i>=4?"bg-blue-50 border border-blue-200":"bg-gray-50"}`,children:[o.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${i>=4?"bg-blue-500 text-white":"bg-gray-300 text-gray-600"}`,children:"4"}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium",children:"Add Note (Optional)"}),o.jsx("p",{className:"text-sm text-gray-600",children:'Add a note: "Therapy session booking"'}),i===4&&o.jsx(X,{size:"sm",className:"mt-2",onClick:()=>l(5),children:"Continue"})]})]}),o.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i>=5?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[o.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${i>=5?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:"5"}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-medium",children:"Send Payment"}),o.jsx("p",{className:"text-sm text-gray-600",children:'Review and click "Send Money" to complete payment'}),i===5&&!c&&o.jsx(X,{size:"sm",className:"mt-2 bg-green-600 hover:bg-green-700",onClick:d,children:"I've Sent the Payment"})]})]})]}),c&&o.jsxs("div",{className:"bg-green-50 border border-green-200 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[o.jsx(EI,{className:"h-5 w-5"}),o.jsx("span",{className:"font-medium",children:"Payment Completed!"})]}),o.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Your session is now pending confirmation from ",n,"."]})]})]})]}),o.jsx(xe,{children:o.jsx(Se,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-2 text-amber-600",children:[o.jsx(Yg,{className:"h-5 w-5 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:"Payment Verification"}),o.jsxs("p",{className:"text-sm",children:[n," will confirm receipt of payment and approve your session. You'll receive a notification once confirmed."]})]})]})})})]})]}),o.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:o.jsx(X,{variant:"outline",onClick:t,children:"Cancel"})})]})})};function tU(){var L;const{consultantId:e}=$d(),t=tn(),{toast:n}=St(),{user:r}=Re(),[s,a]=m.useState(null),[i,l]=m.useState(void 0),[c,u]=m.useState(null),[d,h]=m.useState("consultant"),[f,p]=m.useState(!1),[y,g]=m.useState(!1),{data:b,isLoading:x}=Ft({queryKey:["bookable-consultants"],queryFn:async()=>{try{const{data:D,error:F}=await B.from("users").select(`
            id,
            name,
            email,
            profile_image,
            role
          `).eq("role","consultant");if(F)throw F;const H=D.map(U=>U.id),{data:K,error:q}=await B.from("consultants").select("*").in("id",H);if(q)throw q;const{data:A,error:C}=await B.from("consultant_availability").select("*").in("consultant_id",H);if(C)throw C;const O={};return A==null||A.forEach(U=>{O[U.consultant_id]||(O[U.consultant_id]=[]),O[U.consultant_id].push(U)}),D.map(U=>{const $=(K==null?void 0:K.find(ye=>ye.id===U.id))||{specialization:[],languages:["English"],location:"Remote",bio:"",rating:0,review_count:0,hourly_rate:50,available:!1},Y=O[U.id]||[],fe=Z6(Y);return{id:U.id,name:U.name,email:U.email,profile_image:U.profile_image||"https://i.pravatar.cc/150?img=2",bio:$.bio,location:$.location,specialization:$.specialization,languages:$.languages,rating:0,review_count:0,hourly_rate:$.hourly_rate,available:$.available,isOnline:$.available,availability:fe}})}catch(D){return console.error("Error fetching consultants:",D),console.log("Using mock consultants data as fallback"),eC.map(F=>({id:F.id,name:F.name,email:`${F.name.toLowerCase().replace(" ",".")}@example.com`,profile_image:F.profileImage,specialization:F.specialization,languages:F.languages,location:F.location,bio:F.bio,rating:0,review_count:0,hourly_rate:F.hourlyRate,available:F.isOnline,isOnline:F.isOnline,availability:F.availability}))}}}),v=b||[];m.useEffect(()=>{if(e&&v.length>0){const D=v.find(F=>F.id===e);D?(a(D),h("date")):(t("/book-session"),n({title:"Consultant not found",description:"Please select another consultant.",variant:"destructive"}))}},[e,v,t,n]);const w=D=>{if(!s||!D)return[];try{const F=dt(D,"EEEE"),H=s.availability.find(K=>K.day===F);return H?H.slots:[]}catch(F){return console.error("Error getting available slots:",F),[]}},_=D=>{a(D),l(void 0),u(null),h("date")},S=D=>{l(D),u(null),D&&h("time")},j=D=>{u(D),h("payment")},k=async()=>{if(!r||!s){n({title:"Authentication Required",description:"Please log in to book a session",variant:"destructive"}),t("/login");return}g(!0)},N=async()=>{if(!(!r||!s)){p(!0);try{const{data:D,error:F}=await B.from("sessions").insert({user_id:r.id,consultant_id:s.id,start_time:i?`${dt(i,"yyyy-MM-dd")}T${c}:00`:new Date().toISOString(),end_time:i?`${dt(i,"yyyy-MM-dd")}T${c==null?void 0:c.split(":")[0]}:59:00`:new Date().toISOString(),status:"pending_payment_confirmation"}).select().single();if(F)throw F;const{error:H}=await B.from("transactions").insert({user_id:r.id,consultant_id:s.id,session_id:D.id,amount:s.hourly_rate,payment_method:"paypal",status:"pending_confirmation",description:`Session with ${s.name} on ${dt(i,"MMM d, yyyy")} at ${c}`});H&&console.error("Transaction error:",H),await yo(s.id,r.id),n({title:"Session Booked!",description:`Your session with ${s.name} is pending payment confirmation. They will confirm once payment is received.`}),t("/profile")}catch(D){console.error("Booking error:",D),n({title:"Booking Failed",description:D.message||"There was an error processing your booking. Please try again.",variant:"destructive"})}finally{p(!1),g(!1)}}},T=async()=>{if(!r||!s){n({title:"Authentication Required",description:"Please log in to start a chat",variant:"destructive"}),t("/login");return}try{const D=await yo(s.id,r.id);t(`/chat/${D.id}`)}catch(D){console.error("Error starting chat:",D),n({title:"Error",description:"Could not start chat with consultant",variant:"destructive"})}},R=()=>o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(D=>{var F;return o.jsxs(xe,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>_(D),children:[o.jsxs("div",{className:"aspect-[3/2] overflow-hidden relative",children:[o.jsx("img",{src:D.profile_image,alt:D.name,className:"w-full h-full object-cover"}),D.isOnline&&o.jsx("div",{className:"absolute top-2 right-2",children:o.jsx(st,{className:"bg-green-500",children:"Online"})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:o.jsx("h3",{className:"text-white text-xl font-bold",children:D.name})})]}),o.jsxs(Se,{className:"p-4",children:[o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(F=D.specialization)==null?void 0:F.slice(0,3).map(H=>o.jsx(st,{variant:"outline",className:"bg-mental-green-50 text-mental-green-800 border-mental-green-200",children:H},H))}),o.jsx("p",{className:"text-sm line-clamp-2 text-gray-700 mb-4",children:D.bio}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"font-semibold text-mental-green-800",children:["$",D.hourly_rate,"/hour"]}),o.jsx(X,{size:"sm",children:"Select"})]})]})]},D.id)})});return o.jsxs(Nn,{children:[o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("div",{className:"mb-6",children:o.jsx("h1",{className:"text-2xl font-bold text-mental-green-800 mb-2",children:"Book a Paid Therapy Session"})}),x?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("p",{children:"Loading consultants..."})}):s?o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsx("div",{className:"md:w-1/3",children:o.jsx(xe,{children:o.jsxs(Se,{className:"p-4",children:[o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("img",{src:s.profile_image,alt:s.name,className:"w-24 h-24 rounded-full object-cover mb-4"}),o.jsx("h3",{className:"text-lg font-semibold",children:s.name}),o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:s.location}),s.isOnline&&o.jsx(st,{className:"bg-green-500 mb-2",children:"Online Now"})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-2",children:[o.jsx("p",{className:"text-sm text-gray-700 mb-4",children:s.bio}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(L=s.specialization)==null?void 0:L.slice(0,6).map(D=>o.jsx(st,{variant:"outline",className:"bg-mental-green-50 text-mental-green-800 border-mental-green-200",children:D},D))}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Session Rate"}),o.jsxs("span",{className:"font-semibold text-mental-green-800",children:["$",s.hourly_rate,"/hour"]})]}),o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsx(X,{variant:"outline",className:"w-full",onClick:()=>{a(null),h("consultant")},children:"Change Consultant"}),o.jsx(X,{variant:"secondary",className:"w-full",onClick:T,children:"Chat with Consultant"})]})]})]})})}),o.jsx("div",{className:"flex-1",children:o.jsxs(gc,{defaultValue:"date",value:d,children:[o.jsxs(Do,{className:"grid w-full grid-cols-3",children:[o.jsx(kt,{value:"date",disabled:d!=="date",children:"1. Select Date"}),o.jsx(kt,{value:"time",disabled:d!=="time",children:"2. Select Time"}),o.jsx(kt,{value:"payment",disabled:d!=="payment",children:"3. Payment"})]}),o.jsx(Rt,{value:"date",className:"mt-4",children:o.jsx(xe,{children:o.jsxs(Se,{className:"p-6",children:[o.jsx(dC,{mode:"single",selected:i,onSelect:S,className:"mx-auto pointer-events-auto",disabled:D=>{const F=new Date;return F.setHours(0,0,0,0),D<F}}),o.jsx("div",{className:"mt-4 text-center",children:o.jsx("p",{className:"text-sm text-gray-500",children:"Please select a date to see available time slots"})})]})})}),o.jsx(Rt,{value:"time",className:"mt-4",children:o.jsx(xe,{children:o.jsxs(Se,{className:"p-6",children:[o.jsxs("p",{className:"mb-4 font-medium",children:["Available times for ",i&&dt(i,"MMMM d, yyyy")]}),i&&w(i).length>0?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:w(i).map(D=>o.jsx(X,{variant:c===D?"default":"outline",onClick:()=>j(D),className:"w-full",children:D},D))}):o.jsx("p",{className:"text-center text-gray-500",children:"No available slots for this date"}),o.jsx("div",{className:"mt-6 flex justify-between",children:o.jsx(X,{variant:"outline",onClick:()=>h("date"),children:"Back"})})]})})}),o.jsx(Rt,{value:"payment",className:"mt-4",children:o.jsx(xe,{children:o.jsxs(Se,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Payment Details"}),o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{className:"flex justify-between py-2 border-b",children:[o.jsxs("span",{className:"text-gray-600",children:["Session with ",s.name]}),o.jsxs("span",{children:["$",s.hourly_rate,".00"]})]}),o.jsxs("div",{className:"flex justify-between py-2 border-b",children:[o.jsx("span",{className:"text-gray-600",children:"Platform fee (4%)"}),o.jsxs("span",{children:["$",(s.hourly_rate*.04).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between py-2 font-medium",children:[o.jsx("span",{children:"Total"}),o.jsxs("span",{children:["$",(s.hourly_rate*1.04).toFixed(2)]})]})]}),o.jsx("div",{className:"p-4 bg-blue-50 rounded-lg mb-6",children:o.jsxs("p",{className:"text-sm text-blue-800",children:["You're booking a paid therapy session with ",s.name," on ",i&&dt(i,"MMMM d, yyyy")," at ",c,"."]})}),o.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-3 justify-between",children:[o.jsx(X,{variant:"outline",onClick:()=>h("time"),children:"Back"}),o.jsx(X,{onClick:k,disabled:f,className:"w-full sm:w-auto",children:f?"Processing...":"Pay with PayPal"})]})]})})})]})})]}):R()]}),s&&o.jsx(eU,{isOpen:y,onClose:()=>g(!1),consultantName:s.name,consultantEmail:s.email,amount:s.hourly_rate*1.04,onPaymentComplete:N})]})}const nU=()=>o.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),o.jsx("p",{className:"text-muted-foreground",children:"Manage your platform, users, and content"})]}),o.jsx(X,{asChild:!0,className:"mt-4 md:mt-0",children:o.jsxs(Bt,{to:"/home",children:[o.jsx(jI,{className:"mr-2 h-4 w-4"}),"Back to Main Site"]})})]}),rU=({activeTab:e})=>o.jsxs(Do,{className:"grid grid-cols-6 w-full",children:[o.jsxs(kt,{value:"dashboard",className:"flex items-center gap-2",children:[o.jsx(Bj,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),o.jsxs(kt,{value:"users",className:"flex items-center gap-2",children:[o.jsx(pc,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Users"})]}),o.jsxs(kt,{value:"content",className:"flex items-center gap-2",children:[o.jsx(Qg,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Content"})]}),o.jsxs(kt,{value:"consultants",className:"flex items-center gap-2",children:[o.jsx(Qj,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Consultants"})]}),o.jsxs(kt,{value:"about",className:"flex items-center gap-2",children:[o.jsx(II,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"About"})]}),o.jsxs(kt,{value:"settings",className:"flex items-center gap-2",children:[o.jsx(UI,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]}),sU=()=>{const{isAdmin:e}=Re();return Ft({queryKey:["dashboard-stats"],queryFn:async()=>{if(!e)throw new Error("Unauthorized");try{const{count:t,error:n}=await B.from("users").select("*",{count:"exact",head:!0});if(n)throw console.error("Error fetching user count:",n),n;const r=new Date;r.setDate(r.getDate()-7);const{count:s,error:a}=await B.from("stories").select("*",{count:"exact",head:!0}).gte("created_at",r.toISOString());if(a)throw console.error("Error fetching recent stories count:",a),a;const{count:i,error:l}=await B.from("consultants").select("*",{count:"exact",head:!0}).eq("available",!1);if(l)throw console.error("Error fetching pending approvals count:",l),l;return{totalUsers:t||0,recentStories:s||0,pendingApprovals:i||0}}catch(t){throw console.error("Error in useDashboardStats:",t),t}},enabled:!!e,retry:2,retryDelay:1e3})},aU=()=>{const{isAdmin:e}=Re();return Ft({queryKey:["recent-activities"],queryFn:async()=>{if(!e)throw new Error("Unauthorized");try{const{data:t,error:n}=await B.from("users").select("id, name, created_at").order("created_at",{ascending:!1}).limit(3);if(n)throw console.error("Error fetching recent users:",n),n;const{data:r,error:s}=await B.from("stories").select("id, title, created_at").order("created_at",{ascending:!1}).limit(3);if(s)throw console.error("Error fetching recent stories:",s),s;const{data:a,error:i}=await B.from("sessions").select("id, user_id, consultant_id, start_time, created_at").order("created_at",{ascending:!1}).limit(2);if(i)throw console.error("Error fetching recent sessions:",i),i;const l=[...(t||[]).map(c=>({id:`user-${c.id}`,type:"user_joined",text:`New user ${c.name||"Anonymous"} joined the platform`,timestamp:c.created_at})),...(r||[]).map(c=>({id:`story-${c.id}`,type:"story_published",text:`New story "${c.title||"Untitled"}" was published`,timestamp:c.created_at})),...(a||[]).map(c=>({id:`session-${c.id}`,type:"session_booked",text:"New consultation session was booked",timestamp:c.created_at}))];return l.sort((c,u)=>new Date(u.timestamp).getTime()-new Date(c.timestamp).getTime()),l.slice(0,5)}catch(t){throw console.error("Error in useRecentActivities:",t),t}},enabled:!!e,retry:2,retryDelay:1e3})},il=({title:e,value:t,icon:n,trend:r})=>o.jsxs(xe,{children:[o.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(ze,{className:"text-sm font-medium",children:e}),n]}),o.jsxs(Se,{children:[t===void 0?o.jsx(He,{className:"h-7 w-16"}):o.jsx("div",{className:"text-2xl font-bold",children:t.toLocaleString()}),o.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]}),iU=({stats:e,isLoading:t})=>o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[o.jsx(il,{title:"Total Users",value:t||e==null?void 0:e.totalUsers,icon:o.jsx(pc,{className:"h-4 w-4 text-muted-foreground"}),trend:"+10% from last month"}),o.jsx(il,{title:"Active Stories",value:t||e==null?void 0:e.recentStories,icon:o.jsx(Qg,{className:"h-4 w-4 text-muted-foreground"}),trend:"+20% from last month"}),o.jsx(il,{title:"Pending Approvals",value:t||e==null?void 0:e.pendingApprovals,icon:o.jsx(Qj,{className:"h-4 w-4 text-muted-foreground"}),trend:`${e!=null&&e.pendingApprovals?e.pendingApprovals:0} consultants waiting`}),o.jsx(il,{title:"Chat Messages",value:57,icon:o.jsx(mc,{className:"h-4 w-4 text-muted-foreground"}),trend:"+15% from last month"}),o.jsx(il,{title:"Sessions",value:128,icon:o.jsx(cf,{className:"h-4 w-4 text-muted-foreground"}),trend:"+8% from last month"})]}),oU=({activities:e})=>{const t=r=>{switch(r){case"user_joined":return o.jsx(pc,{className:"h-4 w-4"});case"story_published":return o.jsx(Qg,{className:"h-4 w-4"});case"session_booked":return o.jsx(cf,{className:"h-4 w-4"});default:return null}},n=r=>{const s=new Date(r);return OF(s)?`Today at ${dt(s,"h:mm a")}`:AF(s)?`Yesterday at ${dt(s,"h:mm a")}`:dt(s,"MMM d, yyyy")};return o.jsx("div",{className:"space-y-4",children:e.length===0?o.jsx("p",{className:"text-center py-4 text-muted-foreground",children:"No recent activity"}):e.map(r=>o.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-muted rounded-md",children:[o.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-muted",children:t(r.type)}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:r.text}),o.jsx("p",{className:"text-xs text-muted-foreground",children:n(r.timestamp)})]})]},r.id))})},lU=({activities:e,isLoading:t,error:n})=>o.jsxs(xe,{className:"col-span-full",children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Recent Activity"}),o.jsx(Jt,{children:"Platform activities from the last few days"})]}),o.jsx(Se,{children:t?o.jsxs("div",{className:"space-y-4",children:[o.jsx(He,{className:"h-12 w-full"}),o.jsx(He,{className:"h-12 w-full"}),o.jsx(He,{className:"h-12 w-full"})]}):n?o.jsx("p",{className:"text-center py-4 text-muted-foreground",children:"Failed to load recent activities"}):o.jsx(oU,{activities:e||[]})})]}),cU=()=>o.jsxs(xe,{className:"col-span-full",children:[o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(ze,{children:"Monthly Overview"}),o.jsx(Jt,{children:"Platform performance metrics for the past 30 days"})]}),o.jsx(Bj,{className:"h-4 w-4 text-muted-foreground"})]})}),o.jsx(Se,{children:o.jsx("div",{className:"h-[200px] w-full rounded-md bg-muted/30 flex items-center justify-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Chart visualization will appear here"})})})]}),uU=()=>{const{data:e,isLoading:t,error:n}=sU(),{data:r,isLoading:s,error:a}=aU();return o.jsxs("div",{className:"space-y-4",children:[o.jsx(iU,{stats:e,isLoading:t}),o.jsx(lU,{activities:r,isLoading:s,error:a}),o.jsx(cU,{})]})},dU=()=>{const{isAdmin:e}=Re();return Ft({queryKey:["admin-users"],queryFn:async()=>{if(!e)throw new Error("Unauthorized");const{data:t,error:n}=await B.from("users").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Error fetching users:",n),n;return t},enabled:!!e,retry:2,retryDelay:1e3})},fU=()=>{const e=ds(),{isAdmin:t}=Re();return Jr({mutationFn:async({userId:n,newRole:r})=>{if(!t)throw new Error("Unauthorized");const{error:s}=await B.from("users").update({role:r}).eq("id",n);if(s)throw s;return{userId:n,newRole:r}},onSuccess:n=>{e.invalidateQueries({queryKey:["admin-users"]}),Qt({title:"User role updated",description:`User has been promoted to ${n.newRole}.`})},onError:n=>{Qt({title:"Failed to update user role",description:n.message||"An error occurred while updating the user role.",variant:"destructive"})}})},hU=()=>{const e=ds(),{isAdmin:t}=Re();return Jr({mutationFn:async n=>{if(!t)throw new Error("Unauthorized");const{error:r}=await B.from("users").delete().eq("id",n);if(r)throw r;return{userId:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),Qt({title:"User removed",description:"The user has been removed from the platform."})},onError:n=>{Qt({title:"Failed to remove user",description:n.message||"An error occurred while removing the user.",variant:"destructive"})}})},mU=()=>{const{isAdmin:e}=Re();return Ft({queryKey:["admin-stories"],queryFn:async()=>{if(!e)throw new Error("Unauthorized");const{data:t,error:n}=await B.from("stories").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Error fetching stories:",n),n;return t},enabled:!!e,retry:2,retryDelay:1e3})},pU=()=>{const e=ds(),{isAdmin:t}=Re();return Jr({mutationFn:async({storyId:n,isFeatured:r})=>{if(!t)throw new Error("Unauthorized");const{error:s}=await B.from("stories").update({is_featured:r}).eq("id",n);if(s)throw s;return{storyId:n,isFeatured:r}},onSuccess:()=>{e.invalidateQueries({queryKey:["admin-stories"]}),Qt({title:"Story updated",description:"The story feature status has been updated."})},onError:n=>{Qt({title:"Failed to update story",description:n.message||"An error occurred while updating the story.",variant:"destructive"})}})},gU=()=>{const{isAdmin:e}=Re();return Ft({queryKey:["pending-consultants"],queryFn:async()=>{if(!e)throw new Error("Unauthorized");try{const{data:t,error:n}=await B.from("consultants").select(`
            id, 
            specialization, 
            created_at
          `).eq("available",!1).order("created_at",{ascending:!1}).limit(5);if(n)throw console.error("Error fetching consultants:",n),n;const r=[];for(const s of t||[])try{const{data:a,error:i}=await B.from("users").select("name, email").eq("id",s.id).single();if(i){console.warn(`Couldn't get user data for consultant ${s.id}:`,i),r.push({id:s.id,name:"Unknown",email:"no-email@example.com",specialization:s.specialization||[],submittedDate:dt(new Date(s.created_at),"yyyy-MM-dd")});continue}r.push({id:s.id,name:(a==null?void 0:a.name)||"Unknown",email:(a==null?void 0:a.email)||"no-email@example.com",specialization:s.specialization||[],submittedDate:dt(new Date(s.created_at),"yyyy-MM-dd")})}catch(a){console.error(`Error processing consultant ${s.id}:`,a)}return r}catch(t){throw console.error("Error in usePendingConsultants:",t),t}},enabled:!!e,retry:2,retryDelay:1e3})},vU=()=>{const e=ds(),{isAdmin:t}=Re();return Jr({mutationFn:async n=>{if(!t)throw new Error("Unauthorized");const{error:r}=await B.from("consultants").update({available:!0}).eq("id",n);if(r)throw r;return{consultantId:n}},onSuccess:()=>{e.invalidateQueries({queryKey:["pending-consultants"]}),Qt({title:"Consultant approved",description:"The consultant has been approved and can now accept sessions."})},onError:n=>{Qt({title:"Failed to approve consultant",description:n.message||"An error occurred while approving the consultant.",variant:"destructive"})}})},yU=()=>{const{data:e,isLoading:t,error:n}=dU(),r=fU(),s=hU(),a=(c,u)=>{r.mutate({userId:c,newRole:u})},i=c=>{window.confirm("Are you sure you want to remove this user?")&&s.mutate(c)},l=c=>c.split(" ").map(u=>u[0]).join("").toUpperCase().substring(0,2);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium",children:"User Management"}),o.jsx(X,{size:"sm",children:"Add User"})]}),o.jsx("div",{className:"rounded-md border",children:t?o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsx(He,{className:"h-12 w-full"}),o.jsx(He,{className:"h-12 w-full"}),o.jsx(He,{className:"h-12 w-full"})]}):n?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("p",{children:"Failed to load users"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n.message})]}):e&&e.length>0?o.jsxs(Ao,{children:[o.jsx(Io,{children:o.jsxs(Xn,{children:[o.jsx(Ze,{children:"User"}),o.jsx(Ze,{children:"Email"}),o.jsx(Ze,{children:"Role"}),o.jsx(Ze,{children:"Joined"}),o.jsx(Ze,{className:"text-right",children:"Actions"})]})}),o.jsx(Lo,{children:e.map(c=>o.jsxs(Xn,{children:[o.jsx(Ke,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(To,{children:[o.jsx(Mo,{src:c.profile_image||void 0}),o.jsx(Ro,{children:l(c.name)})]}),o.jsx("span",{children:c.name})]})}),o.jsx(Ke,{children:c.email}),o.jsx(Ke,{children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:c.role})}),o.jsx(Ke,{children:dt(new Date(c.created_at),"MMM d, yyyy")}),o.jsx(Ke,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsxs(Jg,{children:[o.jsx(Zg,{asChild:!0,children:o.jsx(X,{variant:"ghost",size:"icon",children:o.jsx(zI,{className:"h-4 w-4"})})}),o.jsxs(df,{align:"end",children:[o.jsx(Ks,{onClick:()=>a(c.id,"user"),children:"Set as User"}),o.jsx(Ks,{onClick:()=>a(c.id,"admin"),children:"Set as Admin"})]})]}),o.jsx(X,{variant:"ghost",size:"icon",onClick:()=>i(c.id),children:o.jsx(Xg,{className:"h-4 w-4 text-destructive"})})]})})]},c.id))})]}):o.jsx("div",{className:"p-8 text-center",children:o.jsx("p",{children:"No users found"})})})]})},xU=()=>{const{data:e,isLoading:t,error:n}=mU(),r=pU(),s=(i,l)=>{r.mutate({storyId:i,isFeatured:!l})},a=(i,l=50)=>i.length>l?i.substring(0,l)+"...":i;return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Content Management"}),o.jsx(X,{size:"sm",children:"Add Content"})]}),o.jsx("div",{className:"rounded-md border",children:t?o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsx(He,{className:"h-12 w-full"}),o.jsx(He,{className:"h-12 w-full"}),o.jsx(He,{className:"h-12 w-full"})]}):n?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("p",{children:"Failed to load content"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n.message})]}):e&&e.length>0?o.jsxs(Ao,{children:[o.jsx(Io,{children:o.jsxs(Xn,{children:[o.jsx(Ze,{children:"Title"}),o.jsx(Ze,{children:"Snippet"}),o.jsx(Ze,{children:"Status"}),o.jsx(Ze,{children:"Published"}),o.jsx(Ze,{children:"Featured"}),o.jsx(Ze,{className:"text-right",children:"Actions"})]})}),o.jsx(Lo,{children:e.map(i=>o.jsxs(Xn,{children:[o.jsx(Ke,{children:a(i.title,30)}),o.jsx(Ke,{children:a(i.snippet||"",50)}),o.jsx(Ke,{children:o.jsx(st,{variant:i.status==="published"?"default":"outline",children:i.status||"published"})}),o.jsx(Ke,{children:dt(new Date(i.published_at),"MMM d, yyyy")}),o.jsx(Ke,{children:o.jsx(st,{variant:i.is_featured?"secondary":"outline",children:i.is_featured?"Featured":"Not featured"})}),o.jsx(Ke,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(X,{variant:"ghost",size:"icon",onClick:()=>s(i.id,i.is_featured),children:i.is_featured?o.jsx(BI,{className:"h-4 w-4"}):o.jsx(WI,{className:"h-4 w-4"})}),o.jsx(X,{variant:"ghost",size:"icon",children:o.jsx(Gg,{className:"h-4 w-4"})})]})})]},i.id))})]}):o.jsx("div",{className:"p-8 text-center",children:o.jsx("p",{children:"No stories found"})})})]})},wU=()=>{const{data:e,isLoading:t,error:n}=gU(),r=vU(),s=a=>{r.mutate(a)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Consultant Management"}),o.jsx(X,{size:"sm",children:"Add Consultant"})]}),o.jsx("div",{className:"rounded-md border",children:t?o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsx(He,{className:"h-12 w-full"}),o.jsx(He,{className:"h-12 w-full"}),o.jsx(He,{className:"h-12 w-full"})]}):n?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("p",{children:"Failed to load consultants"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:n.message})]}):e&&e.length>0?o.jsxs(Ao,{children:[o.jsx(Io,{children:o.jsxs(Xn,{children:[o.jsx(Ze,{children:"Name"}),o.jsx(Ze,{children:"Email"}),o.jsx(Ze,{children:"Specialization"}),o.jsx(Ze,{children:"Submitted"}),o.jsx(Ze,{className:"text-right",children:"Actions"})]})}),o.jsx(Lo,{children:e.map(a=>o.jsxs(Xn,{children:[o.jsx(Ke,{children:a.name}),o.jsx(Ke,{children:a.email}),o.jsx(Ke,{children:o.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.specialization.slice(0,3).map((i,l)=>o.jsx(st,{variant:"outline",className:"text-xs",children:i},l)),a.specialization.length>3&&o.jsxs(st,{variant:"outline",className:"text-xs",children:["+",a.specialization.length-3," more"]})]})}),o.jsx(Ke,{children:a.submittedDate}),o.jsx(Ke,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(X,{variant:"ghost",size:"icon",onClick:()=>s(a.id),children:o.jsx(uf,{className:"h-4 w-4"})}),o.jsx(X,{variant:"ghost",size:"icon",children:o.jsx(Gg,{className:"h-4 w-4"})})]})})]},a.id))})]}):o.jsx("div",{className:"p-8 text-center",children:o.jsx("p",{children:"No pending consultants"})})})]})};function bU(){const[e,t]=m.useState(null),[n,r]=m.useState(null),[s,a]=m.useState(!1),{toast:i}=St(),l=ds(),{data:c,isLoading:u}=Ft({queryKey:["adminAboutContent"],queryFn:async()=>{const{data:v,error:w}=await B.from("about_content").select("section, title, content").order("section");if(w)throw w;return v}}),{data:d,isLoading:h}=Ft({queryKey:["adminTeamMembers"],queryFn:async()=>{const{data:v,error:w}=await B.from("team_members").select("*").order("display_order");if(w)throw w;return v}}),f=Jr({mutationFn:async({section:v,title:w,content:_})=>{const{error:S}=await B.from("about_content").update({title:w,content:_}).eq("section",v);if(S)throw S},onSuccess:()=>{l.invalidateQueries({queryKey:["adminAboutContent"]}),l.invalidateQueries({queryKey:["aboutContent"]}),i({title:"Content updated successfully"}),t(null)},onError:v=>{i({title:"Error updating content",description:v.message,variant:"destructive"})}}),p=Jr({mutationFn:async v=>{const{error:w}=await B.from("team_members").insert([{...v,is_active:!0}]);if(w)throw w},onSuccess:()=>{l.invalidateQueries({queryKey:["adminTeamMembers"]}),l.invalidateQueries({queryKey:["teamMembers"]}),i({title:"Team member added successfully"}),a(!1)},onError:v=>{i({title:"Error adding team member",description:v.message,variant:"destructive"})}}),y=Jr({mutationFn:async({id:v,...w})=>{const{error:_}=await B.from("team_members").update(w).eq("id",v);if(_)throw _},onSuccess:()=>{l.invalidateQueries({queryKey:["adminTeamMembers"]}),l.invalidateQueries({queryKey:["teamMembers"]}),i({title:"Team member updated successfully"}),r(null)},onError:v=>{i({title:"Error updating team member",description:v.message,variant:"destructive"})}}),g=Jr({mutationFn:async v=>{const{error:w}=await B.from("team_members").update({is_active:!1}).eq("id",v);if(w)throw w},onSuccess:()=>{l.invalidateQueries({queryKey:["adminTeamMembers"]}),l.invalidateQueries({queryKey:["teamMembers"]}),i({title:"Team member removed successfully"})},onError:v=>{i({title:"Error removing team member",description:v.message,variant:"destructive"})}}),b=v=>{v.preventDefault();const w=new FormData(v.currentTarget),_=w.get("section"),S=w.get("title"),j=w.get("content");f.mutate({section:_,title:S,content:j})},x=v=>{v.preventDefault();const w=new FormData(v.currentTarget),_={name:w.get("name"),position:w.get("position"),bio:w.get("bio")||null,profile_image:w.get("profile_image")||null,email:w.get("email")||null,linkedin_url:w.get("linkedin_url")||null,display_order:parseInt(w.get("display_order"))||0};n?y.mutate({id:n,..._}):p.mutate(_)};return u||h?o.jsx("div",{children:"Loading..."}):o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h2",{className:"text-2xl font-bold",children:"About Page Management"})}),o.jsxs(xe,{children:[o.jsx(Ue,{children:o.jsx(ze,{children:"Page Content"})}),o.jsx(Se,{className:"space-y-4",children:c==null?void 0:c.map(v=>o.jsx("div",{className:"border rounded-lg p-4",children:e===v.section?o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsx("input",{type:"hidden",name:"section",value:v.section}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"title",children:"Title"}),o.jsx(Oe,{id:"title",name:"title",defaultValue:v.title,required:!0})]}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"content",children:"Content"}),o.jsx(El,{id:"content",name:"content",defaultValue:v.content,rows:4,required:!0})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(X,{type:"submit",size:"sm",children:[o.jsx(xh,{className:"w-4 h-4 mr-2"}),"Save"]}),o.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:()=>t(null),children:[o.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold",children:v.title}),o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>t(v.section),children:[o.jsx(sp,{className:"w-4 h-4 mr-2"}),"Edit"]})]}),o.jsx("p",{className:"text-gray-600 text-sm",children:v.content})]})},v.section))})]}),o.jsxs(xe,{children:[o.jsx(Ue,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(ze,{children:"Team Members"}),o.jsxs(X,{onClick:()=>a(!0),children:[o.jsx(Kj,{className:"w-4 h-4 mr-2"}),"Add Member"]})]})}),o.jsxs(Se,{className:"space-y-4",children:[s&&o.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[o.jsx("h3",{className:"font-semibold mb-4",children:"Add New Team Member"}),o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"name",children:"Name"}),o.jsx(Oe,{id:"name",name:"name",required:!0})]}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"position",children:"Position"}),o.jsx(Oe,{id:"position",name:"position",required:!0})]})]}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"bio",children:"Bio"}),o.jsx(El,{id:"bio",name:"bio",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"email",children:"Email"}),o.jsx(Oe,{id:"email",name:"email",type:"email"})]}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),o.jsx(Oe,{id:"linkedin_url",name:"linkedin_url",type:"url"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"profile_image",children:"Profile Image URL"}),o.jsx(Oe,{id:"profile_image",name:"profile_image",type:"url"})]}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"display_order",children:"Display Order"}),o.jsx(Oe,{id:"display_order",name:"display_order",type:"number",defaultValue:"0"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(X,{type:"submit",children:[o.jsx(xh,{className:"w-4 h-4 mr-2"}),"Save"]}),o.jsxs(X,{type:"button",variant:"outline",onClick:()=>a(!1),children:[o.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),d==null?void 0:d.map(v=>o.jsx("div",{className:"border rounded-lg p-4",children:n===v.id?o.jsxs("form",{onSubmit:x,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"name",children:"Name"}),o.jsx(Oe,{id:"name",name:"name",defaultValue:v.name,required:!0})]}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"position",children:"Position"}),o.jsx(Oe,{id:"position",name:"position",defaultValue:v.position,required:!0})]})]}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"bio",children:"Bio"}),o.jsx(El,{id:"bio",name:"bio",defaultValue:v.bio||"",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"email",children:"Email"}),o.jsx(Oe,{id:"email",name:"email",type:"email",defaultValue:v.email||""})]}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),o.jsx(Oe,{id:"linkedin_url",name:"linkedin_url",type:"url",defaultValue:v.linkedin_url||""})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"profile_image",children:"Profile Image URL"}),o.jsx(Oe,{id:"profile_image",name:"profile_image",type:"url",defaultValue:v.profile_image||""})]}),o.jsxs("div",{children:[o.jsx(_e,{htmlFor:"display_order",children:"Display Order"}),o.jsx(Oe,{id:"display_order",name:"display_order",type:"number",defaultValue:v.display_order})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(X,{type:"submit",children:[o.jsx(xh,{className:"w-4 h-4 mr-2"}),"Save"]}),o.jsxs(X,{type:"button",variant:"outline",onClick:()=>r(null),children:[o.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("img",{src:v.profile_image||"/placeholder.svg",alt:v.name,className:"w-12 h-12 rounded-full object-cover",onError:w=>{w.target.src="/placeholder.svg"}}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:v.name}),o.jsx(st,{variant:"outline",children:v.position}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Order: ",v.display_order]})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(X,{variant:"outline",size:"sm",onClick:()=>r(v.id),children:[o.jsx(sp,{className:"w-4 h-4 mr-2"}),"Edit"]}),o.jsxs(X,{variant:"destructive",size:"sm",onClick:()=>g.mutate(v.id),children:[o.jsx(Xg,{className:"w-4 h-4 mr-2"}),"Remove"]})]})]})},v.id))]})]})]})}const _U=()=>{const{toast:e}=St(),t=()=>{e({title:"Settings saved",description:"Your platform settings have been updated successfully."})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Platform Settings"}),o.jsx(X,{onClick:t,children:"Save Settings"})]}),o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"General Settings"}),o.jsx(Jt,{children:"Manage platform-wide configuration"})]}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Platform Name"}),o.jsx("input",{type:"text",placeholder:"Mental Health App",className:"w-full p-2 border rounded-md"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Contact Email"}),o.jsx("input",{type:"email",placeholder:"support@example.com",className:"w-full p-2 border rounded-md"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium",children:"Platform Fee (%)"}),o.jsx("input",{type:"number",placeholder:"10",min:"0",max:"100",className:"w-full p-2 border rounded-md"})]})]})]}),o.jsxs(xe,{children:[o.jsxs(Ue,{children:[o.jsx(ze,{children:"Feature Toggles"}),o.jsx(Jt,{children:"Enable or disable platform features"})]}),o.jsxs(Se,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[o.jsx("span",{children:"Enable Chat Feature"}),o.jsx("input",{type:"checkbox",defaultChecked:!0})]}),o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[o.jsx("span",{children:"Enable Consultant Booking"}),o.jsx("input",{type:"checkbox",defaultChecked:!0})]}),o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md",children:[o.jsx("span",{children:"Enable Public Stories"}),o.jsx("input",{type:"checkbox",defaultChecked:!0})]})]})]})]})},jU=()=>{const[e,t]=_P();tn();const n=e.get("tab")||"dashboard",[r,s]=m.useState(n),{isAuthenticated:a,isAdmin:i,loading:l}=Re();m.useEffect(()=>{r!==n&&t({tab:r},{replace:!0})},[r,t,n]);const c=u=>{s(u)};return l?o.jsx("div",{className:"container mx-auto p-6 flex items-center justify-center min-h-[50vh]",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"Loading admin panel..."})]})}):!a||!i?o.jsx(sd,{to:"/login",replace:!0}):o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsx(nU,{}),o.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.jsx("div",{className:"col-span-1",children:o.jsxs(gc,{defaultValue:r,onValueChange:c,className:"space-y-4",children:[o.jsx(rU,{activeTab:r}),o.jsx(Rt,{value:"dashboard",className:"space-y-4",children:o.jsx(uU,{})}),o.jsx(Rt,{value:"users",className:"space-y-4",children:o.jsx(yU,{})}),o.jsx(Rt,{value:"content",className:"space-y-4",children:o.jsx(xU,{})}),o.jsx(Rt,{value:"consultants",className:"space-y-4",children:o.jsx(wU,{})}),o.jsx(Rt,{value:"about",className:"space-y-4",children:o.jsx(bU,{})}),o.jsx(Rt,{value:"settings",className:"space-y-4",children:o.jsx(_U,{})})]})})})]})};function SU(){const{data:e,isLoading:t}=Ft({queryKey:["aboutContent"],queryFn:async()=>{const{data:d,error:h}=await B.from("about_content").select("section, title, content").order("section");if(h)throw h;return d}}),{data:n,isLoading:r}=Ft({queryKey:["teamMembers"],queryFn:async()=>{const{data:d,error:h}=await B.from("team_members").select("*").eq("is_active",!0).order("display_order");if(h)throw h;return d}}),s=d=>e==null?void 0:e.find(h=>h.section===d);if(t||r)return o.jsx(Nn,{children:o.jsx("div",{className:"container mx-auto py-6 px-4",children:o.jsx("div",{className:"text-center",children:"Loading..."})})});const a=s("about"),i=s("mission"),l=s("vision"),c=s("values"),u=s("privacy");return o.jsx(Nn,{children:o.jsxs("div",{className:"container mx-auto py-6 px-4 max-w-6xl",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:(a==null?void 0:a.title)||"About Our Minds"}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:(a==null?void 0:a.content)||"Loading..."})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[o.jsxs(xe,{className:"text-center p-6 hover:shadow-lg transition-shadow",children:[o.jsxs(Ue,{children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(HI,{className:"w-8 h-8 text-blue-600"})}),o.jsx(ze,{className:"text-xl",children:(i==null?void 0:i.title)||"Our Mission"})]}),o.jsx(Se,{children:o.jsx("p",{className:"text-gray-600 leading-relaxed",children:(i==null?void 0:i.content)||"Loading..."})})]}),o.jsxs(xe,{className:"text-center p-6 hover:shadow-lg transition-shadow",children:[o.jsxs(Ue,{children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(Gg,{className:"w-8 h-8 text-green-600"})}),o.jsx(ze,{className:"text-xl",children:(l==null?void 0:l.title)||"Our Vision"})]}),o.jsx(Se,{children:o.jsx("p",{className:"text-gray-600 leading-relaxed",children:(l==null?void 0:l.content)||"Loading..."})})]}),o.jsxs(xe,{className:"text-center p-6 hover:shadow-lg transition-shadow",children:[o.jsxs(Ue,{children:[o.jsx("div",{className:"mx-auto w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:o.jsx(OI,{className:"w-8 h-8 text-purple-600"})}),o.jsx(ze,{className:"text-xl",children:(c==null?void 0:c.title)||"Our Values"})]}),o.jsx(Se,{children:o.jsx("p",{className:"text-gray-600 leading-relaxed",children:(c==null?void 0:c.content)||"Loading..."})})]})]}),o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[o.jsx(pc,{className:"w-8 h-8 text-gray-700"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Our Team"})]}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Meet the dedicated professionals who make Our Minds possible. Our team is committed to providing exceptional mental health support and creating a safe space for everyone."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n==null?void 0:n.map(d=>o.jsx(xe,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:o.jsx(Se,{className:"p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:d.profile_image||"/placeholder.svg",alt:d.name,className:"w-24 h-24 rounded-full mx-auto mb-4 object-cover",onError:h=>{h.target.src="/placeholder.svg"}}),o.jsx("h3",{className:"text-xl font-semibold mb-1",children:d.name}),o.jsx(st,{variant:"outline",className:"mb-3",children:d.position}),d.bio&&o.jsx("p",{className:"text-gray-600 text-sm mb-4 leading-relaxed",children:d.bio}),o.jsxs("div",{className:"flex justify-center gap-3",children:[d.email&&o.jsx("a",{href:`mailto:${d.email}`,className:"p-2 text-gray-500 hover:text-blue-600 transition-colors",title:"Email",children:o.jsx(Vj,{className:"w-5 h-5"})}),d.linkedin_url&&o.jsx("a",{href:d.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-500 hover:text-blue-700 transition-colors",title:"LinkedIn",children:o.jsx(LI,{className:"w-5 h-5"})})]})]})})},d.id))})]}),u&&o.jsxs(xe,{className:"bg-gray-50",children:[o.jsx(Ue,{children:o.jsx(ze,{className:"text-2xl text-center",children:u.title})}),o.jsx(Se,{children:o.jsx("p",{className:"text-gray-700 leading-relaxed max-w-4xl mx-auto",children:u.content})})]})]})})}const NU=()=>{const e=yr();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},iu=({children:e,requireAdmin:t=!1})=>{const{isAuthenticated:n,isAdmin:r,loading:s,session:a}=Re(),i=yr();return s?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):!n||!a?(console.log("Not authenticated or missing session, redirecting to login"),o.jsx(sd,{to:"/login",state:{from:i},replace:!0})):t&&!r?(console.log("Admin access required but user is not admin, redirecting to home"),o.jsx(sd,{to:"/home",replace:!0})):o.jsx(o.Fragment,{children:e})},CU=new LP({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3}}}),kU=()=>o.jsx(BP,{client:CU,children:o.jsx(RD,{children:o.jsxs(nT,{defaultTheme:"light",storageKey:"theme-preference",children:[o.jsx(gP,{router:oP([{path:"/",element:o.jsx(sd,{to:"/home"})},{path:"/home",element:o.jsx(JF,{})},{path:"/about",element:o.jsx(SU,{})},{path:"/login",element:o.jsx(e5,{})},{path:"/signup",element:o.jsx(O5,{})},{path:"/profile",element:o.jsx(iu,{children:o.jsx(r$,{})})},{path:"/profile/:userId",element:o.jsx(s$,{})},{path:"/story/:storyId",element:o.jsx(a$,{})},{path:"/chat/:threadId?",element:o.jsx(iu,{children:o.jsx(y$,{})})},{path:"/consult",element:o.jsx(x$,{})},{path:"/book-session/:consultantId?",element:o.jsx(iu,{children:o.jsx(tU,{})})},{path:"/admin",element:o.jsx(iu,{requireAdmin:!0,children:o.jsx(jU,{})})},{path:"*",element:o.jsx(NU,{})}])}),o.jsx(kT,{position:"top-right",richColors:!0})]})})});Jb(document.getElementById("root")).render(o.jsx(kU,{}));export{Fx as g};
