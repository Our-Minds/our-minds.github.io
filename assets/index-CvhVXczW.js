const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-7YFXzuoQ.js","assets/ui-BG7jjlrC.js","assets/vendor-CsPsgsBv.js","assets/router-J7O6VmFe.js","assets/avatar-BFIKPfdM.js","assets/skeleton-6Y4fJ80v.js","assets/formatDistanceToNow-CT3n5jHP.js","assets/constructNow-CbkWqtaZ.js","assets/en-US-DcT3sm5m.js","assets/star-C7tKwoGQ.js","assets/clock-CFGbNuaY.js","assets/user-BoqZ4jN3.js","assets/search-BaabGXuh.js","assets/chatUtils-Ctqdd6qY.js","assets/query-C_TmXHuV.js","assets/utils-EL5wpLGY.js","assets/supabase-DoZrjKS4.js","assets/ChatPage-B4Q04tYh.js","assets/AuthRedirect-XPcWBSKg.js","assets/ProfilePage-BMfpWYNM.js","assets/tabs-DdF9WTWQ.js","assets/table-ItZkQoZb.js","assets/dollar-sign-GZkvHI9w.js","assets/switch-CU4KXutq.js","assets/parseISO-G0xhW6v5.js","assets/format-Dmqbz6eD.js","assets/square-pen-PyxYW7o-.js","assets/trash-2-ylsRDHL7.js","assets/ConsultPage-CRmiu7Ik.js","assets/map-pin-B0iOPddX.js","assets/BookSessionPage-DDMREon0.js","assets/AdminPanel-DukdBYw-.js","assets/AboutPage-B0KbiNFN.js","assets/heart-DNgORbql.js","assets/StoryPage-BMjZyPVK.js","assets/PublicProfilePage-BTgfhrOv.js"])))=>i.map(i=>d[i]);
import{j as e,S as qt,P as ie,c as wr,a as jr,b as Yt,u as ge,A as Nr,d as re,e as je,h as Sr,f as kr,R as Cr,F as Er,D as Tr,C as Ir,g as wt,i as Pr,k as Ar,l as Rr,m as Mr,n as Bt,o as _r,p as Kt,q as Gt,r as Lr,s as Qt,I as Zt,t as Xt,v as Jt,w as ea,L as ta,x as aa,y as Or,T as Dr,O as ra,z as sa,B as zr,E as oa,G as na,H as Br,J as Fr,K as Wr}from"./ui-BG7jjlrC.js";import{b as jt,r as i,c as h,d as Vr}from"./vendor-CsPsgsBv.js";import{u as ze,L as oe,a as Be,N as mt,R as Hr,c as Ur}from"./router-J7O6VmFe.js";import{u as ia,Q as $r,a as qr}from"./query-C_TmXHuV.js";import{t as Yr,c as Kr,a as et}from"./utils-EL5wpLGY.js";import{c as Gr,_ as ve}from"./supabase-DoZrjKS4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();var la,Ft=jt;la=Ft.createRoot,Ft.hydrateRoot;const Qr={theme:"system",setTheme:()=>null},ca=i.createContext(Qr);function Zr({children:a,defaultTheme:t="system",storageKey:r="vite-ui-theme",...s}){const[o,n]=i.useState(()=>localStorage.getItem(r)||t);i.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),o==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(l);return}u.classList.add(o)},[o]);const c={theme:o,setTheme:u=>{localStorage.setItem(r,u),n(u)}};return e.jsx(ca.Provider,{...s,value:c,children:a})}const Xr=()=>{const a=i.useContext(ca);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a};var Jr=a=>{switch(a){case"success":return as;case"info":return ss;case"warning":return rs;case"error":return os;default:return null}},es=Array(12).fill(0),ts=({visible:a})=>h.createElement("div",{className:"sonner-loading-wrapper","data-visible":a},h.createElement("div",{className:"sonner-spinner"},es.map((t,r)=>h.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),as=h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},h.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rs=h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},h.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ss=h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},h.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),os=h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},h.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ns=()=>{let[a,t]=h.useState(document.hidden);return h.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),a},ht=1,is=class{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{let t=this.subscribers.indexOf(a);this.subscribers.splice(t,1)}),this.publish=a=>{this.subscribers.forEach(t=>t(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var t;let{message:r,...s}=a,o=typeof a?.id=="number"||((t=a.id)==null?void 0:t.length)>0?a.id:ht++,n=this.toasts.find(u=>u.id===o),c=a.dismissible===void 0?!0:a.dismissible;return n?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...a,id:o,title:r}),{...u,...a,id:o,dismissible:c,title:r}):u):this.addToast({title:r,...s,dismissible:c,id:o}),o},this.dismiss=a=>(a||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:a,dismiss:!0})),a),this.message=(a,t)=>this.create({...t,message:a}),this.error=(a,t)=>this.create({...t,message:a,type:"error"}),this.success=(a,t)=>this.create({...t,type:"success",message:a}),this.info=(a,t)=>this.create({...t,type:"info",message:a}),this.warning=(a,t)=>this.create({...t,type:"warning",message:a}),this.loading=(a,t)=>this.create({...t,type:"loading",message:a}),this.promise=(a,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:a,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=a instanceof Promise?a:a(),o=r!==void 0;return s.then(async n=>{if(cs(n)&&!n.ok){o=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${n.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${n.status}`):t.description;this.create({id:r,type:"error",message:c,description:u})}else if(t.success!==void 0){o=!1;let c=typeof t.success=="function"?await t.success(n):t.success,u=typeof t.description=="function"?await t.description(n):t.description;this.create({id:r,type:"success",message:c,description:u})}}).catch(async n=>{if(t.error!==void 0){o=!1;let c=typeof t.error=="function"?await t.error(n):t.error,u=typeof t.description=="function"?await t.description(n):t.description;this.create({id:r,type:"error",message:c,description:u})}}).finally(()=>{var n;o&&(this.dismiss(r),r=void 0),(n=t.finally)==null||n.call(t)}),r},this.custom=(a,t)=>{let r=t?.id||ht++;return this.create({jsx:a(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},le=new is,ls=(a,t)=>{let r=t?.id||ht++;return le.addToast({title:a,...t,id:r}),r},cs=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",ds=ls,us=()=>le.toasts,ms=Object.assign(ds,{success:le.success,info:le.info,warning:le.warning,error:le.error,custom:le.custom,message:le.message,promise:le.promise,dismiss:le.dismiss,loading:le.loading},{getHistory:us});function hs(a,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a))}hs(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function He(a){return a.label!==void 0}var ps=3,fs="32px",gs=4e3,xs=356,vs=14,ys=20,bs=200;function ws(...a){return a.filter(Boolean).join(" ")}var js=a=>{var t,r,s,o,n,c,u,l,m,p;let{invert:S,toast:d,unstyled:g,interacting:I,setHeights:f,visibleToasts:C,heights:R,index:v,toasts:P,expanded:j,removeToast:w,defaultRichColors:N,closeButton:y,style:M,cancelButtonStyle:x,actionButtonStyle:A,className:O="",descriptionClassName:_="",duration:K,position:te,gap:Q,loadingIcon:$,expandByDefault:se,classNames:E,icons:Z,closeButtonAriaLabel:Ce="Close toast",pauseWhenPageIsHidden:L,cn:D}=a,[B,ae]=h.useState(!1),[ce,V]=h.useState(!1),[b,H]=h.useState(!1),[ee,z]=h.useState(!1),[q,Y]=h.useState(0),[xe,me]=h.useState(0),Ie=h.useRef(null),he=h.useRef(null),Le=v===0,hr=v+1<=C,de=d.type,Pe=d.dismissible!==!1,pr=d.className||"",fr=d.descriptionClassName||"",We=h.useMemo(()=>R.findIndex(k=>k.toastId===d.id)||0,[R,d.id]),gr=h.useMemo(()=>{var k;return(k=d.closeButton)!=null?k:y},[d.closeButton,y]),_t=h.useMemo(()=>d.duration||K||gs,[d.duration,K]),it=h.useRef(0),Ae=h.useRef(0),Lt=h.useRef(0),Re=h.useRef(null),[Ot,xr]=te.split("-"),Dt=h.useMemo(()=>R.reduce((k,U,F)=>F>=We?k:k+U.height,0),[R,We]),zt=ns(),vr=d.invert||S,lt=de==="loading";Ae.current=h.useMemo(()=>We*Q+Dt,[We,Dt]),h.useEffect(()=>{ae(!0)},[]),h.useLayoutEffect(()=>{if(!B)return;let k=he.current,U=k.style.height;k.style.height="auto";let F=k.getBoundingClientRect().height;k.style.height=U,me(F),f(pe=>pe.find(fe=>fe.toastId===d.id)?pe.map(fe=>fe.toastId===d.id?{...fe,height:F}:fe):[{toastId:d.id,height:F,position:d.position},...pe])},[B,d.title,d.description,f,d.id]);let we=h.useCallback(()=>{V(!0),Y(Ae.current),f(k=>k.filter(U=>U.toastId!==d.id)),setTimeout(()=>{w(d)},bs)},[d,w,f,Ae]);h.useEffect(()=>{if(d.promise&&de==="loading"||d.duration===1/0||d.type==="loading")return;let k,U=_t;return j||I||L&&zt?(()=>{if(Lt.current<it.current){let F=new Date().getTime()-it.current;U=U-F}Lt.current=new Date().getTime()})():U!==1/0&&(it.current=new Date().getTime(),k=setTimeout(()=>{var F;(F=d.onAutoClose)==null||F.call(d,d),we()},U)),()=>clearTimeout(k)},[j,I,se,d,_t,we,d.promise,de,L,zt]),h.useEffect(()=>{let k=he.current;if(k){let U=k.getBoundingClientRect().height;return me(U),f(F=>[{toastId:d.id,height:U,position:d.position},...F]),()=>f(F=>F.filter(pe=>pe.toastId!==d.id))}},[f,d.id]),h.useEffect(()=>{d.delete&&we()},[we,d.delete]);function yr(){return Z!=null&&Z.loading?h.createElement("div",{className:"sonner-loader","data-visible":de==="loading"},Z.loading):$?h.createElement("div",{className:"sonner-loader","data-visible":de==="loading"},$):h.createElement(ts,{visible:de==="loading"})}return h.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:he,className:D(O,pr,E?.toast,(t=d?.classNames)==null?void 0:t.toast,E?.default,E?.[de],(r=d?.classNames)==null?void 0:r[de]),"data-sonner-toast":"","data-rich-colors":(s=d.richColors)!=null?s:N,"data-styled":!(d.jsx||d.unstyled||g),"data-mounted":B,"data-promise":!!d.promise,"data-removed":ce,"data-visible":hr,"data-y-position":Ot,"data-x-position":xr,"data-index":v,"data-front":Le,"data-swiping":b,"data-dismissible":Pe,"data-type":de,"data-invert":vr,"data-swipe-out":ee,"data-expanded":!!(j||se&&B),style:{"--index":v,"--toasts-before":v,"--z-index":P.length-v,"--offset":`${ce?q:Ae.current}px`,"--initial-height":se?"auto":`${xe}px`,...M,...d.style},onPointerDown:k=>{lt||!Pe||(Ie.current=new Date,Y(Ae.current),k.target.setPointerCapture(k.pointerId),k.target.tagName!=="BUTTON"&&(H(!0),Re.current={x:k.clientX,y:k.clientY}))},onPointerUp:()=>{var k,U,F,pe;if(ee||!Pe)return;Re.current=null;let fe=Number(((k=he.current)==null?void 0:k.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ve=new Date().getTime()-((U=Ie.current)==null?void 0:U.getTime()),br=Math.abs(fe)/Ve;if(Math.abs(fe)>=ys||br>.11){Y(Ae.current),(F=d.onDismiss)==null||F.call(d,d),we(),z(!0);return}(pe=he.current)==null||pe.style.setProperty("--swipe-amount","0px"),H(!1)},onPointerMove:k=>{var U;if(!Re.current||!Pe)return;let F=k.clientY-Re.current.y,pe=k.clientX-Re.current.x,fe=(Ot==="top"?Math.min:Math.max)(0,F),Ve=k.pointerType==="touch"?10:2;Math.abs(fe)>Ve?(U=he.current)==null||U.style.setProperty("--swipe-amount",`${F}px`):Math.abs(pe)>Ve&&(Re.current=null)}},gr&&!d.jsx?h.createElement("button",{"aria-label":Ce,"data-disabled":lt,"data-close-button":!0,onClick:lt||!Pe?()=>{}:()=>{var k;we(),(k=d.onDismiss)==null||k.call(d,d)},className:D(E?.closeButton,(o=d?.classNames)==null?void 0:o.closeButton)},h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||h.isValidElement(d.title)?d.jsx||d.title:h.createElement(h.Fragment,null,de||d.icon||d.promise?h.createElement("div",{"data-icon":"",className:D(E?.icon,(n=d?.classNames)==null?void 0:n.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||yr():null,d.type!=="loading"?d.icon||Z?.[de]||Jr(de):null):null,h.createElement("div",{"data-content":"",className:D(E?.content,(c=d?.classNames)==null?void 0:c.content)},h.createElement("div",{"data-title":"",className:D(E?.title,(u=d?.classNames)==null?void 0:u.title)},d.title),d.description?h.createElement("div",{"data-description":"",className:D(_,fr,E?.description,(l=d?.classNames)==null?void 0:l.description)},d.description):null),h.isValidElement(d.cancel)?d.cancel:d.cancel&&He(d.cancel)?h.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||x,onClick:k=>{var U,F;He(d.cancel)&&Pe&&((F=(U=d.cancel).onClick)==null||F.call(U,k),we())},className:D(E?.cancelButton,(m=d?.classNames)==null?void 0:m.cancelButton)},d.cancel.label):null,h.isValidElement(d.action)?d.action:d.action&&He(d.action)?h.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||A,onClick:k=>{var U,F;He(d.action)&&(k.defaultPrevented||((F=(U=d.action).onClick)==null||F.call(U,k),we()))},className:D(E?.actionButton,(p=d?.classNames)==null?void 0:p.actionButton)},d.action.label):null))};function Wt(){if(typeof window>"u"||typeof document>"u")return"ltr";let a=document.documentElement.getAttribute("dir");return a==="auto"||!a?window.getComputedStyle(document.documentElement).direction:a}var Ns=a=>{let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:n,className:c,offset:u,theme:l="light",richColors:m,duration:p,style:S,visibleToasts:d=ps,toastOptions:g,dir:I=Wt(),gap:f=vs,loadingIcon:C,icons:R,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:P,cn:j=ws}=a,[w,N]=h.useState([]),y=h.useMemo(()=>Array.from(new Set([r].concat(w.filter(L=>L.position).map(L=>L.position)))),[w,r]),[M,x]=h.useState([]),[A,O]=h.useState(!1),[_,K]=h.useState(!1),[te,Q]=h.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=h.useRef(null),se=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=h.useRef(null),Z=h.useRef(!1),Ce=h.useCallback(L=>{var D;(D=w.find(B=>B.id===L.id))!=null&&D.delete||le.dismiss(L.id),N(B=>B.filter(({id:ae})=>ae!==L.id))},[w]);return h.useEffect(()=>le.subscribe(L=>{if(L.dismiss){N(D=>D.map(B=>B.id===L.id?{...B,delete:!0}:B));return}setTimeout(()=>{Vr.flushSync(()=>{N(D=>{let B=D.findIndex(ae=>ae.id===L.id);return B!==-1?[...D.slice(0,B),{...D[B],...L},...D.slice(B+1)]:[L,...D]})})})}),[]),h.useEffect(()=>{if(l!=="system"){Q(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{Q(L?"dark":"light")})},[l]),h.useEffect(()=>{w.length<=1&&O(!1)},[w]),h.useEffect(()=>{let L=D=>{var B,ae;s.every(ce=>D[ce]||D.code===ce)&&(O(!0),(B=$.current)==null||B.focus()),D.code==="Escape"&&(document.activeElement===$.current||(ae=$.current)!=null&&ae.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[s]),h.useEffect(()=>{if($.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,Z.current=!1)}},[$.current]),w.length?h.createElement("section",{"aria-label":`${v} ${se}`,tabIndex:-1},y.map((L,D)=>{var B;let[ae,ce]=L.split("-");return h.createElement("ol",{key:L,dir:I==="auto"?Wt():I,tabIndex:-1,ref:$,className:c,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":ae,"data-x-position":ce,style:{"--front-toast-height":`${((B=M[0])==null?void 0:B.height)||0}px`,"--offset":typeof u=="number"?`${u}px`:u||fs,"--width":`${xs}px`,"--gap":`${f}px`,...S},onBlur:V=>{Z.current&&!V.currentTarget.contains(V.relatedTarget)&&(Z.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,E.current=V.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{_||O(!1)},onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},w.filter(V=>!V.position&&D===0||V.position===L).map((V,b)=>{var H,ee;return h.createElement(js,{key:V.id,icons:R,index:b,toast:V,defaultRichColors:m,duration:(H=g?.duration)!=null?H:p,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:t,visibleToasts:d,closeButton:(ee=g?.closeButton)!=null?ee:n,interacting:_,position:L,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:Ce,toasts:w.filter(z=>z.position==V.position),heights:M.filter(z=>z.position==V.position),setHeights:x,expandByDefault:o,gap:f,loadingIcon:C,expanded:A,pauseWhenPageIsHidden:P,cn:j})}))})):null};function T(...a){return Yr(Kr(a))}const Ss=et("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=i.forwardRef(({className:a,variant:t,size:r,asChild:s=!1,...o},n)=>{const c=s?qt:"button";return e.jsx(c,{className:T(Ss({variant:t,size:r,className:a})),ref:n,...o})});J.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),da=(...a)=>a.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=i.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:n,iconNode:c,...u},l)=>i.createElement("svg",{ref:l,...Cs,width:t,height:t,stroke:a,strokeWidth:s?Number(r)*24/Number(t):r,className:da("lucide",o),...u},[...c.map(([m,p])=>i.createElement(m,p)),...Array.isArray(n)?n:[n]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(a,t)=>{const r=i.forwardRef(({className:s,...o},n)=>i.createElement(Es,{ref:n,iconNode:t,className:da(`lucide-${ks(a)}`,s),...o}));return r.displayName=`${a}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=W("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=W("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=W("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=W("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=W("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=W("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=W("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=W("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=W("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=W("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=W("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=W("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=W("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=W("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=W("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=W("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qs=()=>{const[a,t]=i.useState(null),[r,s]=i.useState(!1);i.useEffect(()=>{const c=l=>{l.preventDefault(),console.log("PWA: Install prompt event captured"),t(l),s(!0)},u=()=>{console.log("PWA: App was installed"),s(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(m=>{console.log("PWA: Service Worker registered successfully:",m),m.addEventListener("updatefound",()=>{const p=m.installing;p&&p.addEventListener("statechange",()=>{p.state==="installed"&&navigator.serviceWorker.controller&&(console.log("PWA: New service worker installed, activating..."),p.postMessage({type:"SKIP_WAITING"}))})}),m.waiting&&m.waiting.postMessage({type:"SKIP_WAITING"})}).catch(m=>{console.error("PWA: Service Worker registration failed:",m)});let l=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{l||(l=!0,window.location.reload())})}),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]);const o=async()=>{if(a)try{await a.prompt();const{outcome:c}=await a.userChoice;console.log(c==="accepted"?"PWA: User accepted the install prompt":"PWA: User dismissed the install prompt"),t(null),s(!1)}catch(c){console.error("PWA: Error during installation:",c)}},n=()=>{s(!1)};return r?e.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:e.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Install Our Minds"})]}),e.jsx(J,{variant:"ghost",size:"sm",onClick:n,className:"h-6 w-6 p-0",children:e.jsx(tt,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Install our app for a better experience with offline access and push notifications."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(J,{onClick:o,size:"sm",className:"flex-1",children:"Install"}),e.jsx(J,{variant:"outline",onClick:n,size:"sm",className:"flex-1",children:"Not now"})]})]})}):null},Ys=()=>{const[a,t]=i.useState({isOnline:navigator.onLine,isInstalled:!1,isInstallable:!1,updateAvailable:!1});i.useEffect(()=>{const o=()=>{const p=window.matchMedia("(display-mode: standalone)").matches,S=window.navigator.standalone===!0,d=p||S;t(g=>({...g,isInstalled:d}))},n=()=>t(p=>({...p,isOnline:!0})),c=()=>t(p=>({...p,isOnline:!1})),u=()=>{t(p=>({...p,updateAvailable:!0}))},l=()=>{t(p=>({...p,isInstallable:!0}))},m=()=>{t(p=>({...p,isInstalled:!0,isInstallable:!1}))};return o(),window.addEventListener("online",n),window.addEventListener("offline",c),window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",m),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",u),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",c),window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",m),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("controllerchange",u)}},[]);const r=()=>{window.location.reload()};return{...a,reloadApp:r,updateServiceWorker:async()=>{if("serviceWorker"in navigator){const o=await navigator.serviceWorker.getRegistration();o?.waiting&&(o.waiting.postMessage({type:"SKIP_WAITING"}),t(n=>({...n,updateAvailable:!1})),r())}}}},Ks=et("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pt=i.forwardRef(({className:a,variant:t,...r},s)=>e.jsx("div",{ref:s,role:"alert",className:T(Ks({variant:t}),a),...r}));pt.displayName="Alert";const Gs=i.forwardRef(({className:a,...t},r)=>e.jsx("h5",{ref:r,className:T("mb-1 font-medium leading-none tracking-tight",a),...t}));Gs.displayName="AlertTitle";const ft=i.forwardRef(({className:a,...t},r)=>e.jsx("div",{ref:r,className:T("text-sm [&_p]:leading-relaxed",a),...t}));ft.displayName="AlertDescription";const Qs=()=>{const{isOnline:a,updateAvailable:t,updateServiceWorker:r}=Ys();return a&&!t?null:e.jsxs("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:[!a&&e.jsxs(pt,{className:"mb-2 border-destructive/50 text-destructive",children:[e.jsx($s,{className:"h-4 w-4"}),e.jsx(ft,{children:"You're offline. Some features may not work properly."})]}),t&&e.jsxs(pt,{className:"border-primary/50 text-primary",children:[e.jsx(pa,{className:"h-4 w-4"}),e.jsxs(ft,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"App update available"}),e.jsxs(J,{size:"sm",variant:"outline",onClick:r,className:"ml-2 h-7",children:[e.jsx(Ds,{className:"h-3 w-3 mr-1"}),"Update"]})]})]})]})},Zs="https://qodjhenqguamihndrvct.supabase.co",Xs="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFvZGpoZW5xZ3VhbWlobmRydmN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwNDE0NjEsImV4cCI6MjA2MDYxNzQ2MX0.Feq8B-Cnl0KdZifE1o-_Q2c9rPGWQ5CU_Qd90hgtNqQ",X=Gr(Zs,Xs),Js=5,eo=1e6,Ee={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let ct=0;function to(){return ct=(ct+1)%Number.MAX_SAFE_INTEGER,ct.toString()}const dt=new Map,Vt=a=>{if(dt.has(a))return;const t=setTimeout(()=>{dt.delete(a),Nt({type:Ee.REMOVE_TOAST,toastId:a})},eo);dt.set(a,t)},ao=(a,t)=>{switch(t.type){case Ee.ADD_TOAST:return{...a,toasts:[t.toast,...a.toasts].slice(0,Js)};case Ee.UPDATE_TOAST:return{...a,toasts:a.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case Ee.DISMISS_TOAST:{const{toastId:r}=t;return r?Vt(r):a.toasts.forEach(s=>{Vt(s.id)}),{...a,toasts:a.toasts.map(s=>s.id===r||r===void 0?{...s}:s)}}case Ee.REMOVE_TOAST:return t.toastId===void 0?{...a,toasts:[]}:{...a,toasts:a.toasts.filter(r=>r.id!==t.toastId)}}},Ke=[];let Ge={toasts:[]};function Nt(a){Ge=ao(Ge,a),Ke.forEach(t=>{t(Ge)})}function St(){const[a,t]=i.useState(Ge);return i.useEffect(()=>(Ke.push(t),()=>{const r=Ke.indexOf(t);r>-1&&Ke.splice(r,1)}),[a]),{...a,toast:Me,dismiss:r=>Nt({type:Ee.DISMISS_TOAST,toastId:r})}}function Me(a){const t=a.id||to(),r=a.variant||"default";return ms(a.title,{id:t,description:a.description}),Nt({type:Ee.ADD_TOAST,toast:{...a,id:t,variant:r}}),t}const va=i.createContext(void 0);function ro({children:a}){const[t,r]=i.useState(null),[s,o]=i.useState(null),[n,c]=i.useState(null),[u,l]=i.useState(!0),[m,p]=i.useState(null),S=async j=>{try{console.log("Fetching profile for user:",j);const{data:w,error:N}=await X.from("users").select("*").eq("id",j).single();if(N&&N.code!=="PGRST116")throw N;if(w){const y={id:w.id,email:w.email,name:w.name,role:w.role,profileImage:w.profile_image};if(y.role==="consultant"){const{data:M,error:x}=await X.from("consultants").select("*").eq("id",j).single();if(x&&x.code!=="PGRST116")throw x;M&&(y.specialization=M.specialization,y.languages=M.languages,y.location=M.location,y.paypalEmail=M.paypal_email,y.bio=M.bio)}c(y),console.log("Profile fetched successfully:",y)}else if(t?.user_metadata){const y=t.user_metadata;c({id:t.id,email:t.email||"",name:y.name||t.email?.split("@")[0]||"User",role:"user"}),console.log("Created profile from metadata")}}catch(w){console.error("Error fetching user profile:",w),Me({title:"Profile Error",description:"Failed to load user profile",variant:"destructive"})}},d=async()=>{t&&await S(t.id)};i.useEffect(()=>{(async()=>{try{const{data:{subscription:w}}=X.auth.onAuthStateChange(async(y,M)=>{console.log("Auth state changed:",y,M?.user?.id),o(M);const x=M?.user??null;r(x),x?setTimeout(()=>{S(x.id)},0):c(null)}),{data:{session:N}}=await X.auth.getSession();return console.log("Current session:",N?.user?.id),o(N),r(N?.user??null),N?.user&&await S(N.user.id),l(!1),()=>{w.unsubscribe()}}catch(w){console.error("Auth initialization error:",w),l(!1)}})()},[]);const g=async(j,w)=>{try{l(!0);const{data:N,error:y}=await X.auth.signInWithPassword({email:j,password:w});if(y)throw y;o(N.session),r(N.user),N.user&&await S(N.user.id),Me({title:"Login successful",description:"Welcome back!"})}catch(N){throw Me({title:"Login failed",description:N?.message||"Failed to login, please try again",variant:"destructive"}),N}finally{l(!1)}},I=async(j,w)=>{try{l(!0),p(null),console.log("Starting signup process with role:",j.role);const N=j.role||"user",{data:y,error:M}=await X.auth.signUp({email:j.email,password:w,options:{data:{name:j.name,role:N}}});if(M)throw console.error("Auth signup error:",M),M;if(!y.user)throw new Error("Failed to create user account");console.log("User created in auth:",y.user.id,"with role:",N),await new Promise(O=>setTimeout(O,200));const x={id:y.user.id,email:j.email,name:j.name,role:N,profile_image:j.profileImage};console.log("Creating user profile:",x);const{error:A}=await X.from("users").insert([x]);if(A)throw console.error("User profile creation error:",A),new Error(`Failed to create user profile: ${A.message}`);if(console.log("User profile created successfully with role:",N),N==="consultant"){console.log("Creating consultant profile for user:",y.user.id);const O={id:y.user.id,specialization:j.specialization||["General Mental Health"],languages:j.languages||["English"],location:j.location||"Remote",bio:j.bio||"",paypal_email:j.paypalEmail||j.email,approval_status:"pending",available:!1,hourly_rate:50,rating:0,review_count:0};console.log("Inserting consultant data:",O);const{error:_}=await X.from("consultants").insert([O]);if(_)throw console.error("Consultant profile creation error:",_),await X.auth.admin.deleteUser(y.user.id),new Error(`Failed to create consultant profile: ${_.message}`);console.log("Consultant profile created successfully with pending status")}await S(y.user.id),console.log("Signup completed successfully for role:",N)}catch(N){throw console.error("Signup process error:",N),p(N.message),N}finally{l(!1)}},f=async()=>{try{l(!0);const{error:j}=await X.auth.signOut();if(j)throw j;c(null),Me({title:"Logged out",description:"You have been logged out successfully"})}catch(j){throw Me({title:"Logout failed",description:j?.message||"Failed to logout, please try again",variant:"destructive"}),j}finally{l(!1)}},C=!!s&&!!t,R=n?.role==="admin"||n?.role==="owner",v=n?.role==="consultant",P=n?.role==="owner";return e.jsx(va.Provider,{value:{user:t,session:s,profile:n,loading:u,error:m,login:g,signup:I,logout:f,isAuthenticated:C,isAdmin:R,isConsultant:v,isOwner:P,refreshProfile:d},children:a})}function Ne(){const a=i.useContext(va);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a}const ne=i.forwardRef(({className:a,type:t,...r},s)=>e.jsx("input",{type:t,className:T("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...r}));ne.displayName="Input";var so="Label",ya=i.forwardRef((a,t)=>e.jsx(ie.label,{...a,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(a.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ya.displayName=so;var ba=ya;const oo=et("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=i.forwardRef(({className:a,...t},r)=>e.jsx(ba,{ref:r,className:T(oo(),a),...t}));G.displayName=ba.displayName;function no(){const[a,t]=i.useState(""),[r,s]=i.useState(""),[o,n]=i.useState(!1),{login:c}=Ne(),u=ze();St();const l=async m=>{m.preventDefault(),n(!0);try{await c(a,r),u("/")}catch(p){console.error("Login error:",p)}finally{n(!1)}};return e.jsxs("div",{className:"w-full max-w-md space-y-6 p-6 bg-white dark:bg-mental-green-950 rounded-lg shadow-md border border-gray-200 dark:border-mental-green-800",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:"/assets/OurMinds.png",alt:"Our Minds Logo",className:"mx-auto h-12 w-12"}),e.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:"Enter your credentials to access your account"})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"email",className:"text-gray-700 dark:text-gray-200",children:"Email"}),e.jsx(ne,{id:"email",type:"email",placeholder:"",value:a,onChange:m=>t(m.target.value),required:!0,autoComplete:"email",className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{htmlFor:"password",className:"text-gray-700 dark:text-gray-200",children:"Password"}),e.jsx(oe,{to:"/forgot-password",className:"text-xs text-mental-green-600 dark:text-mental-green-400 hover:underline",children:"Forgot password?"})]}),e.jsx(ne,{id:"password",type:"password",placeholder:"",value:r,onChange:m=>s(m.target.value),required:!0,autoComplete:"current-password",className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsx(J,{type:"submit",className:"w-full bg-mental-green-600 hover:bg-mental-green-700 dark:bg-mental-green-600 dark:hover:bg-mental-green-500 text-white",disabled:o,children:o?"Logging in...":"Log in"})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Don't have an account? "}),e.jsx(oe,{to:"/signup",className:"text-mental-green-600 dark:text-mental-green-400 hover:underline",children:"Sign up"})]})]})}function io(){const{isAuthenticated:a,loading:t}=Ne(),r=ze(),s=Be();return i.useEffect(()=>{if(!t&&a){console.log("Already authenticated, redirecting");const o=s.state?.from?.pathname||"/";r(o,{replace:!0})}},[a,r,s,t]),t?e.jsx("div",{className:"h-screen flex items-center justify-center bg-mental-green-50 dark:bg-black p-4 overflow-hidden",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsx("div",{className:"h-screen flex items-center justify-center bg-mental-green-50 dark:bg-black p-4 overflow-auto",children:e.jsx(no,{})})}const kt=i.forwardRef(({className:a,...t},r)=>e.jsx("div",{ref:r,className:T("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t}));kt.displayName="Card";const Ct=i.forwardRef(({className:a,...t},r)=>e.jsx("div",{ref:r,className:T("flex flex-col space-y-1.5 p-6",a),...t}));Ct.displayName="CardHeader";const Et=i.forwardRef(({className:a,...t},r)=>e.jsx("h3",{ref:r,className:T("text-2xl font-semibold leading-none tracking-tight",a),...t}));Et.displayName="CardTitle";const Tt=i.forwardRef(({className:a,...t},r)=>e.jsx("p",{ref:r,className:T("text-sm text-muted-foreground",a),...t}));Tt.displayName="CardDescription";const It=i.forwardRef(({className:a,...t},r)=>e.jsx("div",{ref:r,className:T("p-6 pt-0",a),...t}));It.displayName="CardContent";const lo=i.forwardRef(({className:a,...t},r)=>e.jsx("div",{ref:r,className:T("flex items-center p-6 pt-0",a),...t}));lo.displayName="CardFooter";function Ht(a,[t,r]){return Math.min(r,Math.max(t,a))}function co(a){const t=i.useRef({value:a,previous:a});return i.useMemo(()=>(t.current.value!==a&&(t.current.previous=t.current.value,t.current.value=a),t.current.previous),[a])}var uo="VisuallyHidden",wa=i.forwardRef((a,t)=>e.jsx(ie.span,{...a,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...a.style}}));wa.displayName=uo;var mo=[" ","Enter","ArrowUp","ArrowDown"],ho=[" ","Enter"],Fe="Select",[at,rt,po]=wr(Fe),[_e,Un]=jr(Fe,[po,Yt]),st=Yt(),[fo,Se]=_e(Fe),[go,xo]=_e(Fe),ja=a=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:o,onOpenChange:n,value:c,defaultValue:u,onValueChange:l,dir:m,name:p,autoComplete:S,disabled:d,required:g,form:I}=a,f=st(t),[C,R]=i.useState(null),[v,P]=i.useState(null),[j,w]=i.useState(!1),N=Mr(m),[y=!1,M]=Bt({prop:s,defaultProp:o,onChange:n}),[x,A]=Bt({prop:c,defaultProp:u,onChange:l}),O=i.useRef(null),_=C?I||!!C.closest("form"):!0,[K,te]=i.useState(new Set),Q=Array.from(K).map($=>$.props.value).join(";");return e.jsx(_r,{...f,children:e.jsxs(fo,{required:g,scope:t,trigger:C,onTriggerChange:R,valueNode:v,onValueNodeChange:P,valueNodeHasChildren:j,onValueNodeHasChildrenChange:w,contentId:wt(),value:x,onValueChange:A,open:y,onOpenChange:M,dir:N,triggerPointerDownPosRef:O,disabled:d,children:[e.jsx(at.Provider,{scope:t,children:e.jsx(go,{scope:a.__scopeSelect,onNativeOptionAdd:i.useCallback($=>{te(se=>new Set(se).add($))},[]),onNativeOptionRemove:i.useCallback($=>{te(se=>{const E=new Set(se);return E.delete($),E})},[]),children:r})}),_?e.jsxs(Ya,{"aria-hidden":!0,required:g,tabIndex:-1,name:p,autoComplete:S,value:x,onChange:$=>A($.target.value),disabled:d,form:I,children:[x===void 0?e.jsx("option",{value:""}):null,Array.from(K)]},Q):null]})})};ja.displayName=Fe;var Na="SelectTrigger",Sa=i.forwardRef((a,t)=>{const{__scopeSelect:r,disabled:s=!1,...o}=a,n=st(r),c=Se(Na,r),u=c.disabled||s,l=ge(t,c.onTriggerChange),m=rt(r),p=i.useRef("touch"),[S,d,g]=Ka(f=>{const C=m().filter(P=>!P.disabled),R=C.find(P=>P.value===c.value),v=Ga(C,f,R);v!==void 0&&c.onValueChange(v.value)}),I=f=>{u||(c.onOpenChange(!0),g()),f&&(c.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return e.jsx(Nr,{asChild:!0,...n,children:e.jsx(ie.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":qa(c.value)?"":void 0,...o,ref:l,onClick:re(o.onClick,f=>{f.currentTarget.focus(),p.current!=="mouse"&&I(f)}),onPointerDown:re(o.onPointerDown,f=>{p.current=f.pointerType;const C=f.target;C.hasPointerCapture(f.pointerId)&&C.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(I(f),f.preventDefault())}),onKeyDown:re(o.onKeyDown,f=>{const C=S.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&d(f.key),!(C&&f.key===" ")&&mo.includes(f.key)&&(I(),f.preventDefault())})})})});Sa.displayName=Na;var ka="SelectValue",Ca=i.forwardRef((a,t)=>{const{__scopeSelect:r,className:s,style:o,children:n,placeholder:c="",...u}=a,l=Se(ka,r),{onValueNodeHasChildrenChange:m}=l,p=n!==void 0,S=ge(t,l.onValueNodeChange);return je(()=>{m(p)},[m,p]),e.jsx(ie.span,{...u,ref:S,style:{pointerEvents:"none"},children:qa(l.value)?e.jsx(e.Fragment,{children:c}):n})});Ca.displayName=ka;var vo="SelectIcon",Ea=i.forwardRef((a,t)=>{const{__scopeSelect:r,children:s,...o}=a;return e.jsx(ie.span,{"aria-hidden":!0,...o,ref:t,children:s||""})});Ea.displayName=vo;var yo="SelectPortal",Ta=a=>e.jsx(Rr,{asChild:!0,...a});Ta.displayName=yo;var Te="SelectContent",Ia=i.forwardRef((a,t)=>{const r=Se(Te,a.__scopeSelect),[s,o]=i.useState();if(je(()=>{o(new DocumentFragment)},[]),!r.open){const n=s;return n?jt.createPortal(e.jsx(Pa,{scope:a.__scopeSelect,children:e.jsx(at.Slot,{scope:a.__scopeSelect,children:e.jsx("div",{children:a.children})})}),n):null}return e.jsx(Aa,{...a,ref:t})});Ia.displayName=Te;var ue=10,[Pa,ke]=_e(Te),bo="SelectContentImpl",Aa=i.forwardRef((a,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:n,onPointerDownOutside:c,side:u,sideOffset:l,align:m,alignOffset:p,arrowPadding:S,collisionBoundary:d,collisionPadding:g,sticky:I,hideWhenDetached:f,avoidCollisions:C,...R}=a,v=Se(Te,r),[P,j]=i.useState(null),[w,N]=i.useState(null),y=ge(t,b=>j(b)),[M,x]=i.useState(null),[A,O]=i.useState(null),_=rt(r),[K,te]=i.useState(!1),Q=i.useRef(!1);i.useEffect(()=>{if(P)return Sr(P)},[P]),kr();const $=i.useCallback(b=>{const[H,...ee]=_().map(Y=>Y.ref.current),[z]=ee.slice(-1),q=document.activeElement;for(const Y of b)if(Y===q||(Y?.scrollIntoView({block:"nearest"}),Y===H&&w&&(w.scrollTop=0),Y===z&&w&&(w.scrollTop=w.scrollHeight),Y?.focus(),document.activeElement!==q))return},[_,w]),se=i.useCallback(()=>$([M,P]),[$,M,P]);i.useEffect(()=>{K&&se()},[K,se]);const{onOpenChange:E,triggerPointerDownPosRef:Z}=v;i.useEffect(()=>{if(P){let b={x:0,y:0};const H=z=>{b={x:Math.abs(Math.round(z.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(z.pageY)-(Z.current?.y??0))}},ee=z=>{b.x<=10&&b.y<=10?z.preventDefault():P.contains(z.target)||E(!1),document.removeEventListener("pointermove",H),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",ee,{capture:!0})}}},[P,E,Z]),i.useEffect(()=>{const b=()=>E(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[E]);const[Ce,L]=Ka(b=>{const H=_().filter(q=>!q.disabled),ee=H.find(q=>q.ref.current===document.activeElement),z=Ga(H,b,ee);z&&setTimeout(()=>z.ref.current.focus())}),D=i.useCallback((b,H,ee)=>{const z=!Q.current&&!ee;(v.value!==void 0&&v.value===H||z)&&(x(b),z&&(Q.current=!0))},[v.value]),B=i.useCallback(()=>P?.focus(),[P]),ae=i.useCallback((b,H,ee)=>{const z=!Q.current&&!ee;(v.value!==void 0&&v.value===H||z)&&O(b)},[v.value]),ce=s==="popper"?gt:Ra,V=ce===gt?{side:u,sideOffset:l,align:m,alignOffset:p,arrowPadding:S,collisionBoundary:d,collisionPadding:g,sticky:I,hideWhenDetached:f,avoidCollisions:C}:{};return e.jsx(Pa,{scope:r,content:P,viewport:w,onViewportChange:N,itemRefCallback:D,selectedItem:M,onItemLeave:B,itemTextRefCallback:ae,focusSelectedItem:se,selectedItemText:A,position:s,isPositioned:K,searchRef:Ce,children:e.jsx(Cr,{as:qt,allowPinchZoom:!0,children:e.jsx(Er,{asChild:!0,trapped:v.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:re(o,b=>{v.trigger?.focus({preventScroll:!0}),b.preventDefault()}),children:e.jsx(Tr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:c,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:b=>b.preventDefault(),...R,...V,onPlaced:()=>te(!0),ref:y,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:re(R.onKeyDown,b=>{const H=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!H&&b.key.length===1&&L(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let z=_().filter(q=>!q.disabled).map(q=>q.ref.current);if(["ArrowUp","End"].includes(b.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const q=b.target,Y=z.indexOf(q);z=z.slice(Y+1)}setTimeout(()=>$(z)),b.preventDefault()}})})})})})})});Aa.displayName=bo;var wo="SelectItemAlignedPosition",Ra=i.forwardRef((a,t)=>{const{__scopeSelect:r,onPlaced:s,...o}=a,n=Se(Te,r),c=ke(Te,r),[u,l]=i.useState(null),[m,p]=i.useState(null),S=ge(t,y=>p(y)),d=rt(r),g=i.useRef(!1),I=i.useRef(!0),{viewport:f,selectedItem:C,selectedItemText:R,focusSelectedItem:v}=c,P=i.useCallback(()=>{if(n.trigger&&n.valueNode&&u&&m&&f&&C&&R){const y=n.trigger.getBoundingClientRect(),M=m.getBoundingClientRect(),x=n.valueNode.getBoundingClientRect(),A=R.getBoundingClientRect();if(n.dir!=="rtl"){const q=A.left-M.left,Y=x.left-q,xe=y.left-Y,me=y.width+xe,Ie=Math.max(me,M.width),he=window.innerWidth-ue,Le=Ht(Y,[ue,Math.max(ue,he-Ie)]);u.style.minWidth=me+"px",u.style.left=Le+"px"}else{const q=M.right-A.right,Y=window.innerWidth-x.right-q,xe=window.innerWidth-y.right-Y,me=y.width+xe,Ie=Math.max(me,M.width),he=window.innerWidth-ue,Le=Ht(Y,[ue,Math.max(ue,he-Ie)]);u.style.minWidth=me+"px",u.style.right=Le+"px"}const O=d(),_=window.innerHeight-ue*2,K=f.scrollHeight,te=window.getComputedStyle(m),Q=parseInt(te.borderTopWidth,10),$=parseInt(te.paddingTop,10),se=parseInt(te.borderBottomWidth,10),E=parseInt(te.paddingBottom,10),Z=Q+$+K+E+se,Ce=Math.min(C.offsetHeight*5,Z),L=window.getComputedStyle(f),D=parseInt(L.paddingTop,10),B=parseInt(L.paddingBottom,10),ae=y.top+y.height/2-ue,ce=_-ae,V=C.offsetHeight/2,b=C.offsetTop+V,H=Q+$+b,ee=Z-H;if(H<=ae){const q=O.length>0&&C===O[O.length-1].ref.current;u.style.bottom="0px";const Y=m.clientHeight-f.offsetTop-f.offsetHeight,xe=Math.max(ce,V+(q?B:0)+Y+se),me=H+xe;u.style.height=me+"px"}else{const q=O.length>0&&C===O[0].ref.current;u.style.top="0px";const xe=Math.max(ae,Q+f.offsetTop+(q?D:0)+V)+ee;u.style.height=xe+"px",f.scrollTop=H-ae+f.offsetTop}u.style.margin=`${ue}px 0`,u.style.minHeight=Ce+"px",u.style.maxHeight=_+"px",s?.(),requestAnimationFrame(()=>g.current=!0)}},[d,n.trigger,n.valueNode,u,m,f,C,R,n.dir,s]);je(()=>P(),[P]);const[j,w]=i.useState();je(()=>{m&&w(window.getComputedStyle(m).zIndex)},[m]);const N=i.useCallback(y=>{y&&I.current===!0&&(P(),v?.(),I.current=!1)},[P,v]);return e.jsx(No,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:g,onScrollButtonChange:N,children:e.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:e.jsx(ie.div,{...o,ref:S,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Ra.displayName=wo;var jo="SelectPopperPosition",gt=i.forwardRef((a,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:o=ue,...n}=a,c=st(r);return e.jsx(Ir,{...c,...n,ref:t,align:s,collisionPadding:o,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gt.displayName=jo;var[No,Pt]=_e(Te,{}),xt="SelectViewport",Ma=i.forwardRef((a,t)=>{const{__scopeSelect:r,nonce:s,...o}=a,n=ke(xt,r),c=Pt(xt,r),u=ge(t,n.onViewportChange),l=i.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(at.Slot,{scope:r,children:e.jsx(ie.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:re(o.onScroll,m=>{const p=m.currentTarget,{contentWrapper:S,shouldExpandOnScrollRef:d}=c;if(d?.current&&S){const g=Math.abs(l.current-p.scrollTop);if(g>0){const I=window.innerHeight-ue*2,f=parseFloat(S.style.minHeight),C=parseFloat(S.style.height),R=Math.max(f,C);if(R<I){const v=R+g,P=Math.min(I,v),j=v-P;S.style.height=P+"px",S.style.bottom==="0px"&&(p.scrollTop=j>0?j:0,S.style.justifyContent="flex-end")}}}l.current=p.scrollTop})})})]})});Ma.displayName=xt;var _a="SelectGroup",[So,ko]=_e(_a),Co=i.forwardRef((a,t)=>{const{__scopeSelect:r,...s}=a,o=wt();return e.jsx(So,{scope:r,id:o,children:e.jsx(ie.div,{role:"group","aria-labelledby":o,...s,ref:t})})});Co.displayName=_a;var La="SelectLabel",Oa=i.forwardRef((a,t)=>{const{__scopeSelect:r,...s}=a,o=ko(La,r);return e.jsx(ie.div,{id:o.id,...s,ref:t})});Oa.displayName=La;var Xe="SelectItem",[Eo,Da]=_e(Xe),za=i.forwardRef((a,t)=>{const{__scopeSelect:r,value:s,disabled:o=!1,textValue:n,...c}=a,u=Se(Xe,r),l=ke(Xe,r),m=u.value===s,[p,S]=i.useState(n??""),[d,g]=i.useState(!1),I=ge(t,v=>l.itemRefCallback?.(v,s,o)),f=wt(),C=i.useRef("touch"),R=()=>{o||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Eo,{scope:r,value:s,disabled:o,textId:f,isSelected:m,onItemTextChange:i.useCallback(v=>{S(P=>P||(v?.textContent??"").trim())},[]),children:e.jsx(at.ItemSlot,{scope:r,value:s,disabled:o,textValue:p,children:e.jsx(ie.div,{role:"option","aria-labelledby":f,"data-highlighted":d?"":void 0,"aria-selected":m&&d,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:I,onFocus:re(c.onFocus,()=>g(!0)),onBlur:re(c.onBlur,()=>g(!1)),onClick:re(c.onClick,()=>{C.current!=="mouse"&&R()}),onPointerUp:re(c.onPointerUp,()=>{C.current==="mouse"&&R()}),onPointerDown:re(c.onPointerDown,v=>{C.current=v.pointerType}),onPointerMove:re(c.onPointerMove,v=>{C.current=v.pointerType,o?l.onItemLeave?.():C.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(c.onPointerLeave,v=>{v.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:re(c.onKeyDown,v=>{l.searchRef?.current!==""&&v.key===" "||(ho.includes(v.key)&&R(),v.key===" "&&v.preventDefault())})})})})});za.displayName=Xe;var Oe="SelectItemText",Ba=i.forwardRef((a,t)=>{const{__scopeSelect:r,className:s,style:o,...n}=a,c=Se(Oe,r),u=ke(Oe,r),l=Da(Oe,r),m=xo(Oe,r),[p,S]=i.useState(null),d=ge(t,R=>S(R),l.onItemTextChange,R=>u.itemTextRefCallback?.(R,l.value,l.disabled)),g=p?.textContent,I=i.useMemo(()=>e.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:f,onNativeOptionRemove:C}=m;return je(()=>(f(I),()=>C(I)),[f,C,I]),e.jsxs(e.Fragment,{children:[e.jsx(ie.span,{id:l.textId,...n,ref:d}),l.isSelected&&c.valueNode&&!c.valueNodeHasChildren?jt.createPortal(n.children,c.valueNode):null]})});Ba.displayName=Oe;var Fa="SelectItemIndicator",Wa=i.forwardRef((a,t)=>{const{__scopeSelect:r,...s}=a;return Da(Fa,r).isSelected?e.jsx(ie.span,{"aria-hidden":!0,...s,ref:t}):null});Wa.displayName=Fa;var vt="SelectScrollUpButton",Va=i.forwardRef((a,t)=>{const r=ke(vt,a.__scopeSelect),s=Pt(vt,a.__scopeSelect),[o,n]=i.useState(!1),c=ge(t,s.onScrollButtonChange);return je(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=l.scrollTop>0;n(m)};const l=r.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?e.jsx(Ua,{...a,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:l}=r;u&&l&&(u.scrollTop=u.scrollTop-l.offsetHeight)}}):null});Va.displayName=vt;var yt="SelectScrollDownButton",Ha=i.forwardRef((a,t)=>{const r=ke(yt,a.__scopeSelect),s=Pt(yt,a.__scopeSelect),[o,n]=i.useState(!1),c=ge(t,s.onScrollButtonChange);return je(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=l.scrollHeight-l.clientHeight,p=Math.ceil(l.scrollTop)<m;n(p)};const l=r.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?e.jsx(Ua,{...a,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:l}=r;u&&l&&(u.scrollTop=u.scrollTop+l.offsetHeight)}}):null});Ha.displayName=yt;var Ua=i.forwardRef((a,t)=>{const{__scopeSelect:r,onAutoScroll:s,...o}=a,n=ke("SelectScrollButton",r),c=i.useRef(null),u=rt(r),l=i.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return i.useEffect(()=>()=>l(),[l]),je(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),e.jsx(ie.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:re(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:re(o.onPointerMove,()=>{n.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:re(o.onPointerLeave,()=>{l()})})}),To="SelectSeparator",$a=i.forwardRef((a,t)=>{const{__scopeSelect:r,...s}=a;return e.jsx(ie.div,{"aria-hidden":!0,...s,ref:t})});$a.displayName=To;var bt="SelectArrow",Io=i.forwardRef((a,t)=>{const{__scopeSelect:r,...s}=a,o=st(r),n=Se(bt,r),c=ke(bt,r);return n.open&&c.position==="popper"?e.jsx(Pr,{...o,...s,ref:t}):null});Io.displayName=bt;function qa(a){return a===""||a===void 0}var Ya=i.forwardRef((a,t)=>{const{value:r,...s}=a,o=i.useRef(null),n=ge(t,o),c=co(r);return i.useEffect(()=>{const u=o.current,l=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(l,"value").set;if(c!==r&&p){const S=new Event("change",{bubbles:!0});p.call(u,r),u.dispatchEvent(S)}},[c,r]),e.jsx(wa,{asChild:!0,children:e.jsx("select",{...s,ref:n,defaultValue:r})})});Ya.displayName="BubbleSelect";function Ka(a){const t=Ar(a),r=i.useRef(""),s=i.useRef(0),o=i.useCallback(c=>{const u=r.current+c;t(u),function l(m){r.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(u)},[t]),n=i.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,o,n]}function Ga(a,t,r){const o=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,n=r?a.indexOf(r):-1;let c=Po(a,Math.max(n,0));o.length===1&&(c=c.filter(m=>m!==r));const l=c.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==r?l:void 0}function Po(a,t){return a.map((r,s)=>a[(t+s)%a.length])}var Ao=ja,Qa=Sa,Ro=Ca,Mo=Ea,_o=Ta,Za=Ia,Lo=Ma,Xa=Oa,Ja=za,Oo=Ba,Do=Wa,er=Va,tr=Ha,ar=$a;const At=Ao,Rt=Ro,ot=i.forwardRef(({className:a,children:t,...r},s)=>e.jsxs(Qa,{ref:s,className:T("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[t,e.jsx(Mo,{asChild:!0,children:e.jsx(ha,{className:"h-4 w-4 opacity-50"})})]}));ot.displayName=Qa.displayName;const rr=i.forwardRef(({className:a,...t},r)=>e.jsx(er,{ref:r,className:T("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx(Rs,{className:"h-4 w-4"})}));rr.displayName=er.displayName;const sr=i.forwardRef(({className:a,...t},r)=>e.jsx(tr,{ref:r,className:T("flex cursor-default items-center justify-center py-1",a),...t,children:e.jsx(ha,{className:"h-4 w-4"})}));sr.displayName=tr.displayName;const nt=i.forwardRef(({className:a,children:t,position:r="popper",...s},o)=>e.jsx(_o,{children:e.jsxs(Za,{ref:o,className:T("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...s,children:[e.jsx(rr,{}),e.jsx(Lo,{className:T("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(sr,{})]})}));nt.displayName=Za.displayName;const zo=i.forwardRef(({className:a,...t},r)=>e.jsx(Xa,{ref:r,className:T("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...t}));zo.displayName=Xa.displayName;const De=i.forwardRef(({className:a,children:t,...r},s)=>e.jsxs(Ja,{ref:s,className:T("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Do,{children:e.jsx(ma,{className:"h-4 w-4"})})}),e.jsx(Oo,{children:t})]}));De.displayName=Ja.displayName;const Bo=i.forwardRef(({className:a,...t},r)=>e.jsx(ar,{ref:r,className:T("-mx-1 my-1 h-px bg-muted",a),...t}));Bo.displayName=ar.displayName;const Je=i.forwardRef(({className:a,...t},r)=>e.jsx("textarea",{className:T("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...t}));Je.displayName="Textarea";const Fo=et("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function or({className:a,variant:t,...r}){return e.jsx("div",{className:T(Fo({variant:t}),a),...r})}const Wo=["Anxiety","Depression","Stress Management","Relationship Counseling","Family Therapy","Trauma Therapy","Addiction Counseling","Career Counseling","Life Coaching","Grief Counseling","Child Psychology","Adolescent Therapy","Group Therapy","Cognitive Behavioral Therapy","Mindfulness-Based Therapy"];function Vo({specializations:a,onSpecializationsChange:t,isLoading:r}){const[s,o]=i.useState(""),n=l=>{l&&!a.includes(l)&&t([...a,l])},c=l=>{t(a.filter(m=>m!==l))},u=()=>{s.trim()&&(n(s.trim()),o(""))};return e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.map(l=>e.jsxs(or,{variant:"secondary",className:"flex items-center gap-1",children:[l,e.jsx(tt,{className:"h-3 w-3 cursor-pointer",onClick:()=>c(l)})]},l))}),e.jsxs(At,{onValueChange:n,disabled:r,children:[e.jsx(ot,{className:"text-black",children:e.jsx(Rt,{className:"text-black",placeholder:"Add a specialization"})}),e.jsx(nt,{children:Wo.filter(l=>!a.includes(l)).map(l=>e.jsx(De,{value:l,children:l},l))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{placeholder:"Custom specialization",value:s,onChange:l=>o(l.target.value),disabled:r,className:"text-black"}),e.jsx(J,{type:"button",variant:"outline",size:"icon",onClick:u,disabled:r,className:"text-black",children:e.jsx(xa,{className:"h-4 w-4"})})]})]})}const Ho=["English","Spanish","French","German","Italian","Portuguese","Mandarin","Japanese","Korean","Arabic","Hindi","Russian","Dutch","Swedish","Norwegian"];function Uo({languages:a,onLanguagesChange:t,isLoading:r}){const[s,o]=i.useState(""),n=l=>{l&&!a.includes(l)&&t([...a,l])},c=l=>{a.length>1&&t(a.filter(m=>m!==l))},u=()=>{s.trim()&&(n(s.trim()),o(""))};return e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Languages"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:a.map(l=>e.jsxs(or,{variant:"secondary",className:"flex items-center gap-1",children:[l,a.length>1&&e.jsx(tt,{className:"h-3 w-3 cursor-pointer",onClick:()=>c(l)})]},l))}),e.jsxs(At,{onValueChange:n,disabled:r,children:[e.jsx(ot,{className:"text-black",children:e.jsx(Rt,{className:"text-black",placeholder:"Add a language"})}),e.jsx(nt,{children:Ho.filter(l=>!a.includes(l)).map(l=>e.jsx(De,{value:l,children:l},l))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ne,{placeholder:"Custom language",value:s,onChange:l=>o(l.target.value),disabled:r,className:"text-black"}),e.jsx(J,{type:"button",variant:"outline",size:"icon",onClick:u,disabled:r,className:"text-black",children:e.jsx(xa,{className:"h-4 w-4"})})]})]})}function $o({consultantData:a,setConsultantData:t,isLoading:r}){const s=(o,n)=>{t(c=>({...c,[o]:n}))};return e.jsxs("div",{className:"space-y-4 border-t border-gray-200 dark:border-gray-600 pt-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Consultant Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"bio",className:"text-gray-700 dark:text-gray-200",children:"Professional Bio"}),e.jsx(Je,{id:"bio",value:a.bio,onChange:o=>s("bio",o.target.value),placeholder:"Tell us about your background, experience, and approach to mental health support...",rows:4,disabled:r,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"location",className:"text-gray-700 dark:text-gray-200",children:"Location"}),e.jsx(ne,{id:"location",value:a.location,onChange:o=>s("location",o.target.value),placeholder:"Remote, City, Country",disabled:r,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"hourlyRate",className:"text-gray-700 dark:text-gray-200",children:"Hourly Rate (USD)"}),e.jsx(ne,{id:"hourlyRate",type:"number",min:"1",step:"0.01",value:a.hourlyRate,onChange:o=>s("hourlyRate",o.target.value),placeholder:"50.00",disabled:r,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"paypalEmail",className:"text-gray-700 dark:text-gray-200",children:"PayPal Email"}),e.jsx(ne,{id:"paypalEmail",type:"email",value:a.paypalEmail,onChange:o=>s("paypalEmail",o.target.value),placeholder:"your-paypal@email.com",disabled:r,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsx(Vo,{specializations:a.specializations,onSpecializationsChange:o=>s("specializations",o),isLoading:r}),e.jsx(Uo,{languages:a.languages,onLanguagesChange:o=>s("languages",o),isLoading:r})]})}function qo(){const a=ze(),{signup:t}=Ne(),{toast:r}=St(),[s,o]=i.useState({name:"",email:"",password:"",confirmPassword:"",role:"user"}),[n,c]=i.useState({bio:"",location:"Remote",hourlyRate:"",paypalEmail:"",specializations:[],languages:["English"]}),[u,l]=i.useState(!1),m=d=>{const{name:g,value:I}=d.target;o(f=>({...f,[g]:I}))},p=()=>{if(!s.name.trim())return r({title:"Validation Error",description:"Name is required",variant:"destructive"}),!1;if(!s.email.trim())return r({title:"Validation Error",description:"Email is required",variant:"destructive"}),!1;if(s.password.length<6)return r({title:"Validation Error",description:"Password must be at least 6 characters",variant:"destructive"}),!1;if(s.password!==s.confirmPassword)return r({title:"Validation Error",description:"Passwords do not match",variant:"destructive"}),!1;if(s.role==="consultant"){if(!n.bio.trim())return r({title:"Validation Error",description:"Bio is required for consultants",variant:"destructive"}),!1;if(!n.paypalEmail.trim())return r({title:"Validation Error",description:"PayPal email is required for consultants",variant:"destructive"}),!1;if(!n.hourlyRate||parseFloat(n.hourlyRate)<=0)return r({title:"Validation Error",description:"Valid hourly rate is required for consultants",variant:"destructive"}),!1;if(n.specializations.length===0)return r({title:"Validation Error",description:"At least one specialization is required for consultants",variant:"destructive"}),!1}return!0},S=async d=>{if(d.preventDefault(),!!p()){l(!0),console.log("Starting signup process..."),console.log("Form data:",{...s,password:"[REDACTED]"}),console.log("Consultant data:",n);try{const g={email:s.email,name:s.name,role:s.role,specialization:s.role==="consultant"?n.specializations:void 0,languages:s.role==="consultant"?n.languages:void 0,location:s.role==="consultant"?n.location:void 0,paypalEmail:s.role==="consultant"?n.paypalEmail:void 0,bio:s.role==="consultant"?n.bio:void 0};await t(g,s.password),s.role==="consultant"?r({title:"Application Submitted!",description:"Your consultant application has been submitted for review. You'll be notified once it's approved."}):r({title:"Account Created!",description:"Your account has been created successfully."}),a("/")}catch(g){console.error("Signup process failed:",g),r({title:"Signup Failed",description:g.message||"An unexpected error occurred during signup.",variant:"destructive"})}finally{l(!1)}}};return e.jsx("div",{className:"w-full max-w-2xl mx-auto",children:e.jsxs(kt,{className:"bg-white dark:bg-mental-green-950 border-gray-200 dark:border-mental-green-800 text-gray-900 dark:text-white",children:[e.jsxs(Ct,{className:"space-y-1",children:[e.jsx("img",{src:"/assets/OurMinds.png",alt:"Our Minds Logo",className:"mx-auto h-12 w-12"}),e.jsx(Et,{className:"text-2xl text-center text-gray-900 dark:text-white",children:"Create an Account"}),e.jsx(Tt,{className:"text-center text-gray-600 dark:text-gray-300",children:"Join our mental health support community"})]}),e.jsx(It,{children:e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"name",className:"text-gray-700 dark:text-gray-200",children:"Full Name"}),e.jsx(ne,{id:"name",name:"name",type:"text",value:s.name,onChange:m,required:!0,disabled:u,className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"email",className:"text-gray-700 dark:text-gray-200",children:"Email"}),e.jsx(ne,{id:"email",name:"email",type:"email",value:s.email,onChange:m,required:!0,disabled:u,className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"role",className:"text-gray-700 dark:text-gray-200",children:"Account Type"}),e.jsxs(At,{value:s.role,onValueChange:d=>o(g=>({...g,role:d})),disabled:u,children:[e.jsx(ot,{className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600",children:e.jsx(Rt,{})}),e.jsxs(nt,{className:"bg-white dark:bg-[#212121] border-gray-300 dark:border-gray-600",children:[e.jsx(De,{value:"user",className:"text-gray-900 dark:text-gray-100",children:"User"}),e.jsx(De,{value:"consultant",className:"text-gray-900 dark:text-gray-100",children:"Consultant"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"password",className:"text-gray-700 dark:text-gray-200",children:"Password"}),e.jsx(ne,{id:"password",name:"password",type:"password",value:s.password,onChange:m,required:!0,disabled:u,className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600",minLength:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"confirmPassword",className:"text-gray-700 dark:text-gray-200",children:"Confirm Password"}),e.jsx(ne,{id:"confirmPassword",name:"confirmPassword",type:"password",value:s.confirmPassword,onChange:m,required:!0,disabled:u,className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600",minLength:6})]}),s.role==="consultant"&&e.jsx($o,{consultantData:n,setConsultantData:c,isLoading:u}),e.jsx(J,{type:"submit",className:"w-full bg-mental-green-600 hover:bg-mental-green-700 dark:bg-mental-green-600 dark:hover:bg-mental-green-500 text-white",disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Ls,{className:"mr-2 h-4 w-4 animate-spin"}),s.role==="consultant"?"Submitting Application...":"Creating Account..."]}):s.role==="consultant"?"Submit Application":"Create Account"}),e.jsxs("div",{className:"text-center text-sm pt-2",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Already have an account?"," "]}),e.jsx(oe,{to:"/login",className:"text-mental-green-600 dark:text-mental-green-400 hover:underline font-medium transition-colors",children:"Login"})]})]})})]})})}function Yo(){const{isAuthenticated:a}=Ne(),t=ze();return i.useEffect(()=>{a&&t("/")},[a,t]),e.jsx("div",{className:"h-screen flex items-center justify-center bg-mental-green-50 dark:bg-black p-4 overflow-auto",children:e.jsx(qo,{})})}const Ko=()=>{const a=Be();return i.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",a.pathname)},[a.pathname]),e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-100 overflow-hidden",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},nr=i.createContext(void 0);function Go({children:a}){const{data:t,isLoading:r,error:s}=ia({queryKey:["platform-settings-public"],queryFn:async()=>{const{data:n,error:c}=await X.from("platform_settings").select("*").order("created_at",{ascending:!0}).limit(1).maybeSingle();return c?(console.error("Error fetching platform settings:",c),{platformName:"Mental Health Platform",contactEmail:"support@example.com",platformFee:4,enableChat:!0,enableBooking:!0,enableStories:!0,mission:"Our mission is to make mental health support accessible to everyone, everywhere.",vision:"We envision a world where mental health is treated with the same importance as physical health.",values:"Compassion, Accessibility, Quality, Privacy, and Inclusion."}):n?{platformName:n.mission?.split(" - ")?.[0]||"Mental Health Platform",contactEmail:n.contact_email||"support@example.com",platformFee:n.platform_fee_percentage||4,enableChat:n.enable_chat??!0,enableBooking:n.enable_booking??!0,enableStories:n.enable_stories??!0,mission:n.mission||"Our mission is to make mental health support accessible to everyone, everywhere.",vision:n.vision||"We envision a world where mental health is treated with the same importance as physical health.",values:n.values||"Compassion, Accessibility, Quality, Privacy, and Inclusion."}:{platformName:"Mental Health Platform",contactEmail:"support@example.com",platformFee:4,enableChat:!0,enableBooking:!0,enableStories:!0,mission:"Our mission is to make mental health support accessible to everyone, everywhere.",vision:"We envision a world where mental health is treated with the same importance as physical health.",values:"Compassion, Accessibility, Quality, Privacy, and Inclusion."}},staleTime:3e5,refetchOnWindowFocus:!1}),o={settings:t,isLoading:r,error:s,isChatEnabled:t?.enableChat??!0,isBookingEnabled:t?.enableBooking??!0,isStoriesEnabled:t?.enableStories??!0};return e.jsx(nr.Provider,{value:o,children:a})}function Mt(){const a=i.useContext(nr);if(a===void 0)throw new Error("useFeatureFlags must be used within a FeatureFlagsProvider");return a}function Qo(){const{settings:a}=Mt();return a}function Zo(a){const{isChatEnabled:t,isBookingEnabled:r,isStoriesEnabled:s}=Mt();switch(a){case"chat":return t;case"booking":return r;case"stories":return s;default:return!1}}const Ue=({children:a,requireAdmin:t=!1})=>{const{isAuthenticated:r,isAdmin:s,loading:o,session:n}=Ne(),c=Be();return o?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):!r||!n?(console.log("Not authenticated or missing session, redirecting to login"),e.jsx(mt,{to:"/login",state:{from:c},replace:!0})):t&&!s?(console.log("Admin access required but user is not admin, redirecting to home"),e.jsx(mt,{to:"/home",replace:!0})):e.jsx(e.Fragment,{children:a})},Xo=Or,Jo=Dr,en=i.forwardRef(({className:a,inset:t,children:r,...s},o)=>e.jsxs(Kt,{ref:o,className:T("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",a),...s,children:[r,e.jsx(As,{className:"ml-auto h-4 w-4"})]}));en.displayName=Kt.displayName;const tn=i.forwardRef(({className:a,...t},r)=>e.jsx(Gt,{ref:r,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...t}));tn.displayName=Gt.displayName;const ir=i.forwardRef(({className:a,sideOffset:t=4,...r},s)=>e.jsx(Lr,{children:e.jsx(Qt,{ref:s,sideOffset:t,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...r})}));ir.displayName=Qt.displayName;const Qe=i.forwardRef(({className:a,inset:t,...r},s)=>e.jsx(Zt,{ref:s,className:T("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",a),...r}));Qe.displayName=Zt.displayName;const an=i.forwardRef(({className:a,children:t,checked:r,...s},o)=>e.jsxs(Xt,{ref:o,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:r,...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Jt,{children:e.jsx(ma,{className:"h-4 w-4"})})}),t]}));an.displayName=Xt.displayName;const rn=i.forwardRef(({className:a,children:t,...r},s)=>e.jsxs(ea,{ref:s,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Jt,{children:e.jsx(Ms,{className:"h-2 w-2 fill-current"})})}),t]}));rn.displayName=ea.displayName;const lr=i.forwardRef(({className:a,inset:t,...r},s)=>e.jsx(ta,{ref:s,className:T("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",a),...r}));lr.displayName=ta.displayName;const Ze=i.forwardRef(({className:a,...t},r)=>e.jsx(aa,{ref:r,className:T("-mx-1 my-1 h-px bg-muted",a),...t}));Ze.displayName=aa.displayName;const sn=Fr,on=Wr,nn=Br,cr=i.forwardRef(({className:a,...t},r)=>e.jsx(ra,{ref:r,className:T("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...t}));cr.displayName=ra.displayName;const dr=i.forwardRef(({className:a,children:t,...r},s)=>e.jsxs(nn,{children:[e.jsx(cr,{}),e.jsxs(sa,{ref:s,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...r,children:[t,e.jsxs(zr,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(tt,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dr.displayName=sa.displayName;const ur=({className:a,...t})=>e.jsx("div",{className:T("flex flex-col space-y-1.5 text-center sm:text-left",a),...t});ur.displayName="DialogHeader";const mr=i.forwardRef(({className:a,...t},r)=>e.jsx(oa,{ref:r,className:T("text-lg font-semibold leading-none tracking-tight",a),...t}));mr.displayName=oa.displayName;const ln=i.forwardRef(({className:a,...t},r)=>e.jsx(na,{ref:r,className:T("text-sm text-muted-foreground",a),...t}));ln.displayName=na.displayName;function cn({imagePreview:a,onImageSelect:t,onImageRemove:r}){const s=o=>{o.target.files&&o.target.files[0]&&t(o.target.files[0])};return e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"coverImage",children:"Cover Image"}),e.jsx("div",{className:"flex items-center gap-4",children:a?e.jsxs("div",{className:"relative w-32 h-32",children:[e.jsx("img",{src:a,alt:"Story cover",className:"w-full h-full object-cover rounded-lg"}),e.jsx(J,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1",onClick:r,children:""})]}):e.jsxs("div",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(ne,{type:"file",id:"coverImage",accept:"image/*",onChange:s,className:"hidden"}),e.jsxs("label",{htmlFor:"coverImage",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(Hs,{className:"w-8 h-8 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Upload Image"})]})]})})]})}const Ut=[{value:"mental",label:"Mental Health"},{value:"control",label:"Self Control"},{value:"drugs",label:"Substance Abuse"},{value:"life",label:"Life Skills"},{value:"anxiety",label:"Anxiety"},{value:"depression",label:"Depression"}];function dn({onClose:a,story:t}){const{toast:r}=St(),s=ze(),{user:o}=Ne(),[n,c]=i.useState(1),[u,l]=i.useState(!1),[m,p]=i.useState({title:t?.title||"",snippet:t?.snippet||"",content:t?.content||"",tags:t?.tags||["Mental Health"],tagType:t?.tag_type||"mental",coverImage:t?.cover_image||"",isAnonymous:t?.is_anonymous||!1}),[S,d]=i.useState(null),[g,I]=i.useState(t?.cover_image||"");i.useEffect(()=>{t&&(I(t.cover_image),p({title:t.title,snippet:t.snippet,content:t.content,tags:t.tags,tagType:t.tag_type,coverImage:t.cover_image,isAnonymous:t.is_anonymous||!1}))},[t]);const f=x=>{const{name:A,value:O}=x.target;p(_=>({..._,[A]:O}))},C=x=>{d(x),I(URL.createObjectURL(x)),p(A=>({...A,coverImage:URL.createObjectURL(x)}))},R=()=>{d(null),I(""),p(x=>({...x,coverImage:""}))},v=x=>{const A=x.target.value,O=Ut.find(_=>_.value===A)?.label||"";p(_=>({..._,tagType:A,tags:[O,..._.tags.slice(1)]}))},P=async x=>{try{const A=x.name.split(".").pop(),_=`${`${Math.random().toString(36).substring(2,15)}.${A}`}`,{error:K}=await X.storage.from("story_images").upload(_,x);if(K)throw K;const{data:{publicUrl:te}}=X.storage.from("story_images").getPublicUrl(_);return te}catch(A){throw console.error("Error uploading image:",A),A}},j=async x=>{if(x.preventDefault(),!o){r({title:"Authentication required",description:"You must be logged in to create a story",variant:"destructive"});return}if(!m.title||!m.content){r({title:"Missing information",description:"Please provide a title and content for your story",variant:"destructive"});return}l(!0);try{let A=m.coverImage;S&&(A=await P(S));const{data:O}=await X.auth.getSession();if(!O.session)throw new Error("You must be logged in to create a story");const _={title:m.title,snippet:m.snippet||m.content.slice(0,100)+"...",content:m.content,cover_image:A,author_id:o.id,tags:m.tags,tag_type:m.tagType,is_featured:t?t.is_featured:!1,published_at:t?t.published_at:new Date().toISOString(),is_anonymous:m.isAnonymous};let K;t?K=await X.from("stories").update(_).eq("id",t.id).eq("author_id",o.id).select("id").single():K=await X.from("stories").insert(_).select("id").single();const{data:te,error:Q}=K;if(Q)throw console.error("Supabase error details:",Q),Q;r({title:t?"Story updated!":"Story published!",description:t?"Your story has been updated successfully":"Your story has been published successfully"}),a(),setTimeout(()=>{t?window.location.reload():s(`/story/${te.id}`)},500)}catch(A){console.error("Error creating/updating story:",A),r({title:t?"Failed to update story":"Failed to create story",description:A?.message||"There was an error. Please try again.",variant:"destructive"})}finally{l(!1)}},w=m.title.trim()&&m.content.trim(),N=w&&m.snippet.trim(),y=()=>{if(n===1&&!w){r({title:"Missing information",description:"Please provide both title and content",variant:"destructive"});return}if(n===2&&!N){r({title:"Missing information",description:"Please provide a description",variant:"destructive"});return}c(x=>Math.min(x+1,3))},M=()=>{c(x=>Math.max(x-1,1))};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-6 pb-4 border-b border-border/30",children:[1,2,3].map(x=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${x===n?"bg-primary text-primary-foreground shadow-lg":x<n?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"}`,children:x}),x<3&&e.jsx("div",{className:`w-12 h-0.5 mx-1 transition-colors ${x<n?"bg-primary":"bg-muted"}`})]},x))}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[n===1&&e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"title",className:"text-base font-semibold",children:"Story Title"}),e.jsx(ne,{id:"title",name:"title",value:m.title,onChange:f,onKeyDown:x=>{x.key==="Enter"&&x.preventDefault()},placeholder:"Give your story a compelling title...",className:"text-lg font-medium",autoFocus:!0})]}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx(G,{htmlFor:"content",className:"text-base font-semibold",children:"Your Story"}),e.jsx(Je,{id:"content",name:"content",value:m.content,onChange:f,placeholder:"Share your journey, experiences, and insights...",className:"min-h-[300px] resize-none"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.content.length," characters"]})]})]}),n===2&&e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"snippet",className:"text-base font-semibold",children:"Short Description"}),e.jsx(Je,{id:"snippet",name:"snippet",value:m.snippet,onChange:f,placeholder:"Write a brief description that will appear in previews (recommended 150-200 characters)",className:"min-h-[100px] resize-none",autoFocus:!0}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.snippet.length," characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{className:"text-base font-semibold",children:"Cover Image"}),e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6 hover:border-primary/50 transition-colors",children:e.jsx(cn,{imagePreview:g,onImageSelect:C,onImageRemove:R})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a cover image to make your story stand out"})]})]}),n===3&&e.jsx("div",{className:"space-y-6 flex-1 overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(_s,{className:"w-5 h-5"}),"Preview & Publish"]}),e.jsxs("div",{className:"border border-border rounded-lg p-6 bg-muted/30 space-y-4",children:[g&&e.jsx("div",{className:"w-full h-48 rounded-lg overflow-hidden",children:e.jsx("img",{src:g,alt:"Story cover",className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:m.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:m.snippet||m.content.slice(0,150)+"..."})]}),e.jsx("div",{className:"pt-2 border-t border-border/50",children:e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:m.content})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"tagType",className:"text-base font-semibold",children:"Primary Category"}),e.jsx("select",{id:"tagType",name:"tagType",className:"w-full h-11 px-3 rounded-md border border-input bg-background focus:outline-none focus:ring-2 focus:ring-ring",value:m.tagType,onChange:v,children:Ut.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose the category that best describes your story"})]}),e.jsx("div",{className:"space-y-3 p-4 border border-border rounded-lg bg-muted/20",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx(G,{htmlFor:"isAnonymous",className:"text-base font-semibold cursor-pointer",children:"Publish Anonymously"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Your story will be public on the website but hidden from your public profile. Only you can see it in your profile."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"isAnonymous",checked:m.isAnonymous,onChange:x=>p(A=>({...A,isAnonymous:x.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-muted peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-ring rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]})]})})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-border/30 gap-3",children:[e.jsx("div",{className:"flex gap-2",children:n>1&&e.jsxs(J,{type:"button",variant:"outline",onClick:M,className:"gap-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),"Back"]})}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx(J,{type:"button",variant:"ghost",onClick:a,children:"Cancel"}),n<3?e.jsxs(J,{type:"button",onClick:y,className:"gap-2 bg-primary hover:bg-primary/90",children:["Next",e.jsx(Is,{className:"w-4 h-4"})]}):e.jsx(J,{type:"button",onClick:j,disabled:u,className:"gap-2 bg-primary hover:bg-primary/90",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground/30 border-t-primary-foreground rounded-full animate-spin"}),t?"Updating...":"Publishing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zs,{className:"w-4 h-4"}),t?"Update Story":"Publish Story"]})})]})]})]})]})}function $t({children:a,story:t,onOpenChange:r}){const[s,o]=i.useState(!1),n=c=>{o(c),r&&r(c)};return i.useEffect(()=>{t&&o(!0)},[t]),e.jsxs(sn,{open:s,onOpenChange:n,children:[e.jsx(on,{asChild:!0,children:a}),e.jsxs(dr,{className:"sm:max-w-[650px] max-h-[90vh] overflow-hidden bg-background border border-border shadow-2xl rounded-xl p-0",children:[e.jsx(ur,{className:"px-6 pt-6 pb-4 border-b border-border/50",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:t?e.jsx(ua,{className:"w-5 h-5 text-primary"}):e.jsx(Fs,{className:"w-5 h-5 text-primary"})}),e.jsx(mr,{className:"text-xl font-semibold",children:t?"Edit Story":"Create a Story"})]})})}),e.jsx("div",{className:"px-6 py-4 max-h-[calc(90vh-100px)] overflow-y-auto",children:e.jsx(dn,{story:t,onClose:()=>n(!1)})})]})]})}function un(){const{theme:a,setTheme:t}=Xr();return e.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>t(a==="light"?"dark":"light"),className:"w-full justify-start",children:[e.jsx(Ws,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(Os,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"ml-2",children:a==="light"?"Switch to Dark":"Switch to Light"})]})}function mn(){const{profile:a,isAuthenticated:t,isAdmin:r,logout:s}=Ne(),{isStoriesEnabled:o,isChatEnabled:n,isBookingEnabled:c}=Mt(),u=Qo();i.useState(!1);const l=u?.platformName||"OUR MINDS";return e.jsx("header",{className:"sticky top-0 z-[100] w-full bg-[#025803] border-b border-[#025803]/20 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-14 px-4 max-w-full",children:[e.jsx("div",{className:"flex items-center space-x-4 min-w-0 flex-shrink-0",children:e.jsxs(oe,{to:"/",className:"flex items-center space-x-3 group",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:"/assets/OurMinds.png",alt:"Our Minds Logo",className:"h-8 w-8 rounded-md object-cover group-hover:opacity-90 transition-all duration-200"})}),e.jsx("span",{className:"text-xl font-bold text-white tracking-tight hidden sm:block group-hover:text-white/90 transition-colors",children:l})]})}),e.jsx("div",{className:"flex items-center justify-center flex-1",children:e.jsxs("nav",{className:"hidden lg:flex items-center space-x-1",children:[e.jsx(oe,{to:"/",className:"px-4 py-2 text-sm font-medium text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:"Home"}),e.jsx(oe,{to:"/about",className:"px-4 py-2 text-sm font-medium text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:"About"}),t&&e.jsxs(e.Fragment,{children:[n,c]}),!t]})}),e.jsx("div",{className:"flex items-center space-x-3 flex-shrink-0",children:t?e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"hidden sm:block",children:e.jsx($t,{children:e.jsx(J,{variant:"ghost",size:"sm",className:"px-4 py-2 text-sm font-medium text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 h-auto",children:"Share"})})}),o&&e.jsx("div",{className:"sm:hidden",children:e.jsx($t,{children:e.jsx(J,{variant:"ghost",size:"sm",className:"group relative p-2.5 text-white hover:bg-white/15 rounded-xl transition-all duration-300 hover:scale-110 active:scale-95",children:e.jsxs("div",{className:"relative",children:[e.jsx(Bs,{size:18,className:"transition-transform duration-300 group-hover:rotate-12"}),e.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full scale-0 group-hover:scale-100 transition-transform duration-300 -z-10"})]})})})}),e.jsxs(Xo,{children:[e.jsx(Jo,{asChild:!0,children:e.jsx(J,{variant:"ghost",size:"sm",className:"p-1 rounded-full hover:bg-white/10",children:a?.profileImage?e.jsx("img",{src:a.profileImage,alt:a.name,className:"h-8 w-8 rounded-full object-cover"}):e.jsx("span",{className:"h-8 w-8 rounded-full bg-white flex items-center justify-center text-sm font-semibold text-[#025803]",children:a?.name?.charAt(0)||"U"})})}),e.jsxs(ir,{align:"end",className:"w-56 mt-2 z-[110]",children:[e.jsx(lr,{children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"font-medium",children:a?.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a?.email})]})}),e.jsx(Ze,{}),e.jsx(Qe,{asChild:!0,children:e.jsx(oe,{to:"/profile",className:"cursor-pointer",children:"Profile"})}),r&&e.jsx(Qe,{asChild:!0,children:e.jsx(oe,{to:"/admin",className:"cursor-pointer",children:"Admin Panel"})}),e.jsx(Ze,{}),e.jsx("div",{className:"p-1",children:e.jsx(un,{})}),e.jsx(Ze,{}),e.jsx(Qe,{onClick:()=>s(),className:"cursor-pointer",children:"Log out"})]})]})]}):e.jsx(oe,{to:"/login",children:e.jsx(J,{variant:"default",size:"sm",className:"bg-white text-[#025803] hover:bg-white/90 font-medium px-5 h-9",children:"Sign in"})})})]})})}function hn({className:a}){const t=Be(),{isAuthenticated:r,user:s}=Ne(),[o,n]=i.useState(0),{data:c,refetch:u}=ia({queryKey:["unreadMessages",s?.id],queryFn:async()=>{if(!s)return[];console.log("Fetching unread messages for user:",s.id);try{const{data:m,error:p}=await X.from("chat_threads").select("id").or(`user_id.eq.${s.id},consultant_id.eq.${s.id}`);if(p)return console.error("Error fetching threads:",p),[];if(!m||m.length===0)return[];const S=m.map(I=>I.id),{data:d,error:g}=await X.from("chat_messages").select("*").in("thread_id",S).neq("sender_id",s.id).eq("read",!1);return g?(console.error("Error fetching unread messages:",g),[]):(console.log("Unread messages:",d?.length||0),d||[])}catch(m){return console.error("Error fetching unread messages:",m),[]}},enabled:!!r&&!!s});i.useEffect(()=>{if(!s)return;const m=X.channel("sidebar-unread-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},p=>{p.new&&p.new.sender_id!==s.id&&(console.log("New message detected, refetching unread count..."),u())}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:"read=eq.true"},()=>{console.log("Messages marked as read, refetching unread count..."),u()}).subscribe();return()=>{X.removeChannel(m)}},[s,u]),i.useEffect(()=>{c&&n(c.length)},[c]);const l=[{icon:fa,label:"Home",href:"/"},{icon:ga,label:"Chat",href:"/chat",badge:o>0?o:void 0},{icon:Us,label:"Consult",href:"/consult"}];return e.jsx("aside",{className:T("w-12 md:w-48 h-full overflow-x-hidden bg-gray-200 dark:bg-[#1a1a1a] border-r border-gray-300 dark:border-[#2a2a2a] flex-shrink-0",a),children:e.jsxs("nav",{className:"flex-1 min-h-0 flex flex-col py-4 overflow-x-hidden",children:[e.jsx("ul",{className:"space-y-1 px-1",children:l.map(m=>{const p=t.pathname===m.href||m.href==="/chat"&&t.pathname.startsWith("/chat");return e.jsx("li",{children:e.jsxs(oe,{to:m.href,className:T("flex items-center px-2 py-2 rounded-lg transition-colors relative",p?"bg-[#025803] text-white dark:bg-[#025803] dark:text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-[#2a2a2a]","mb-1","w-full"),children:[e.jsx(m.icon,{size:18,className:"min-w-[18px]"}),e.jsx("span",{className:"ml-2 hidden md:block text-sm",children:m.label}),m.badge&&e.jsx("span",{className:"absolute -top-1 right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:m.badge})]})},m.href)})}),e.jsxs("div",{className:"mt-auto p-2 border-t border-gray-300 dark:border-[#2a2a2a]",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 hidden md:block",children:"Powered by"}),e.jsx("p",{className:"text-xs font-medium text-[#025803] dark:text-[#025803] hidden md:block",children:"Bornelabs"})]})]})})}const ut=768;function pn(){const[a,t]=i.useState(void 0);return i.useEffect(()=>{const r=window.matchMedia(`(max-width: ${ut-1}px)`),s=()=>{t(window.innerWidth<ut)};return r.addEventListener("change",s),t(window.innerWidth<ut),()=>r.removeEventListener("change",s)},[]),!!a}function fn({children:a,showSidebar:t=!0,hideMobileBottomNav:r=!1}){const s=pn(),o=Be();o.pathname.startsWith("/chat");const n=c=>c==="/"?o.pathname==="/":o.pathname.startsWith(c);return e.jsxs("div",{className:"h-screen flex flex-col bg-white dark:bg-black overflow-hidden",children:[e.jsx(mn,{}),e.jsxs("div",{className:"flex flex-1 relative min-h-0 overflow-hidden",children:[t&&!s&&e.jsx("div",{className:"fixed top-14 left-0 h-[calc(100vh-3.5rem)] w-12 md:w-48 bg-gray-200 dark:bg-gray-900 border-r border-gray-300 dark:border-gray-700 z-20 overflow-y-auto overflow-x-hidden",children:e.jsx(hn,{className:"h-full"})}),e.jsx("main",{className:`
          flex flex-col flex-1 min-h-0 relative overflow-x-hidden overflow-y-auto
          ${!s&&t?"ml-12 md:ml-48":"ml-0"}
          bg-white dark:bg-black
       `,children:a})]}),s&&t&&!r&&e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-black border-t border-gray-200 dark:border-gray-700 z-50",children:e.jsxs("div",{className:"flex justify-around items-center py-2 px-4 h-16",children:[e.jsxs(oe,{to:"/home",className:`flex flex-col items-center min-w-0 flex-1 transition-colors ${n("/")?"text-mental-green-600 dark:text-mental-green-400":"text-gray-500 dark:text-gray-400 hover:text-mental-green-600 dark:hover:text-mental-green-400"}`,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),e.jsxs(oe,{to:"/chat",className:`flex flex-col items-center min-w-0 flex-1 transition-colors ${n("/chat")?"text-mental-green-600 dark:text-mental-green-400":"text-gray-500 dark:text-gray-400 hover:text-mental-green-600 dark:hover:text-mental-green-400"}`,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),e.jsx("span",{className:"text-xs mt-1",children:"Chat"})]}),e.jsxs(oe,{to:"/consult",className:`flex flex-col items-center min-w-0 flex-1 transition-colors ${n("/consult")?"text-mental-green-600 dark:text-mental-green-400":"text-gray-500 dark:text-gray-400 hover:text-mental-green-600 dark:hover:text-mental-green-400"}`,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 1 0 7.75"})]}),e.jsx("span",{className:"text-xs mt-1",children:"Consult"})]})]})})]})}function $e({featureName:a,description:t,icon:r=e.jsx(Vs,{className:"h-12 w-12 text-muted-foreground"})}){return e.jsx(fn,{children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs(kt,{className:"w-full max-w-md text-center",children:[e.jsxs(Ct,{className:"pb-4",children:[e.jsx("div",{className:"flex justify-center mb-4",children:r}),e.jsxs(Et,{className:"text-2xl font-bold",children:[a," Temporarily Unavailable"]}),e.jsx(Tt,{className:"text-base mt-2",children:t})]}),e.jsxs(It,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"This feature has been temporarily disabled by the administrators. Please check back later or contact support for more information."}),e.jsx(oe,{to:"/home",children:e.jsxs(J,{className:"w-full",variant:"default",children:[e.jsx(fa,{className:"h-4 w-4 mr-2"}),"Return to Home"]})})]})]})})})})}function qe({feature:a,children:t,fallback:r}){if(!Zo(a)){if(r)return e.jsx(e.Fragment,{children:r});switch(a){case"chat":return e.jsx($e,{featureName:"Chat",description:"The chat feature allows direct communication with consultants.",icon:e.jsx(ga,{className:"h-12 w-12 text-muted-foreground"})});case"booking":return e.jsx($e,{featureName:"Session Booking",description:"Book one-on-one sessions with our mental health consultants.",icon:e.jsx(Ps,{className:"h-12 w-12 text-muted-foreground"})});case"stories":return e.jsx($e,{featureName:"Stories",description:"Read and share inspiring mental health stories from our community.",icon:e.jsx(ua,{className:"h-12 w-12 text-muted-foreground"})});default:return e.jsx($e,{featureName:"Feature",description:"This feature is currently unavailable."})}}return e.jsx(e.Fragment,{children:t})}function ye(a,t=1,r=400){const s=()=>a().catch(o=>{if(t<=0)throw o;return new Promise((n,c)=>{setTimeout(()=>{a().then(n).catch(c)},r)})});return i.lazy(s)}function Ye({className:a,variant:t="default"}){const r={default:"h-4 w-full",card:"h-32 w-full rounded-lg",text:"h-3 w-3/4",circular:"h-10 w-10 rounded-full"};return e.jsx("div",{className:T("animate-pulse bg-muted rounded",r[t],a)})}function gn(){return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx(Ye,{variant:"card"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ye,{variant:"text"}),e.jsx(Ye,{variant:"text",className:"w-1/2"}),e.jsx(Ye,{variant:"text",className:"w-2/3"})]})]})}class xn extends h.Component{state={hasError:!1};static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Lazy load error boundary caught an error:",t,r)}handleRetry=()=>{this.setState({hasError:!1,error:void 0}),navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),window.location.reload()};render(){return this.state.hasError?this.props.fallback?e.jsx(e.Fragment,{children:this.props.fallback}):e.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"A loading error occurred. Please try again."}),e.jsx("button",{onClick:this.handleRetry,className:"inline-flex items-center rounded-md border px-4 py-2 text-sm",children:"Reload app"})]}):this.props.children}}function be({children:a,fallback:t=gn}){return e.jsx(xn,{fallback:e.jsx(t,{}),children:e.jsx(i.Suspense,{fallback:e.jsx(t,{}),children:a})})}const vn=ye(()=>ve(()=>import("./HomePage-7YFXzuoQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),yn=ye(()=>ve(()=>import("./ChatPage-B4Q04tYh.js"),__vite__mapDeps([17,1,2,14,12,18,3,13,15,16]))),bn=ye(()=>ve(()=>import("./ProfilePage-BMfpWYNM.js"),__vite__mapDeps([19,1,2,20,4,21,22,23,10,8,24,25,3,26,27,14,15,16]))),wn=ye(()=>ve(()=>import("./ConsultPage-CRmiu7Ik.js"),__vite__mapDeps([28,1,2,18,3,12,29,22,14,15,16]))),jn=ye(()=>ve(()=>import("./BookSessionPage-DDMREon0.js"),__vite__mapDeps([30,1,2,14,9,29,22,10,3,11,15,16]))),Nn=ye(()=>ve(()=>import("./AdminPanel-DukdBYw-.js").then(a=>a.A),__vite__mapDeps([31,16,2,1,3,20]))),Sn=ye(()=>ve(()=>import("./AboutPage-B0KbiNFN.js"),__vite__mapDeps([32,1,2,14,33,3,15,16]))),kn=ye(()=>ve(()=>import("./StoryPage-BMjZyPVK.js"),__vite__mapDeps([34,1,2,4,3,6,7,8,10,33,14,27,15,16]))),Cn=ye(()=>ve(()=>import("./PublicProfilePage-BTgfhrOv.js"),__vite__mapDeps([35,1,2,14,13,3,24,8,25,29,22,15,16]))),En=()=>e.jsx(be,{children:e.jsx(vn,{})}),Tn=()=>e.jsx(be,{children:e.jsx(yn,{})}),In=()=>e.jsx(be,{children:e.jsx(bn,{})}),Pn=()=>e.jsx(be,{children:e.jsx(wn,{})}),An=()=>e.jsx(be,{children:e.jsx(jn,{})}),Rn=()=>e.jsx(be,{children:e.jsx(Nn,{})}),Mn=()=>e.jsx(be,{children:e.jsx(Sn,{})}),_n=()=>e.jsx(be,{children:e.jsx(kn,{})}),Ln=()=>e.jsx(be,{children:e.jsx(Cn,{})}),On=new $r({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:10*60*1e3,gcTime:15*60*1e3}}}),Dn=()=>e.jsx(qr,{client:On,children:e.jsx(ro,{children:e.jsx(Go,{children:e.jsxs(Zr,{defaultTheme:"light",storageKey:"theme-preference",children:[e.jsx(Hr,{router:Ur([{path:"/",element:e.jsx(mt,{to:"/home"})},{path:"/home",element:e.jsx(En,{})},{path:"/about",element:e.jsx(Mn,{})},{path:"/login",element:e.jsx(io,{})},{path:"/signup",element:e.jsx(Yo,{})},{path:"/profile",element:e.jsx(Ue,{children:e.jsx(In,{})})},{path:"/profile/:userId",element:e.jsx(Ln,{})},{path:"/story/:storyId",element:e.jsx(qe,{feature:"stories",children:e.jsx(_n,{})})},{path:"/chat/:threadId?",element:e.jsx(Ue,{children:e.jsx(qe,{feature:"chat",children:e.jsx(Tn,{})})})},{path:"/consult",element:e.jsx(qe,{feature:"booking",children:e.jsx(Pn,{})})},{path:"/book-session/:consultantId?",element:e.jsx(Ue,{children:e.jsx(qe,{feature:"booking",children:e.jsx(An,{})})})},{path:"/admin",element:e.jsx(Ue,{requireAdmin:!0,children:e.jsx(Rn,{})})},{path:"*",element:e.jsx(Ko,{})}])}),e.jsx(Ns,{position:"top-right",richColors:!0}),e.jsx(Qs,{}),e.jsx(qs,{})]})})})});la(document.getElementById("root")).render(e.jsx(Dn,{}));export{Ts as A,ua as B,kt as C,Xo as D,_s as E,Me as F,sn as G,on as H,ne as I,dr as J,ur as K,fn as L,ga as M,mr as N,At as O,xa as P,ot as Q,Rt as R,zs as S,Je as T,Us as U,nt as V,De as W,tt as X,Ls as Y,St as a,pn as b,Zo as c,W as d,T as e,J as f,or as g,Ct as h,Et as i,It as j,G as k,Tt as l,co as m,ma as n,Ps as o,lo as p,$t as q,Qo as r,X as s,Ht as t,Ne as u,Rs as v,ha as w,Jo as x,ir as y,Qe as z};
