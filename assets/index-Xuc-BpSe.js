const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-SS6SuSWr.js","assets/ui-BG7jjlrC.js","assets/vendor-CsPsgsBv.js","assets/router-J7O6VmFe.js","assets/avatar-EYr9qbO9.js","assets/skeleton-Z9ohIe8T.js","assets/formatDistanceToNow-DAfwe73b.js","assets/constructNow-CbkWqtaZ.js","assets/en-US-DcT3sm5m.js","assets/star-zP12DrAl.js","assets/clock-BySPzegt.js","assets/user-Pg4hQqqK.js","assets/search-DiMomntu.js","assets/chatUtils-9oZEBGJt.js","assets/query-C_TmXHuV.js","assets/utils-EL5wpLGY.js","assets/supabase-DoZrjKS4.js","assets/ChatPage-CpZLrVGO.js","assets/AuthRedirect-DqIthHar.js","assets/arrow-left-KSOXNl8T.js","assets/ProfilePage-BuOII374.js","assets/tabs-DOPChhVJ.js","assets/table-DGQImQ75.js","assets/dollar-sign-DP54sH2j.js","assets/switch-DgbO84US.js","assets/parseISO-G0xhW6v5.js","assets/format-Dmqbz6eD.js","assets/square-pen-BbwDUted.js","assets/trash-2-VGjIV6yN.js","assets/ConsultPage-BfHX41xG.js","assets/map-pin-_6eD1Q6F.js","assets/BookSessionPage-IDAwWtAW.js","assets/AdminPanel-KnJqQwXs.js","assets/AboutPage-D0oo_is_.js","assets/eye-B1mF0wYn.js","assets/heart-DLI57nol.js","assets/StoryPage-CZPT5Mwt.js","assets/PublicProfilePage-DV3aFkqa.js"])))=>i.map(i=>d[i]);
import{j as e,S as Yt,P as ne,c as Sr,a as kr,b as Kt,u as ge,A as Cr,d as J,e as je,h as Er,f as Tr,R as Ir,F as Pr,D as Ar,C as Mr,g as bt,i as Rr,k as _r,l as Lr,m as Or,n as Ft,o as Dr,p as Gt,q as Qt,r as zr,s as Zt,I as Xt,t as Jt,v as ea,w as ta,L as aa,x as ra,y as Br,T as Fr,O as sa,z as oa,B as Vr,E as na,G as ia,H as Wr,J as Hr,K as Ur}from"./ui-BG7jjlrC.js";import{b as wt,r as n,c as h,d as qr}from"./vendor-CsPsgsBv.js";import{u as ze,L as ae,a as Be,N as ut,R as $r,c as Yr}from"./router-J7O6VmFe.js";import{u as la,Q as Kr,a as Gr}from"./query-C_TmXHuV.js";import{t as Qr,c as Zr,a as Je}from"./utils-EL5wpLGY.js";import{c as Xr,_ as ve}from"./supabase-DoZrjKS4.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var ca,Vt=wt;ca=Vt.createRoot,Vt.hydrateRoot;const Jr={theme:"system",setTheme:()=>null},da=n.createContext(Jr);function es({children:t,defaultTheme:a="system",storageKey:r="vite-ui-theme",...s}){const[o,i]=n.useState(()=>localStorage.getItem(r)||a);n.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),o==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(l);return}u.classList.add(o)},[o]);const d={theme:o,setTheme:u=>{localStorage.setItem(r,u),i(u)}};return e.jsx(da.Provider,{...s,value:d,children:t})}const ts=()=>{const t=n.useContext(da);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};var as=t=>{switch(t){case"success":return os;case"info":return is;case"warning":return ns;case"error":return ls;default:return null}},rs=Array(12).fill(0),ss=({visible:t})=>h.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},h.createElement("div",{className:"sonner-spinner"},rs.map((a,r)=>h.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),os=h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},h.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ns=h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},h.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),is=h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},h.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ls=h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},h.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cs=()=>{let[t,a]=h.useState(document.hidden);return h.useEffect(()=>{let r=()=>{a(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},mt=1,ds=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let a=this.subscribers.indexOf(t);this.subscribers.splice(a,1)}),this.publish=t=>{this.subscribers.forEach(a=>a(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var a;let{message:r,...s}=t,o=typeof t?.id=="number"||((a=t.id)==null?void 0:a.length)>0?t.id:mt++,i=this.toasts.find(u=>u.id===o),d=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(u=>u.id===o?(this.publish({...u,...t,id:o,title:r}),{...u,...t,id:o,dismissible:d,title:r}):u):this.addToast({title:r,...s,dismissible:d,id:o}),o},this.dismiss=t=>(t||this.toasts.forEach(a=>{this.subscribers.forEach(r=>r({id:a.id,dismiss:!0}))}),this.subscribers.forEach(a=>a({id:t,dismiss:!0})),t),this.message=(t,a)=>this.create({...a,message:t}),this.error=(t,a)=>this.create({...a,message:t,type:"error"}),this.success=(t,a)=>this.create({...a,type:"success",message:t}),this.info=(t,a)=>this.create({...a,type:"info",message:t}),this.warning=(t,a)=>this.create({...a,type:"warning",message:t}),this.loading=(t,a)=>this.create({...a,type:"loading",message:t}),this.promise=(t,a)=>{if(!a)return;let r;a.loading!==void 0&&(r=this.create({...a,promise:t,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));let s=t instanceof Promise?t:t(),o=r!==void 0;return s.then(async i=>{if(ms(i)&&!i.ok){o=!1;let d=typeof a.error=="function"?await a.error(`HTTP error! status: ${i.status}`):a.error,u=typeof a.description=="function"?await a.description(`HTTP error! status: ${i.status}`):a.description;this.create({id:r,type:"error",message:d,description:u})}else if(a.success!==void 0){o=!1;let d=typeof a.success=="function"?await a.success(i):a.success,u=typeof a.description=="function"?await a.description(i):a.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async i=>{if(a.error!==void 0){o=!1;let d=typeof a.error=="function"?await a.error(i):a.error,u=typeof a.description=="function"?await a.description(i):a.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var i;o&&(this.dismiss(r),r=void 0),(i=a.finally)==null||i.call(a)}),r},this.custom=(t,a)=>{let r=a?.id||mt++;return this.create({jsx:t(r),id:r,...a}),r},this.subscribers=[],this.toasts=[]}},le=new ds,us=(t,a)=>{let r=a?.id||mt++;return le.addToast({title:t,...a,id:r}),r},ms=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",hs=us,ps=()=>le.toasts,fs=Object.assign(hs,{success:le.success,info:le.info,warning:le.warning,error:le.error,custom:le.custom,message:le.message,promise:le.promise,dismiss:le.dismiss,loading:le.loading},{getHistory:ps});function gs(t,{insertAt:a}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}gs(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function He(t){return t.label!==void 0}var xs=3,vs="32px",ys=4e3,bs=356,ws=14,js=20,Ns=200;function Ss(...t){return t.filter(Boolean).join(" ")}var ks=t=>{var a,r,s,o,i,d,u,l,m,p;let{invert:k,toast:c,unstyled:x,interacting:I,setHeights:f,visibleToasts:C,heights:P,index:v,toasts:w,expanded:g,removeToast:j,defaultRichColors:y,closeButton:b,style:A,cancelButtonStyle:L,actionButtonStyle:re,className:U="",descriptionClassName:Z="",duration:oe,position:ie,gap:ee,loadingIcon:V,expandByDefault:te,classNames:T,icons:$,closeButtonAriaLabel:Ce="Close toast",pauseWhenPageIsHidden:M,cn:R}=t,[O,X]=h.useState(!1),[ce,z]=h.useState(!1),[N,B]=h.useState(!1),[K,_]=h.useState(!1),[W,q]=h.useState(0),[xe,me]=h.useState(0),Ie=h.useRef(null),he=h.useRef(null),Le=v===0,gr=v+1<=C,de=c.type,Pe=c.dismissible!==!1,xr=c.className||"",vr=c.descriptionClassName||"",Ve=h.useMemo(()=>P.findIndex(S=>S.toastId===c.id)||0,[P,c.id]),yr=h.useMemo(()=>{var S;return(S=c.closeButton)!=null?S:b},[c.closeButton,b]),Lt=h.useMemo(()=>c.duration||oe||ys,[c.duration,oe]),nt=h.useRef(0),Ae=h.useRef(0),Ot=h.useRef(0),Me=h.useRef(null),[Dt,br]=ie.split("-"),zt=h.useMemo(()=>P.reduce((S,F,D)=>D>=Ve?S:S+F.height,0),[P,Ve]),Bt=cs(),wr=c.invert||k,it=de==="loading";Ae.current=h.useMemo(()=>Ve*ee+zt,[Ve,zt]),h.useEffect(()=>{X(!0)},[]),h.useLayoutEffect(()=>{if(!O)return;let S=he.current,F=S.style.height;S.style.height="auto";let D=S.getBoundingClientRect().height;S.style.height=F,me(D),f(pe=>pe.find(fe=>fe.toastId===c.id)?pe.map(fe=>fe.toastId===c.id?{...fe,height:D}:fe):[{toastId:c.id,height:D,position:c.position},...pe])},[O,c.title,c.description,f,c.id]);let we=h.useCallback(()=>{z(!0),q(Ae.current),f(S=>S.filter(F=>F.toastId!==c.id)),setTimeout(()=>{j(c)},Ns)},[c,j,f,Ae]);h.useEffect(()=>{if(c.promise&&de==="loading"||c.duration===1/0||c.type==="loading")return;let S,F=Lt;return g||I||M&&Bt?(()=>{if(Ot.current<nt.current){let D=new Date().getTime()-nt.current;F=F-D}Ot.current=new Date().getTime()})():F!==1/0&&(nt.current=new Date().getTime(),S=setTimeout(()=>{var D;(D=c.onAutoClose)==null||D.call(c,c),we()},F)),()=>clearTimeout(S)},[g,I,te,c,Lt,we,c.promise,de,M,Bt]),h.useEffect(()=>{let S=he.current;if(S){let F=S.getBoundingClientRect().height;return me(F),f(D=>[{toastId:c.id,height:F,position:c.position},...D]),()=>f(D=>D.filter(pe=>pe.toastId!==c.id))}},[f,c.id]),h.useEffect(()=>{c.delete&&we()},[we,c.delete]);function jr(){return $!=null&&$.loading?h.createElement("div",{className:"sonner-loader","data-visible":de==="loading"},$.loading):V?h.createElement("div",{className:"sonner-loader","data-visible":de==="loading"},V):h.createElement(ss,{visible:de==="loading"})}return h.createElement("li",{"aria-live":c.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:he,className:R(U,xr,T?.toast,(a=c?.classNames)==null?void 0:a.toast,T?.default,T?.[de],(r=c?.classNames)==null?void 0:r[de]),"data-sonner-toast":"","data-rich-colors":(s=c.richColors)!=null?s:y,"data-styled":!(c.jsx||c.unstyled||x),"data-mounted":O,"data-promise":!!c.promise,"data-removed":ce,"data-visible":gr,"data-y-position":Dt,"data-x-position":br,"data-index":v,"data-front":Le,"data-swiping":N,"data-dismissible":Pe,"data-type":de,"data-invert":wr,"data-swipe-out":K,"data-expanded":!!(g||te&&O),style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${ce?W:Ae.current}px`,"--initial-height":te?"auto":`${xe}px`,...A,...c.style},onPointerDown:S=>{it||!Pe||(Ie.current=new Date,q(Ae.current),S.target.setPointerCapture(S.pointerId),S.target.tagName!=="BUTTON"&&(B(!0),Me.current={x:S.clientX,y:S.clientY}))},onPointerUp:()=>{var S,F,D,pe;if(K||!Pe)return;Me.current=null;let fe=Number(((S=he.current)==null?void 0:S.style.getPropertyValue("--swipe-amount").replace("px",""))||0),We=new Date().getTime()-((F=Ie.current)==null?void 0:F.getTime()),Nr=Math.abs(fe)/We;if(Math.abs(fe)>=js||Nr>.11){q(Ae.current),(D=c.onDismiss)==null||D.call(c,c),we(),_(!0);return}(pe=he.current)==null||pe.style.setProperty("--swipe-amount","0px"),B(!1)},onPointerMove:S=>{var F;if(!Me.current||!Pe)return;let D=S.clientY-Me.current.y,pe=S.clientX-Me.current.x,fe=(Dt==="top"?Math.min:Math.max)(0,D),We=S.pointerType==="touch"?10:2;Math.abs(fe)>We?(F=he.current)==null||F.style.setProperty("--swipe-amount",`${D}px`):Math.abs(pe)>We&&(Me.current=null)}},yr&&!c.jsx?h.createElement("button",{"aria-label":Ce,"data-disabled":it,"data-close-button":!0,onClick:it||!Pe?()=>{}:()=>{var S;we(),(S=c.onDismiss)==null||S.call(c,c)},className:R(T?.closeButton,(o=c?.classNames)==null?void 0:o.closeButton)},h.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},h.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,c.jsx||h.isValidElement(c.title)?c.jsx||c.title:h.createElement(h.Fragment,null,de||c.icon||c.promise?h.createElement("div",{"data-icon":"",className:R(T?.icon,(i=c?.classNames)==null?void 0:i.icon)},c.promise||c.type==="loading"&&!c.icon?c.icon||jr():null,c.type!=="loading"?c.icon||$?.[de]||as(de):null):null,h.createElement("div",{"data-content":"",className:R(T?.content,(d=c?.classNames)==null?void 0:d.content)},h.createElement("div",{"data-title":"",className:R(T?.title,(u=c?.classNames)==null?void 0:u.title)},c.title),c.description?h.createElement("div",{"data-description":"",className:R(Z,vr,T?.description,(l=c?.classNames)==null?void 0:l.description)},c.description):null),h.isValidElement(c.cancel)?c.cancel:c.cancel&&He(c.cancel)?h.createElement("button",{"data-button":!0,"data-cancel":!0,style:c.cancelButtonStyle||L,onClick:S=>{var F,D;He(c.cancel)&&Pe&&((D=(F=c.cancel).onClick)==null||D.call(F,S),we())},className:R(T?.cancelButton,(m=c?.classNames)==null?void 0:m.cancelButton)},c.cancel.label):null,h.isValidElement(c.action)?c.action:c.action&&He(c.action)?h.createElement("button",{"data-button":!0,"data-action":!0,style:c.actionButtonStyle||re,onClick:S=>{var F,D;He(c.action)&&(S.defaultPrevented||((D=(F=c.action).onClick)==null||D.call(F,S),we()))},className:R(T?.actionButton,(p=c?.classNames)==null?void 0:p.actionButton)},c.action.label):null))};function Wt(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Cs=t=>{let{invert:a,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:d,offset:u,theme:l="light",richColors:m,duration:p,style:k,visibleToasts:c=xs,toastOptions:x,dir:I=Wt(),gap:f=ws,loadingIcon:C,icons:P,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:w,cn:g=Ss}=t,[j,y]=h.useState([]),b=h.useMemo(()=>Array.from(new Set([r].concat(j.filter(M=>M.position).map(M=>M.position)))),[j,r]),[A,L]=h.useState([]),[re,U]=h.useState(!1),[Z,oe]=h.useState(!1),[ie,ee]=h.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=h.useRef(null),te=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=h.useRef(null),$=h.useRef(!1),Ce=h.useCallback(M=>{var R;(R=j.find(O=>O.id===M.id))!=null&&R.delete||le.dismiss(M.id),y(O=>O.filter(({id:X})=>X!==M.id))},[j]);return h.useEffect(()=>le.subscribe(M=>{if(M.dismiss){y(R=>R.map(O=>O.id===M.id?{...O,delete:!0}:O));return}setTimeout(()=>{qr.flushSync(()=>{y(R=>{let O=R.findIndex(X=>X.id===M.id);return O!==-1?[...R.slice(0,O),{...R[O],...M},...R.slice(O+1)]:[M,...R]})})})}),[]),h.useEffect(()=>{if(l!=="system"){ee(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:M})=>{ee(M?"dark":"light")})},[l]),h.useEffect(()=>{j.length<=1&&U(!1)},[j]),h.useEffect(()=>{let M=R=>{var O,X;s.every(ce=>R[ce]||R.code===ce)&&(U(!0),(O=V.current)==null||O.focus()),R.code==="Escape"&&(document.activeElement===V.current||(X=V.current)!=null&&X.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),h.useEffect(()=>{if(V.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,$.current=!1)}},[V.current]),j.length?h.createElement("section",{"aria-label":`${v} ${te}`,tabIndex:-1},b.map((M,R)=>{var O;let[X,ce]=M.split("-");return h.createElement("ol",{key:M,dir:I==="auto"?Wt():I,tabIndex:-1,ref:V,className:d,"data-sonner-toaster":!0,"data-theme":ie,"data-y-position":X,"data-x-position":ce,style:{"--front-toast-height":`${((O=A[0])==null?void 0:O.height)||0}px`,"--offset":typeof u=="number"?`${u}px`:u||vs,"--width":`${bs}px`,"--gap":`${f}px`,...k},onBlur:z=>{$.current&&!z.currentTarget.contains(z.relatedTarget)&&($.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||$.current||($.current=!0,T.current=z.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{Z||U(!1)},onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||oe(!0)},onPointerUp:()=>oe(!1)},j.filter(z=>!z.position&&R===0||z.position===M).map((z,N)=>{var B,K;return h.createElement(ks,{key:z.id,icons:P,index:N,toast:z,defaultRichColors:m,duration:(B=x?.duration)!=null?B:p,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:a,visibleToasts:c,closeButton:(K=x?.closeButton)!=null?K:i,interacting:Z,position:M,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,removeToast:Ce,toasts:j.filter(_=>_.position==z.position),heights:A.filter(_=>_.position==z.position),setHeights:L,expandByDefault:o,gap:f,loadingIcon:C,expanded:re,pauseWhenPageIsHidden:w,cn:g})}))})):null};function E(...t){return Qr(Zr(t))}const Es=Je("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=n.forwardRef(({className:t,variant:a,size:r,asChild:s=!1,...o},i)=>{const d=s?Yt:"button";return e.jsx(d,{className:E(Es({variant:a,size:r,className:t})),ref:i,...o})});Q.displayName="Button";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ua=(...t)=>t.filter((a,r,s)=>!!a&&a.trim()!==""&&s.indexOf(a)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Is={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=n.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:i,iconNode:d,...u},l)=>n.createElement("svg",{ref:l,...Is,width:a,height:a,stroke:t,strokeWidth:s?Number(r)*24/Number(a):r,className:ua("lucide",o),...u},[...d.map(([m,p])=>n.createElement(m,p)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=(t,a)=>{const r=n.forwardRef(({className:s,...o},i)=>n.createElement(Ps,{ref:i,iconNode:a,className:ua(`lucide-${Ts(t)}`,s),...o}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=H("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=H("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=H("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=H("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=H("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=H("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=H("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=H("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=H("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=H("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=H("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=H("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=H("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=H("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=H("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=H("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=H("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qs=()=>{const[t,a]=n.useState(null),[r,s]=n.useState(!1);n.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(m=>{console.log("PWA: Service Worker registered successfully:",m),m.addEventListener("updatefound",()=>{const p=m.installing;p&&p.addEventListener("statechange",()=>{p.state==="installed"&&navigator.serviceWorker.controller&&(console.log("PWA: New service worker installed, activating..."),p.postMessage({type:"SKIP_WAITING"}))})}),m.waiting&&m.waiting.postMessage({type:"SKIP_WAITING"})}).catch(m=>{console.error("PWA: Service Worker registration failed:",m)});let l=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{l||(l=!0,window.location.reload())})});const d=l=>{l.preventDefault(),a(l),s(!0)},u=()=>{console.log("PWA: App was installed"),s(!1),a(null)};return window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",u)}},[]);const o=async()=>{if(t)try{await t.prompt();const{outcome:d}=await t.userChoice;console.log(d==="accepted"?"PWA: User accepted the install prompt":"PWA: User dismissed the install prompt"),a(null),s(!1)}catch(d){console.error("PWA: Error during installation:",d)}},i=()=>{s(!1)};return r?e.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:e.jsxs("div",{className:"bg-card border border-border rounded-lg shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pa,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"font-semibold text-sm",children:"Install Our Minds"})]}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:i,className:"h-6 w-6 p-0",children:e.jsx(et,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Install our app for a better experience with offline access and push notifications."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{onClick:o,size:"sm",className:"flex-1",children:"Install"}),e.jsx(Q,{variant:"outline",onClick:i,size:"sm",className:"flex-1",children:"Not now"})]})]})}):null},$s=()=>{const[t,a]=n.useState({isOnline:navigator.onLine,isInstalled:!1,isInstallable:!1,updateAvailable:!1});n.useEffect(()=>{const o=()=>{const p=window.matchMedia("(display-mode: standalone)").matches,k=window.navigator.standalone===!0,c=p||k;a(x=>({...x,isInstalled:c}))},i=()=>a(p=>({...p,isOnline:!0})),d=()=>a(p=>({...p,isOnline:!1})),u=()=>{a(p=>({...p,updateAvailable:!0}))},l=()=>{a(p=>({...p,isInstallable:!0}))},m=()=>{a(p=>({...p,isInstalled:!0,isInstallable:!1}))};return o(),window.addEventListener("online",i),window.addEventListener("offline",d),window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",m),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",u),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",d),window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",m),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("controllerchange",u)}},[]);const r=()=>{window.location.reload()};return{...t,reloadApp:r,updateServiceWorker:async()=>{if("serviceWorker"in navigator){const o=await navigator.serviceWorker.getRegistration();o?.waiting&&(o.waiting.postMessage({type:"SKIP_WAITING"}),a(i=>({...i,updateAvailable:!1})),r())}}}},Ys=Je("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ht=n.forwardRef(({className:t,variant:a,...r},s)=>e.jsx("div",{ref:s,role:"alert",className:E(Ys({variant:a}),t),...r}));ht.displayName="Alert";const Ks=n.forwardRef(({className:t,...a},r)=>e.jsx("h5",{ref:r,className:E("mb-1 font-medium leading-none tracking-tight",t),...a}));Ks.displayName="AlertTitle";const pt=n.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:E("text-sm [&_p]:leading-relaxed",t),...a}));pt.displayName="AlertDescription";const Gs=()=>{const{isOnline:t,updateAvailable:a,updateServiceWorker:r}=$s();return t&&!a?null:e.jsxs("div",{className:"fixed top-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:[!t&&e.jsxs(ht,{className:"mb-2 border-destructive/50 text-destructive",children:[e.jsx(Us,{className:"h-4 w-4"}),e.jsx(pt,{children:"You're offline. Some features may not work properly."})]}),a&&e.jsxs(ht,{className:"border-primary/50 text-primary",children:[e.jsx(pa,{className:"h-4 w-4"}),e.jsxs(pt,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"App update available"}),e.jsxs(Q,{size:"sm",variant:"outline",onClick:r,className:"ml-2 h-7",children:[e.jsx(Bs,{className:"h-3 w-3 mr-1"}),"Update"]})]})]})]})},Qs="https://qodjhenqguamihndrvct.supabase.co",Zs="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFvZGpoZW5xZ3VhbWlobmRydmN0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwNDE0NjEsImV4cCI6MjA2MDYxNzQ2MX0.Feq8B-Cnl0KdZifE1o-_Q2c9rPGWQ5CU_Qd90hgtNqQ",Y=Xr(Qs,Zs),Xs=5,Js=1e6,Ee={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let lt=0;function eo(){return lt=(lt+1)%Number.MAX_SAFE_INTEGER,lt.toString()}const ct=new Map,Ut=t=>{if(ct.has(t))return;const a=setTimeout(()=>{ct.delete(t),Nt({type:Ee.REMOVE_TOAST,toastId:t})},Js);ct.set(t,a)},to=(t,a)=>{switch(a.type){case Ee.ADD_TOAST:return{...t,toasts:[a.toast,...t.toasts].slice(0,Xs)};case Ee.UPDATE_TOAST:return{...t,toasts:t.toasts.map(r=>r.id===a.toast.id?{...r,...a.toast}:r)};case Ee.DISMISS_TOAST:{const{toastId:r}=a;return r?Ut(r):t.toasts.forEach(s=>{Ut(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s}:s)}}case Ee.REMOVE_TOAST:return a.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==a.toastId)}}},Ke=[];let Ge={toasts:[]};function Nt(t){Ge=to(Ge,t),Ke.forEach(a=>{a(Ge)})}function St(){const[t,a]=n.useState(Ge);return n.useEffect(()=>(Ke.push(a),()=>{const r=Ke.indexOf(a);r>-1&&Ke.splice(r,1)}),[t]),{...t,toast:Re,dismiss:r=>Nt({type:Ee.DISMISS_TOAST,toastId:r})}}function Re(t){const a=t.id||eo(),r=t.variant||"default";return fs(t.title,{id:a,description:t.description}),Nt({type:Ee.ADD_TOAST,toast:{...t,id:a,variant:r}}),a}const ya=n.createContext(void 0);function ao({children:t}){const[a,r]=n.useState(null),[s,o]=n.useState(null),[i,d]=n.useState(null),[u,l]=n.useState(!0),[m,p]=n.useState(null),k=async g=>{try{console.log("Fetching profile for user:",g);const{data:j,error:y}=await Y.from("users").select("*").eq("id",g).single();if(y&&y.code!=="PGRST116")throw y;if(j){const b={id:j.id,email:j.email,name:j.name,role:j.role,profileImage:j.profile_image};if(b.role==="consultant"){const{data:A,error:L}=await Y.from("consultants").select("*").eq("id",g).single();if(L&&L.code!=="PGRST116")throw L;A&&(b.specialization=A.specialization,b.languages=A.languages,b.location=A.location,b.paypalEmail=A.paypal_email,b.bio=A.bio)}d(b),console.log("Profile fetched successfully:",b)}else if(a?.user_metadata){const b=a.user_metadata;d({id:a.id,email:a.email||"",name:b.name||a.email?.split("@")[0]||"User",role:"user"}),console.log("Created profile from metadata")}}catch(j){console.error("Error fetching user profile:",j),Re({title:"Profile Error",description:"Failed to load user profile",variant:"destructive"})}},c=async()=>{a&&await k(a.id)};n.useEffect(()=>{(async()=>{try{const{data:{subscription:j}}=Y.auth.onAuthStateChange(async(b,A)=>{console.log("Auth state changed:",b,A?.user?.id),o(A);const L=A?.user??null;r(L),L?setTimeout(()=>{k(L.id)},0):d(null)}),{data:{session:y}}=await Y.auth.getSession();return console.log("Current session:",y?.user?.id),o(y),r(y?.user??null),y?.user&&await k(y.user.id),l(!1),()=>{j.unsubscribe()}}catch(j){console.error("Auth initialization error:",j),l(!1)}})()},[]);const x=async(g,j)=>{try{l(!0);const{data:y,error:b}=await Y.auth.signInWithPassword({email:g,password:j});if(b)throw b;o(y.session),r(y.user),y.user&&await k(y.user.id),Re({title:"Login successful",description:"Welcome back!"})}catch(y){throw Re({title:"Login failed",description:y?.message||"Failed to login, please try again",variant:"destructive"}),y}finally{l(!1)}},I=async(g,j)=>{try{l(!0),p(null),console.log("Starting signup process with role:",g.role);const y=g.role||"user",{data:b,error:A}=await Y.auth.signUp({email:g.email,password:j,options:{data:{name:g.name,role:y}}});if(A)throw console.error("Auth signup error:",A),A;if(!b.user)throw new Error("Failed to create user account");console.log("User created in auth:",b.user.id,"with role:",y),await new Promise(U=>setTimeout(U,200));const L={id:b.user.id,email:g.email,name:g.name,role:y,profile_image:g.profileImage};console.log("Creating user profile:",L);const{error:re}=await Y.from("users").insert([L]);if(re)throw console.error("User profile creation error:",re),new Error(`Failed to create user profile: ${re.message}`);if(console.log("User profile created successfully with role:",y),y==="consultant"){console.log("Creating consultant profile for user:",b.user.id);const U={id:b.user.id,specialization:g.specialization||["General Mental Health"],languages:g.languages||["English"],location:g.location||"Remote",bio:g.bio||"",paypal_email:g.paypalEmail||g.email,approval_status:"pending",available:!1,hourly_rate:50,rating:0,review_count:0};console.log("Inserting consultant data:",U);const{error:Z}=await Y.from("consultants").insert([U]);if(Z)throw console.error("Consultant profile creation error:",Z),await Y.auth.admin.deleteUser(b.user.id),new Error(`Failed to create consultant profile: ${Z.message}`);console.log("Consultant profile created successfully with pending status")}await k(b.user.id),console.log("Signup completed successfully for role:",y)}catch(y){throw console.error("Signup process error:",y),p(y.message),y}finally{l(!1)}},f=async()=>{try{l(!0);const{error:g}=await Y.auth.signOut();if(g)throw g;d(null),Re({title:"Logged out",description:"You have been logged out successfully"})}catch(g){throw Re({title:"Logout failed",description:g?.message||"Failed to logout, please try again",variant:"destructive"}),g}finally{l(!1)}},C=!!s&&!!a,P=i?.role==="admin"||i?.role==="owner",v=i?.role==="consultant",w=i?.role==="owner";return e.jsx(ya.Provider,{value:{user:a,session:s,profile:i,loading:u,error:m,login:x,signup:I,logout:f,isAuthenticated:C,isAdmin:P,isConsultant:v,isOwner:w,refreshProfile:c},children:t})}function Ne(){const t=n.useContext(ya);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const se=n.forwardRef(({className:t,type:a,...r},s)=>e.jsx("input",{type:a,className:E("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));se.displayName="Input";var ro="Label",ba=n.forwardRef((t,a)=>e.jsx(ne.label,{...t,ref:a,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ba.displayName=ro;var wa=ba;const so=Je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=n.forwardRef(({className:t,...a},r)=>e.jsx(wa,{ref:r,className:E(so(),t),...a}));G.displayName=wa.displayName;function oo(){const[t,a]=n.useState(""),[r,s]=n.useState(""),[o,i]=n.useState(!1),{login:d}=Ne(),u=ze();St();const l=async m=>{m.preventDefault(),i(!0);try{await d(t,r),u("/")}catch(p){console.error("Login error:",p)}finally{i(!1)}};return e.jsxs("div",{className:"w-full max-w-md space-y-6 p-6 bg-white dark:bg-mental-green-950 rounded-lg shadow-md border border-gray-200 dark:border-mental-green-800",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:"/assets/OurMinds.png",alt:"Our Minds Logo",className:"mx-auto h-12 w-12"}),e.jsx("h1",{className:"mt-4 text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-300",children:"Enter your credentials to access your account"})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"email",className:"text-gray-700 dark:text-gray-200",children:"Email"}),e.jsx(se,{id:"email",type:"email",placeholder:"",value:t,onChange:m=>a(m.target.value),required:!0,autoComplete:"email",className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(G,{htmlFor:"password",className:"text-gray-700 dark:text-gray-200",children:"Password"}),e.jsx(ae,{to:"/forgot-password",className:"text-xs text-mental-green-600 dark:text-mental-green-400 hover:underline",children:"Forgot password?"})]}),e.jsx(se,{id:"password",type:"password",placeholder:"",value:r,onChange:m=>s(m.target.value),required:!0,autoComplete:"current-password",className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsx(Q,{type:"submit",className:"w-full bg-mental-green-600 hover:bg-mental-green-700 dark:bg-mental-green-600 dark:hover:bg-mental-green-500 text-white",disabled:o,children:o?"Logging in...":"Log in"})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Don't have an account? "}),e.jsx(ae,{to:"/signup",className:"text-mental-green-600 dark:text-mental-green-400 hover:underline",children:"Sign up"})]})]})}function no(){const{isAuthenticated:t,loading:a}=Ne(),r=ze(),s=Be();return n.useEffect(()=>{if(!a&&t){console.log("Already authenticated, redirecting");const o=s.state?.from?.pathname||"/";r(o,{replace:!0})}},[t,r,s,a]),a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-mental-green-50 dark:bg-black p-4",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-mental-green-50 dark:bg-black p-4",children:e.jsx(oo,{})})}const kt=n.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:E("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a}));kt.displayName="Card";const Ct=n.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:E("flex flex-col space-y-1.5 p-6",t),...a}));Ct.displayName="CardHeader";const Et=n.forwardRef(({className:t,...a},r)=>e.jsx("h3",{ref:r,className:E("text-2xl font-semibold leading-none tracking-tight",t),...a}));Et.displayName="CardTitle";const Tt=n.forwardRef(({className:t,...a},r)=>e.jsx("p",{ref:r,className:E("text-sm text-muted-foreground",t),...a}));Tt.displayName="CardDescription";const It=n.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:E("p-6 pt-0",t),...a}));It.displayName="CardContent";const io=n.forwardRef(({className:t,...a},r)=>e.jsx("div",{ref:r,className:E("flex items-center p-6 pt-0",t),...a}));io.displayName="CardFooter";function qt(t,[a,r]){return Math.min(r,Math.max(a,t))}function lo(t){const a=n.useRef({value:t,previous:t});return n.useMemo(()=>(a.current.value!==t&&(a.current.previous=a.current.value,a.current.value=t),a.current.previous),[t])}var co="VisuallyHidden",ja=n.forwardRef((t,a)=>e.jsx(ne.span,{...t,ref:a,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ja.displayName=co;var uo=[" ","Enter","ArrowUp","ArrowDown"],mo=[" ","Enter"],Fe="Select",[tt,at,ho]=Sr(Fe),[_e,qn]=kr(Fe,[ho,Kt]),rt=Kt(),[po,Se]=_e(Fe),[fo,go]=_e(Fe),Na=t=>{const{__scopeSelect:a,children:r,open:s,defaultOpen:o,onOpenChange:i,value:d,defaultValue:u,onValueChange:l,dir:m,name:p,autoComplete:k,disabled:c,required:x,form:I}=t,f=rt(a),[C,P]=n.useState(null),[v,w]=n.useState(null),[g,j]=n.useState(!1),y=Or(m),[b=!1,A]=Ft({prop:s,defaultProp:o,onChange:i}),[L,re]=Ft({prop:d,defaultProp:u,onChange:l}),U=n.useRef(null),Z=C?I||!!C.closest("form"):!0,[oe,ie]=n.useState(new Set),ee=Array.from(oe).map(V=>V.props.value).join(";");return e.jsx(Dr,{...f,children:e.jsxs(po,{required:x,scope:a,trigger:C,onTriggerChange:P,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:g,onValueNodeHasChildrenChange:j,contentId:bt(),value:L,onValueChange:re,open:b,onOpenChange:A,dir:y,triggerPointerDownPosRef:U,disabled:c,children:[e.jsx(tt.Provider,{scope:a,children:e.jsx(fo,{scope:t.__scopeSelect,onNativeOptionAdd:n.useCallback(V=>{ie(te=>new Set(te).add(V))},[]),onNativeOptionRemove:n.useCallback(V=>{ie(te=>{const T=new Set(te);return T.delete(V),T})},[]),children:r})}),Z?e.jsxs(Ka,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:k,value:L,onChange:V=>re(V.target.value),disabled:c,form:I,children:[L===void 0?e.jsx("option",{value:""}):null,Array.from(oe)]},ee):null]})})};Na.displayName=Fe;var Sa="SelectTrigger",ka=n.forwardRef((t,a)=>{const{__scopeSelect:r,disabled:s=!1,...o}=t,i=rt(r),d=Se(Sa,r),u=d.disabled||s,l=ge(a,d.onTriggerChange),m=at(r),p=n.useRef("touch"),[k,c,x]=Ga(f=>{const C=m().filter(w=>!w.disabled),P=C.find(w=>w.value===d.value),v=Qa(C,f,P);v!==void 0&&d.onValueChange(v.value)}),I=f=>{u||(d.onOpenChange(!0),x()),f&&(d.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return e.jsx(Cr,{asChild:!0,...i,children:e.jsx(ne.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Ya(d.value)?"":void 0,...o,ref:l,onClick:J(o.onClick,f=>{f.currentTarget.focus(),p.current!=="mouse"&&I(f)}),onPointerDown:J(o.onPointerDown,f=>{p.current=f.pointerType;const C=f.target;C.hasPointerCapture(f.pointerId)&&C.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(I(f),f.preventDefault())}),onKeyDown:J(o.onKeyDown,f=>{const C=k.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&c(f.key),!(C&&f.key===" ")&&uo.includes(f.key)&&(I(),f.preventDefault())})})})});ka.displayName=Sa;var Ca="SelectValue",Ea=n.forwardRef((t,a)=>{const{__scopeSelect:r,className:s,style:o,children:i,placeholder:d="",...u}=t,l=Se(Ca,r),{onValueNodeHasChildrenChange:m}=l,p=i!==void 0,k=ge(a,l.onValueNodeChange);return je(()=>{m(p)},[m,p]),e.jsx(ne.span,{...u,ref:k,style:{pointerEvents:"none"},children:Ya(l.value)?e.jsx(e.Fragment,{children:d}):i})});Ea.displayName=Ca;var xo="SelectIcon",Ta=n.forwardRef((t,a)=>{const{__scopeSelect:r,children:s,...o}=t;return e.jsx(ne.span,{"aria-hidden":!0,...o,ref:a,children:s||""})});Ta.displayName=xo;var vo="SelectPortal",Ia=t=>e.jsx(Lr,{asChild:!0,...t});Ia.displayName=vo;var Te="SelectContent",Pa=n.forwardRef((t,a)=>{const r=Se(Te,t.__scopeSelect),[s,o]=n.useState();if(je(()=>{o(new DocumentFragment)},[]),!r.open){const i=s;return i?wt.createPortal(e.jsx(Aa,{scope:t.__scopeSelect,children:e.jsx(tt.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(Ma,{...t,ref:a})});Pa.displayName=Te;var ue=10,[Aa,ke]=_e(Te),yo="SelectContentImpl",Ma=n.forwardRef((t,a)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:i,onPointerDownOutside:d,side:u,sideOffset:l,align:m,alignOffset:p,arrowPadding:k,collisionBoundary:c,collisionPadding:x,sticky:I,hideWhenDetached:f,avoidCollisions:C,...P}=t,v=Se(Te,r),[w,g]=n.useState(null),[j,y]=n.useState(null),b=ge(a,N=>g(N)),[A,L]=n.useState(null),[re,U]=n.useState(null),Z=at(r),[oe,ie]=n.useState(!1),ee=n.useRef(!1);n.useEffect(()=>{if(w)return Er(w)},[w]),Tr();const V=n.useCallback(N=>{const[B,...K]=Z().map(q=>q.ref.current),[_]=K.slice(-1),W=document.activeElement;for(const q of N)if(q===W||(q?.scrollIntoView({block:"nearest"}),q===B&&j&&(j.scrollTop=0),q===_&&j&&(j.scrollTop=j.scrollHeight),q?.focus(),document.activeElement!==W))return},[Z,j]),te=n.useCallback(()=>V([A,w]),[V,A,w]);n.useEffect(()=>{oe&&te()},[oe,te]);const{onOpenChange:T,triggerPointerDownPosRef:$}=v;n.useEffect(()=>{if(w){let N={x:0,y:0};const B=_=>{N={x:Math.abs(Math.round(_.pageX)-($.current?.x??0)),y:Math.abs(Math.round(_.pageY)-($.current?.y??0))}},K=_=>{N.x<=10&&N.y<=10?_.preventDefault():w.contains(_.target)||T(!1),document.removeEventListener("pointermove",B),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",K,{capture:!0})}}},[w,T,$]),n.useEffect(()=>{const N=()=>T(!1);return window.addEventListener("blur",N),window.addEventListener("resize",N),()=>{window.removeEventListener("blur",N),window.removeEventListener("resize",N)}},[T]);const[Ce,M]=Ga(N=>{const B=Z().filter(W=>!W.disabled),K=B.find(W=>W.ref.current===document.activeElement),_=Qa(B,N,K);_&&setTimeout(()=>_.ref.current.focus())}),R=n.useCallback((N,B,K)=>{const _=!ee.current&&!K;(v.value!==void 0&&v.value===B||_)&&(L(N),_&&(ee.current=!0))},[v.value]),O=n.useCallback(()=>w?.focus(),[w]),X=n.useCallback((N,B,K)=>{const _=!ee.current&&!K;(v.value!==void 0&&v.value===B||_)&&U(N)},[v.value]),ce=s==="popper"?ft:Ra,z=ce===ft?{side:u,sideOffset:l,align:m,alignOffset:p,arrowPadding:k,collisionBoundary:c,collisionPadding:x,sticky:I,hideWhenDetached:f,avoidCollisions:C}:{};return e.jsx(Aa,{scope:r,content:w,viewport:j,onViewportChange:y,itemRefCallback:R,selectedItem:A,onItemLeave:O,itemTextRefCallback:X,focusSelectedItem:te,selectedItemText:re,position:s,isPositioned:oe,searchRef:Ce,children:e.jsx(Ir,{as:Yt,allowPinchZoom:!0,children:e.jsx(Pr,{asChild:!0,trapped:v.open,onMountAutoFocus:N=>{N.preventDefault()},onUnmountAutoFocus:J(o,N=>{v.trigger?.focus({preventScroll:!0}),N.preventDefault()}),children:e.jsx(Ar,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:N=>N.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:e.jsx(ce,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:N=>N.preventDefault(),...P,...z,onPlaced:()=>ie(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...P.style},onKeyDown:J(P.onKeyDown,N=>{const B=N.ctrlKey||N.altKey||N.metaKey;if(N.key==="Tab"&&N.preventDefault(),!B&&N.key.length===1&&M(N.key),["ArrowUp","ArrowDown","Home","End"].includes(N.key)){let _=Z().filter(W=>!W.disabled).map(W=>W.ref.current);if(["ArrowUp","End"].includes(N.key)&&(_=_.slice().reverse()),["ArrowUp","ArrowDown"].includes(N.key)){const W=N.target,q=_.indexOf(W);_=_.slice(q+1)}setTimeout(()=>V(_)),N.preventDefault()}})})})})})})});Ma.displayName=yo;var bo="SelectItemAlignedPosition",Ra=n.forwardRef((t,a)=>{const{__scopeSelect:r,onPlaced:s,...o}=t,i=Se(Te,r),d=ke(Te,r),[u,l]=n.useState(null),[m,p]=n.useState(null),k=ge(a,b=>p(b)),c=at(r),x=n.useRef(!1),I=n.useRef(!0),{viewport:f,selectedItem:C,selectedItemText:P,focusSelectedItem:v}=d,w=n.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&m&&f&&C&&P){const b=i.trigger.getBoundingClientRect(),A=m.getBoundingClientRect(),L=i.valueNode.getBoundingClientRect(),re=P.getBoundingClientRect();if(i.dir!=="rtl"){const W=re.left-A.left,q=L.left-W,xe=b.left-q,me=b.width+xe,Ie=Math.max(me,A.width),he=window.innerWidth-ue,Le=qt(q,[ue,Math.max(ue,he-Ie)]);u.style.minWidth=me+"px",u.style.left=Le+"px"}else{const W=A.right-re.right,q=window.innerWidth-L.right-W,xe=window.innerWidth-b.right-q,me=b.width+xe,Ie=Math.max(me,A.width),he=window.innerWidth-ue,Le=qt(q,[ue,Math.max(ue,he-Ie)]);u.style.minWidth=me+"px",u.style.right=Le+"px"}const U=c(),Z=window.innerHeight-ue*2,oe=f.scrollHeight,ie=window.getComputedStyle(m),ee=parseInt(ie.borderTopWidth,10),V=parseInt(ie.paddingTop,10),te=parseInt(ie.borderBottomWidth,10),T=parseInt(ie.paddingBottom,10),$=ee+V+oe+T+te,Ce=Math.min(C.offsetHeight*5,$),M=window.getComputedStyle(f),R=parseInt(M.paddingTop,10),O=parseInt(M.paddingBottom,10),X=b.top+b.height/2-ue,ce=Z-X,z=C.offsetHeight/2,N=C.offsetTop+z,B=ee+V+N,K=$-B;if(B<=X){const W=U.length>0&&C===U[U.length-1].ref.current;u.style.bottom="0px";const q=m.clientHeight-f.offsetTop-f.offsetHeight,xe=Math.max(ce,z+(W?O:0)+q+te),me=B+xe;u.style.height=me+"px"}else{const W=U.length>0&&C===U[0].ref.current;u.style.top="0px";const xe=Math.max(X,ee+f.offsetTop+(W?R:0)+z)+K;u.style.height=xe+"px",f.scrollTop=B-X+f.offsetTop}u.style.margin=`${ue}px 0`,u.style.minHeight=Ce+"px",u.style.maxHeight=Z+"px",s?.(),requestAnimationFrame(()=>x.current=!0)}},[c,i.trigger,i.valueNode,u,m,f,C,P,i.dir,s]);je(()=>w(),[w]);const[g,j]=n.useState();je(()=>{m&&j(window.getComputedStyle(m).zIndex)},[m]);const y=n.useCallback(b=>{b&&I.current===!0&&(w(),v?.(),I.current=!1)},[w,v]);return e.jsx(jo,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:x,onScrollButtonChange:y,children:e.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:g},children:e.jsx(ne.div,{...o,ref:k,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Ra.displayName=bo;var wo="SelectPopperPosition",ft=n.forwardRef((t,a)=>{const{__scopeSelect:r,align:s="start",collisionPadding:o=ue,...i}=t,d=rt(r);return e.jsx(Mr,{...d,...i,ref:a,align:s,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ft.displayName=wo;var[jo,Pt]=_e(Te,{}),gt="SelectViewport",_a=n.forwardRef((t,a)=>{const{__scopeSelect:r,nonce:s,...o}=t,i=ke(gt,r),d=Pt(gt,r),u=ge(a,i.onViewportChange),l=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(tt.Slot,{scope:r,children:e.jsx(ne.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:J(o.onScroll,m=>{const p=m.currentTarget,{contentWrapper:k,shouldExpandOnScrollRef:c}=d;if(c?.current&&k){const x=Math.abs(l.current-p.scrollTop);if(x>0){const I=window.innerHeight-ue*2,f=parseFloat(k.style.minHeight),C=parseFloat(k.style.height),P=Math.max(f,C);if(P<I){const v=P+x,w=Math.min(I,v),g=v-w;k.style.height=w+"px",k.style.bottom==="0px"&&(p.scrollTop=g>0?g:0,k.style.justifyContent="flex-end")}}}l.current=p.scrollTop})})})]})});_a.displayName=gt;var La="SelectGroup",[No,So]=_e(La),ko=n.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t,o=bt();return e.jsx(No,{scope:r,id:o,children:e.jsx(ne.div,{role:"group","aria-labelledby":o,...s,ref:a})})});ko.displayName=La;var Oa="SelectLabel",Da=n.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t,o=So(Oa,r);return e.jsx(ne.div,{id:o.id,...s,ref:a})});Da.displayName=Oa;var Xe="SelectItem",[Co,za]=_e(Xe),Ba=n.forwardRef((t,a)=>{const{__scopeSelect:r,value:s,disabled:o=!1,textValue:i,...d}=t,u=Se(Xe,r),l=ke(Xe,r),m=u.value===s,[p,k]=n.useState(i??""),[c,x]=n.useState(!1),I=ge(a,v=>l.itemRefCallback?.(v,s,o)),f=bt(),C=n.useRef("touch"),P=()=>{o||(u.onValueChange(s),u.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Co,{scope:r,value:s,disabled:o,textId:f,isSelected:m,onItemTextChange:n.useCallback(v=>{k(w=>w||(v?.textContent??"").trim())},[]),children:e.jsx(tt.ItemSlot,{scope:r,value:s,disabled:o,textValue:p,children:e.jsx(ne.div,{role:"option","aria-labelledby":f,"data-highlighted":c?"":void 0,"aria-selected":m&&c,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:I,onFocus:J(d.onFocus,()=>x(!0)),onBlur:J(d.onBlur,()=>x(!1)),onClick:J(d.onClick,()=>{C.current!=="mouse"&&P()}),onPointerUp:J(d.onPointerUp,()=>{C.current==="mouse"&&P()}),onPointerDown:J(d.onPointerDown,v=>{C.current=v.pointerType}),onPointerMove:J(d.onPointerMove,v=>{C.current=v.pointerType,o?l.onItemLeave?.():C.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(d.onPointerLeave,v=>{v.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:J(d.onKeyDown,v=>{l.searchRef?.current!==""&&v.key===" "||(mo.includes(v.key)&&P(),v.key===" "&&v.preventDefault())})})})})});Ba.displayName=Xe;var Oe="SelectItemText",Fa=n.forwardRef((t,a)=>{const{__scopeSelect:r,className:s,style:o,...i}=t,d=Se(Oe,r),u=ke(Oe,r),l=za(Oe,r),m=go(Oe,r),[p,k]=n.useState(null),c=ge(a,P=>k(P),l.onItemTextChange,P=>u.itemTextRefCallback?.(P,l.value,l.disabled)),x=p?.textContent,I=n.useMemo(()=>e.jsx("option",{value:l.value,disabled:l.disabled,children:x},l.value),[l.disabled,l.value,x]),{onNativeOptionAdd:f,onNativeOptionRemove:C}=m;return je(()=>(f(I),()=>C(I)),[f,C,I]),e.jsxs(e.Fragment,{children:[e.jsx(ne.span,{id:l.textId,...i,ref:c}),l.isSelected&&d.valueNode&&!d.valueNodeHasChildren?wt.createPortal(i.children,d.valueNode):null]})});Fa.displayName=Oe;var Va="SelectItemIndicator",Wa=n.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t;return za(Va,r).isSelected?e.jsx(ne.span,{"aria-hidden":!0,...s,ref:a}):null});Wa.displayName=Va;var xt="SelectScrollUpButton",Ha=n.forwardRef((t,a)=>{const r=ke(xt,t.__scopeSelect),s=Pt(xt,t.__scopeSelect),[o,i]=n.useState(!1),d=ge(a,s.onScrollButtonChange);return je(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=l.scrollTop>0;i(m)};const l=r.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?e.jsx(qa,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:l}=r;u&&l&&(u.scrollTop=u.scrollTop-l.offsetHeight)}}):null});Ha.displayName=xt;var vt="SelectScrollDownButton",Ua=n.forwardRef((t,a)=>{const r=ke(vt,t.__scopeSelect),s=Pt(vt,t.__scopeSelect),[o,i]=n.useState(!1),d=ge(a,s.onScrollButtonChange);return je(()=>{if(r.viewport&&r.isPositioned){let u=function(){const m=l.scrollHeight-l.clientHeight,p=Math.ceil(l.scrollTop)<m;i(p)};const l=r.viewport;return u(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),o?e.jsx(qa,{...t,ref:d,onAutoScroll:()=>{const{viewport:u,selectedItem:l}=r;u&&l&&(u.scrollTop=u.scrollTop+l.offsetHeight)}}):null});Ua.displayName=vt;var qa=n.forwardRef((t,a)=>{const{__scopeSelect:r,onAutoScroll:s,...o}=t,i=ke("SelectScrollButton",r),d=n.useRef(null),u=at(r),l=n.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return n.useEffect(()=>()=>l(),[l]),je(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),e.jsx(ne.div,{"aria-hidden":!0,...o,ref:a,style:{flexShrink:0,...o.style},onPointerDown:J(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(s,50))}),onPointerMove:J(o.onPointerMove,()=>{i.onItemLeave?.(),d.current===null&&(d.current=window.setInterval(s,50))}),onPointerLeave:J(o.onPointerLeave,()=>{l()})})}),Eo="SelectSeparator",$a=n.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t;return e.jsx(ne.div,{"aria-hidden":!0,...s,ref:a})});$a.displayName=Eo;var yt="SelectArrow",To=n.forwardRef((t,a)=>{const{__scopeSelect:r,...s}=t,o=rt(r),i=Se(yt,r),d=ke(yt,r);return i.open&&d.position==="popper"?e.jsx(Rr,{...o,...s,ref:a}):null});To.displayName=yt;function Ya(t){return t===""||t===void 0}var Ka=n.forwardRef((t,a)=>{const{value:r,...s}=t,o=n.useRef(null),i=ge(a,o),d=lo(r);return n.useEffect(()=>{const u=o.current,l=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(l,"value").set;if(d!==r&&p){const k=new Event("change",{bubbles:!0});p.call(u,r),u.dispatchEvent(k)}},[d,r]),e.jsx(ja,{asChild:!0,children:e.jsx("select",{...s,ref:i,defaultValue:r})})});Ka.displayName="BubbleSelect";function Ga(t){const a=_r(t),r=n.useRef(""),s=n.useRef(0),o=n.useCallback(d=>{const u=r.current+d;a(u),function l(m){r.current=m,window.clearTimeout(s.current),m!==""&&(s.current=window.setTimeout(()=>l(""),1e3))}(u)},[a]),i=n.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,o,i]}function Qa(t,a,r){const o=a.length>1&&Array.from(a).every(m=>m===a[0])?a[0]:a,i=r?t.indexOf(r):-1;let d=Io(t,Math.max(i,0));o.length===1&&(d=d.filter(m=>m!==r));const l=d.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return l!==r?l:void 0}function Io(t,a){return t.map((r,s)=>t[(a+s)%t.length])}var Po=Na,Za=ka,Ao=Ea,Mo=Ta,Ro=Ia,Xa=Pa,_o=_a,Ja=Da,er=Ba,Lo=Fa,Oo=Wa,tr=Ha,ar=Ua,rr=$a;const At=Po,Mt=Ao,st=n.forwardRef(({className:t,children:a,...r},s)=>e.jsxs(Za,{ref:s,className:E("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[a,e.jsx(Mo,{asChild:!0,children:e.jsx(ha,{className:"h-4 w-4 opacity-50"})})]}));st.displayName=Za.displayName;const sr=n.forwardRef(({className:t,...a},r)=>e.jsx(tr,{ref:r,className:E("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(_s,{className:"h-4 w-4"})}));sr.displayName=tr.displayName;const or=n.forwardRef(({className:t,...a},r)=>e.jsx(ar,{ref:r,className:E("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(ha,{className:"h-4 w-4"})}));or.displayName=ar.displayName;const ot=n.forwardRef(({className:t,children:a,position:r="popper",...s},o)=>e.jsx(Ro,{children:e.jsxs(Xa,{ref:o,className:E("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[e.jsx(sr,{}),e.jsx(_o,{className:E("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(or,{})]})}));ot.displayName=Xa.displayName;const Do=n.forwardRef(({className:t,...a},r)=>e.jsx(Ja,{ref:r,className:E("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a}));Do.displayName=Ja.displayName;const De=n.forwardRef(({className:t,children:a,...r},s)=>e.jsxs(er,{ref:s,className:E("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Oo,{children:e.jsx(ma,{className:"h-4 w-4"})})}),e.jsx(Lo,{children:a})]}));De.displayName=er.displayName;const zo=n.forwardRef(({className:t,...a},r)=>e.jsx(rr,{ref:r,className:E("-mx-1 my-1 h-px bg-muted",t),...a}));zo.displayName=rr.displayName;const Rt=n.forwardRef(({className:t,...a},r)=>e.jsx("textarea",{className:E("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a}));Rt.displayName="Textarea";const Bo=Je("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function nr({className:t,variant:a,...r}){return e.jsx("div",{className:E(Bo({variant:a}),t),...r})}const Fo=["Anxiety","Depression","Stress Management","Relationship Counseling","Family Therapy","Trauma Therapy","Addiction Counseling","Career Counseling","Life Coaching","Grief Counseling","Child Psychology","Adolescent Therapy","Group Therapy","Cognitive Behavioral Therapy","Mindfulness-Based Therapy"];function Vo({specializations:t,onSpecializationsChange:a,isLoading:r}){const[s,o]=n.useState(""),i=l=>{l&&!t.includes(l)&&a([...t,l])},d=l=>{a(t.filter(m=>m!==l))},u=()=>{s.trim()&&(i(s.trim()),o(""))};return e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(l=>e.jsxs(nr,{variant:"secondary",className:"flex items-center gap-1",children:[l,e.jsx(et,{className:"h-3 w-3 cursor-pointer",onClick:()=>d(l)})]},l))}),e.jsxs(At,{onValueChange:i,disabled:r,children:[e.jsx(st,{className:"text-black",children:e.jsx(Mt,{className:"text-black",placeholder:"Add a specialization"})}),e.jsx(ot,{children:Fo.filter(l=>!t.includes(l)).map(l=>e.jsx(De,{value:l,children:l},l))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{placeholder:"Custom specialization",value:s,onChange:l=>o(l.target.value),disabled:r,className:"text-black"}),e.jsx(Q,{type:"button",variant:"outline",size:"icon",onClick:u,disabled:r,className:"text-black",children:e.jsx(xa,{className:"h-4 w-4"})})]})]})}const Wo=["English","Spanish","French","German","Italian","Portuguese","Mandarin","Japanese","Korean","Arabic","Hindi","Russian","Dutch","Swedish","Norwegian"];function Ho({languages:t,onLanguagesChange:a,isLoading:r}){const[s,o]=n.useState(""),i=l=>{l&&!t.includes(l)&&a([...t,l])},d=l=>{t.length>1&&a(t.filter(m=>m!==l))},u=()=>{s.trim()&&(i(s.trim()),o(""))};return e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{children:"Languages"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(l=>e.jsxs(nr,{variant:"secondary",className:"flex items-center gap-1",children:[l,t.length>1&&e.jsx(et,{className:"h-3 w-3 cursor-pointer",onClick:()=>d(l)})]},l))}),e.jsxs(At,{onValueChange:i,disabled:r,children:[e.jsx(st,{className:"text-black",children:e.jsx(Mt,{className:"text-black",placeholder:"Add a language"})}),e.jsx(ot,{children:Wo.filter(l=>!t.includes(l)).map(l=>e.jsx(De,{value:l,children:l},l))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(se,{placeholder:"Custom language",value:s,onChange:l=>o(l.target.value),disabled:r,className:"text-black"}),e.jsx(Q,{type:"button",variant:"outline",size:"icon",onClick:u,disabled:r,className:"text-black",children:e.jsx(xa,{className:"h-4 w-4"})})]})]})}function Uo({consultantData:t,setConsultantData:a,isLoading:r}){const s=(o,i)=>{a(d=>({...d,[o]:i}))};return e.jsxs("div",{className:"space-y-4 border-t border-gray-200 dark:border-gray-600 pt-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Consultant Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"bio",className:"text-gray-700 dark:text-gray-200",children:"Professional Bio"}),e.jsx(Rt,{id:"bio",value:t.bio,onChange:o=>s("bio",o.target.value),placeholder:"Tell us about your background, experience, and approach to mental health support...",rows:4,disabled:r,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"location",className:"text-gray-700 dark:text-gray-200",children:"Location"}),e.jsx(se,{id:"location",value:t.location,onChange:o=>s("location",o.target.value),placeholder:"Remote, City, Country",disabled:r,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"hourlyRate",className:"text-gray-700 dark:text-gray-200",children:"Hourly Rate (USD)"}),e.jsx(se,{id:"hourlyRate",type:"number",min:"1",step:"0.01",value:t.hourlyRate,onChange:o=>s("hourlyRate",o.target.value),placeholder:"50.00",disabled:r,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"paypalEmail",className:"text-gray-700 dark:text-gray-200",children:"PayPal Email"}),e.jsx(se,{id:"paypalEmail",type:"email",value:t.paypalEmail,onChange:o=>s("paypalEmail",o.target.value),placeholder:"your-paypal@email.com",disabled:r,className:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsx(Vo,{specializations:t.specializations,onSpecializationsChange:o=>s("specializations",o),isLoading:r}),e.jsx(Ho,{languages:t.languages,onLanguagesChange:o=>s("languages",o),isLoading:r})]})}function qo(){const t=ze(),{signup:a}=Ne(),{toast:r}=St(),[s,o]=n.useState({name:"",email:"",password:"",confirmPassword:"",role:"user"}),[i,d]=n.useState({bio:"",location:"Remote",hourlyRate:"",paypalEmail:"",specializations:[],languages:["English"]}),[u,l]=n.useState(!1),m=c=>{const{name:x,value:I}=c.target;o(f=>({...f,[x]:I}))},p=()=>{if(!s.name.trim())return r({title:"Validation Error",description:"Name is required",variant:"destructive"}),!1;if(!s.email.trim())return r({title:"Validation Error",description:"Email is required",variant:"destructive"}),!1;if(s.password.length<6)return r({title:"Validation Error",description:"Password must be at least 6 characters",variant:"destructive"}),!1;if(s.password!==s.confirmPassword)return r({title:"Validation Error",description:"Passwords do not match",variant:"destructive"}),!1;if(s.role==="consultant"){if(!i.bio.trim())return r({title:"Validation Error",description:"Bio is required for consultants",variant:"destructive"}),!1;if(!i.paypalEmail.trim())return r({title:"Validation Error",description:"PayPal email is required for consultants",variant:"destructive"}),!1;if(!i.hourlyRate||parseFloat(i.hourlyRate)<=0)return r({title:"Validation Error",description:"Valid hourly rate is required for consultants",variant:"destructive"}),!1;if(i.specializations.length===0)return r({title:"Validation Error",description:"At least one specialization is required for consultants",variant:"destructive"}),!1}return!0},k=async c=>{if(c.preventDefault(),!!p()){l(!0),console.log("Starting signup process..."),console.log("Form data:",{...s,password:"[REDACTED]"}),console.log("Consultant data:",i);try{const x={email:s.email,name:s.name,role:s.role,specialization:s.role==="consultant"?i.specializations:void 0,languages:s.role==="consultant"?i.languages:void 0,location:s.role==="consultant"?i.location:void 0,paypalEmail:s.role==="consultant"?i.paypalEmail:void 0,bio:s.role==="consultant"?i.bio:void 0};await a(x,s.password),s.role==="consultant"?r({title:"Application Submitted!",description:"Your consultant application has been submitted for review. You'll be notified once it's approved."}):r({title:"Account Created!",description:"Your account has been created successfully."}),t("/")}catch(x){console.error("Signup process failed:",x),r({title:"Signup Failed",description:x.message||"An unexpected error occurred during signup.",variant:"destructive"})}finally{l(!1)}}};return e.jsx("div",{className:"w-full max-w-2xl mx-auto",children:e.jsxs(kt,{className:"bg-white dark:bg-mental-green-950 border-gray-200 dark:border-mental-green-800 text-gray-900 dark:text-white",children:[e.jsxs(Ct,{className:"space-y-1",children:[e.jsx("img",{src:"/assets/OurMinds.png",alt:"Our Minds Logo",className:"mx-auto h-12 w-12"}),e.jsx(Et,{className:"text-2xl text-center text-gray-900 dark:text-white",children:"Create an Account"}),e.jsx(Tt,{className:"text-center text-gray-600 dark:text-gray-300",children:"Join our mental health support community"})]}),e.jsx(It,{children:e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"name",className:"text-gray-700 dark:text-gray-200",children:"Full Name"}),e.jsx(se,{id:"name",name:"name",type:"text",value:s.name,onChange:m,required:!0,disabled:u,className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"email",className:"text-gray-700 dark:text-gray-200",children:"Email"}),e.jsx(se,{id:"email",name:"email",type:"email",value:s.email,onChange:m,required:!0,disabled:u,className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"role",className:"text-gray-700 dark:text-gray-200",children:"Account Type"}),e.jsxs(At,{value:s.role,onValueChange:c=>o(x=>({...x,role:c})),disabled:u,children:[e.jsx(st,{className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600",children:e.jsx(Mt,{})}),e.jsxs(ot,{className:"bg-white dark:bg-[#212121] border-gray-300 dark:border-gray-600",children:[e.jsx(De,{value:"user",className:"text-gray-900 dark:text-gray-100",children:"User"}),e.jsx(De,{value:"consultant",className:"text-gray-900 dark:text-gray-100",children:"Consultant"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"password",className:"text-gray-700 dark:text-gray-200",children:"Password"}),e.jsx(se,{id:"password",name:"password",type:"password",value:s.password,onChange:m,required:!0,disabled:u,className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600",minLength:6})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"confirmPassword",className:"text-gray-700 dark:text-gray-200",children:"Confirm Password"}),e.jsx(se,{id:"confirmPassword",name:"confirmPassword",type:"password",value:s.confirmPassword,onChange:m,required:!0,disabled:u,className:"bg-white dark:bg-[#212121] text-gray-900 dark:text-gray-100 border-gray-300 dark:border-gray-600",minLength:6})]}),s.role==="consultant"&&e.jsx(Uo,{consultantData:i,setConsultantData:d,isLoading:u}),e.jsx(Q,{type:"submit",className:"w-full bg-mental-green-600 hover:bg-mental-green-700 dark:bg-mental-green-600 dark:hover:bg-mental-green-500 text-white",disabled:u,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Os,{className:"mr-2 h-4 w-4 animate-spin"}),s.role==="consultant"?"Submitting Application...":"Creating Account..."]}):s.role==="consultant"?"Submit Application":"Create Account"}),e.jsxs("div",{className:"text-center text-sm pt-2",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Already have an account?"," "]}),e.jsx(ae,{to:"/login",className:"text-mental-green-600 dark:text-mental-green-400 hover:underline font-medium transition-colors",children:"Login"})]})]})})]})})}function $o(){const{isAuthenticated:t}=Ne(),a=ze();return n.useEffect(()=>{t&&a("/")},[t,a]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-mental-green-50 dark:bg-black p-4",children:e.jsx(qo,{})})}const Yo=()=>{const t=Be();return n.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),e.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ir=n.createContext(void 0);function Ko({children:t}){const{data:a,isLoading:r,error:s}=la({queryKey:["platform-settings-public"],queryFn:async()=>{const{data:i,error:d}=await Y.from("platform_settings").select("*").order("created_at",{ascending:!0}).limit(1).maybeSingle();return d?(console.error("Error fetching platform settings:",d),{platformName:"Mental Health Platform",contactEmail:"support@example.com",platformFee:4,enableChat:!0,enableBooking:!0,enableStories:!0,mission:"Our mission is to make mental health support accessible to everyone, everywhere.",vision:"We envision a world where mental health is treated with the same importance as physical health.",values:"Compassion, Accessibility, Quality, Privacy, and Inclusion."}):i?{platformName:i.mission?.split(" - ")?.[0]||"Mental Health Platform",contactEmail:i.contact_email||"support@example.com",platformFee:i.platform_fee_percentage||4,enableChat:i.enable_chat??!0,enableBooking:i.enable_booking??!0,enableStories:i.enable_stories??!0,mission:i.mission||"Our mission is to make mental health support accessible to everyone, everywhere.",vision:i.vision||"We envision a world where mental health is treated with the same importance as physical health.",values:i.values||"Compassion, Accessibility, Quality, Privacy, and Inclusion."}:{platformName:"Mental Health Platform",contactEmail:"support@example.com",platformFee:4,enableChat:!0,enableBooking:!0,enableStories:!0,mission:"Our mission is to make mental health support accessible to everyone, everywhere.",vision:"We envision a world where mental health is treated with the same importance as physical health.",values:"Compassion, Accessibility, Quality, Privacy, and Inclusion."}},staleTime:3e5,refetchOnWindowFocus:!1}),o={settings:a,isLoading:r,error:s,isChatEnabled:a?.enableChat??!0,isBookingEnabled:a?.enableBooking??!0,isStoriesEnabled:a?.enableStories??!0};return e.jsx(ir.Provider,{value:o,children:t})}function _t(){const t=n.useContext(ir);if(t===void 0)throw new Error("useFeatureFlags must be used within a FeatureFlagsProvider");return t}function Go(){const{settings:t}=_t();return t}function Qo(t){const{isChatEnabled:a,isBookingEnabled:r,isStoriesEnabled:s}=_t();switch(t){case"chat":return a;case"booking":return r;case"stories":return s;default:return!1}}const Ue=({children:t,requireAdmin:a=!1})=>{const{isAuthenticated:r,isAdmin:s,loading:o,session:i}=Ne(),d=Be();return o?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):!r||!i?(console.log("Not authenticated or missing session, redirecting to login"),e.jsx(ut,{to:"/login",state:{from:d},replace:!0})):a&&!s?(console.log("Admin access required but user is not admin, redirecting to home"),e.jsx(ut,{to:"/home",replace:!0})):e.jsx(e.Fragment,{children:t})},Zo=Br,Xo=Fr,Jo=n.forwardRef(({className:t,inset:a,children:r,...s},o)=>e.jsxs(Gt,{ref:o,className:E("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",t),...s,children:[r,e.jsx(Rs,{className:"ml-auto h-4 w-4"})]}));Jo.displayName=Gt.displayName;const en=n.forwardRef(({className:t,...a},r)=>e.jsx(Qt,{ref:r,className:E("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a}));en.displayName=Qt.displayName;const lr=n.forwardRef(({className:t,sideOffset:a=4,...r},s)=>e.jsx(zr,{children:e.jsx(Zt,{ref:s,sideOffset:a,className:E("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));lr.displayName=Zt.displayName;const Qe=n.forwardRef(({className:t,inset:a,...r},s)=>e.jsx(Xt,{ref:s,className:E("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",t),...r}));Qe.displayName=Xt.displayName;const tn=n.forwardRef(({className:t,children:a,checked:r,...s},o)=>e.jsxs(Jt,{ref:o,className:E("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ea,{children:e.jsx(ma,{className:"h-4 w-4"})})}),a]}));tn.displayName=Jt.displayName;const an=n.forwardRef(({className:t,children:a,...r},s)=>e.jsxs(ta,{ref:s,className:E("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ea,{children:e.jsx(Ls,{className:"h-2 w-2 fill-current"})})}),a]}));an.displayName=ta.displayName;const cr=n.forwardRef(({className:t,inset:a,...r},s)=>e.jsx(aa,{ref:s,className:E("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...r}));cr.displayName=aa.displayName;const Ze=n.forwardRef(({className:t,...a},r)=>e.jsx(ra,{ref:r,className:E("-mx-1 my-1 h-px bg-muted",t),...a}));Ze.displayName=ra.displayName;const rn=Hr,sn=Ur,on=Wr,dr=n.forwardRef(({className:t,...a},r)=>e.jsx(sa,{ref:r,className:E("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a}));dr.displayName=sa.displayName;const ur=n.forwardRef(({className:t,children:a,...r},s)=>e.jsxs(on,{children:[e.jsx(dr,{}),e.jsxs(oa,{ref:s,className:E("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[a,e.jsxs(Vr,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(et,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ur.displayName=oa.displayName;const mr=({className:t,...a})=>e.jsx("div",{className:E("flex flex-col space-y-1.5 text-center sm:text-left",t),...a});mr.displayName="DialogHeader";const hr=({className:t,...a})=>e.jsx("div",{className:E("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});hr.displayName="DialogFooter";const pr=n.forwardRef(({className:t,...a},r)=>e.jsx(na,{ref:r,className:E("text-lg font-semibold leading-none tracking-tight",t),...a}));pr.displayName=na.displayName;const nn=n.forwardRef(({className:t,...a},r)=>e.jsx(ia,{ref:r,className:E("text-sm text-muted-foreground",t),...a}));nn.displayName=ia.displayName;function ln({imagePreview:t,onImageSelect:a,onImageRemove:r}){const s=o=>{o.target.files&&o.target.files[0]&&a(o.target.files[0])};return e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"coverImage",children:"Cover Image"}),e.jsx("div",{className:"flex items-center gap-4",children:t?e.jsxs("div",{className:"relative w-32 h-32",children:[e.jsx("img",{src:t,alt:"Story cover",className:"w-full h-full object-cover rounded-lg"}),e.jsx(Q,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1",onClick:r,children:""})]}):e.jsxs("div",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center",children:[e.jsx(se,{type:"file",id:"coverImage",accept:"image/*",onChange:s,className:"hidden"}),e.jsxs("label",{htmlFor:"coverImage",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(Ws,{className:"w-8 h-8 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Upload Image"})]})]})})]})}const fr=[{value:"mental",label:"Mental Health"},{value:"control",label:"Self Control"},{value:"drugs",label:"Substance Abuse"},{value:"life",label:"Life Skills"},{value:"anxiety",label:"Anxiety"},{value:"depression",label:"Depression"}];function cn({selectedTag:t,onTagChange:a}){return e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"tagType",children:"Primary Tag"}),e.jsx("select",{id:"tagType",name:"tagType",className:"w-full h-10 pl-3 pr-4 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-mental-green-500",value:t,onChange:a,children:fr.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))})]})}function dn({title:t,snippet:a,content:r,onInputChange:s}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"title",children:"Story Title"}),e.jsx(se,{id:"title",name:"title",value:t,onChange:s,placeholder:"Enter a title for your story",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"snippet",children:"Short Description"}),e.jsx(se,{id:"snippet",name:"snippet",value:a,onChange:s,placeholder:"A brief description that will appear in previews"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Optional - will use the beginning of your story if left blank"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{htmlFor:"content",children:"Story Content"}),e.jsx(Rt,{id:"content",name:"content",value:r,onChange:s,placeholder:"Share your story...",className:"min-h-[200px]",required:!0})]})]})}function un({onClose:t,story:a}){const{toast:r}=St(),s=ze(),{user:o}=Ne(),[i,d]=n.useState(!1),[u,l]=n.useState({title:a?.title||"",snippet:a?.snippet||"",content:a?.content||"",tags:a?.tags||["Mental Health"],tagType:a?.tag_type||"mental",coverImage:a?.cover_image||""}),[m,p]=n.useState(null),[k,c]=n.useState(a?.cover_image||"");n.useEffect(()=>{a&&(c(a.cover_image),l({title:a.title,snippet:a.snippet,content:a.content,tags:a.tags,tagType:a.tag_type,coverImage:a.cover_image}))},[a]);const x=w=>{const{name:g,value:j}=w.target;l(y=>({...y,[g]:j}))},I=w=>{p(w),c(URL.createObjectURL(w)),l(g=>({...g,coverImage:URL.createObjectURL(w)}))},f=()=>{p(null),c(""),l(w=>({...w,coverImage:""}))},C=w=>{const g=w.target.value,j=fr.find(y=>y.value===g)?.label||"";l(y=>({...y,tagType:g,tags:[j,...y.tags.slice(1)]}))},P=async w=>{try{const g=w.name.split(".").pop(),y=`${`${Math.random().toString(36).substring(2,15)}.${g}`}`,{error:b}=await Y.storage.from("story_images").upload(y,w);if(b)throw b;const{data:{publicUrl:A}}=Y.storage.from("story_images").getPublicUrl(y);return A}catch(g){throw console.error("Error uploading image:",g),g}},v=async w=>{if(w.preventDefault(),!o){r({title:"Authentication required",description:"You must be logged in to create a story",variant:"destructive"});return}if(!u.title||!u.content){r({title:"Missing information",description:"Please provide a title and content for your story",variant:"destructive"});return}d(!0);try{let g=u.coverImage;m&&(g=await P(m));const{data:j}=await Y.auth.getSession();if(!j.session)throw new Error("You must be logged in to create a story");const y={title:u.title,snippet:u.snippet||u.content.slice(0,100)+"...",content:u.content,cover_image:g,author_id:o.id,tags:u.tags,tag_type:u.tagType,is_featured:a?a.is_featured:!1,published_at:a?a.published_at:new Date().toISOString()};let b;a?b=await Y.from("stories").update(y).eq("id",a.id).eq("author_id",o.id).select("id").single():b=await Y.from("stories").insert(y).select("id").single();const{data:A,error:L}=b;if(L)throw console.error("Supabase error details:",L),L;r({title:a?"Story updated!":"Story published!",description:a?"Your story has been updated successfully":"Your story has been published successfully"}),t(),setTimeout(()=>{a?window.location.reload():s(`/story/${A.id}`)},500)}catch(g){console.error("Error creating/updating story:",g),r({title:a?"Failed to update story":"Failed to create story",description:g?.message||"There was an error. Please try again.",variant:"destructive"})}finally{d(!1)}};return e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(ln,{imagePreview:k,onImageSelect:I,onImageRemove:f}),e.jsx(dn,{title:u.title,snippet:u.snippet,content:u.content,onInputChange:x}),e.jsx(cn,{selectedTag:u.tagType,onTagChange:C})]}),e.jsxs(hr,{className:"pt-4 border-t border-border/30 flex gap-3",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:t,className:"flex-1 sm:flex-none",children:"Cancel"}),e.jsx(Q,{type:"submit",disabled:i,className:"flex-1 sm:flex-none bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:i?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a?"Updating...":"Publishing..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[a?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(va,{className:"w-4 h-4"}),a?"Update Story":"Publish Story"]})})]})]})}function $t({children:t,story:a,onOpenChange:r}){const[s,o]=n.useState(!1),i=d=>{o(d),r&&r(d)};return e.jsxs(rn,{open:s,onOpenChange:i,children:[e.jsx(sn,{asChild:!0,children:t||e.jsxs(Q,{className:"bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 text-primary-foreground shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(zs,{className:"w-4 h-4 mr-2"}),"Share Your Story"]})}),e.jsxs(ur,{className:"sm:max-w-[700px] max-h-[85vh] overflow-hidden bg-gradient-to-br from-background via-background to-accent/5 border-0 shadow-2xl rounded-3xl",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/10 pointer-events-none"}),e.jsx(mr,{className:"relative z-10 pb-6 border-b border-border/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-primary/10 to-accent/20 ring-1 ring-primary/20",children:a?e.jsx(jt,{className:"w-6 h-6 text-primary"}):e.jsx(va,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx(pr,{className:"text-2xl font-bold bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text",children:a?"Edit Your Story":"Create Your Story"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a?"Update your story and share your journey":"Share your mental health journey with others"})]})]})}),e.jsx("div",{className:"relative z-10 max-h-[65vh] overflow-y-auto scrollbar-thin pr-2",children:e.jsx("div",{className:"py-4",children:e.jsx(un,{story:a,onClose:()=>i(!1)})})})]})]})}function mn(){const{theme:t,setTheme:a}=ts();return e.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>a(t==="light"?"dark":"light"),className:"w-full justify-start",children:[e.jsx(Fs,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),e.jsx(Ds,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),e.jsx("span",{className:"ml-2",children:t==="light"?"Switch to Dark":"Switch to Light"})]})}function hn(){const{profile:t,isAuthenticated:a,isAdmin:r,logout:s}=Ne(),{isStoriesEnabled:o,isChatEnabled:i,isBookingEnabled:d}=_t(),u=Go();n.useState(!1);const l=u?.platformName||"OUR MINDS";return e.jsx("header",{className:"sticky top-0 z-50 w-full bg-[#025803] border-b border-[#025803]/20 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-14 px-4 max-w-full",children:[e.jsx("div",{className:"flex items-center space-x-4 min-w-0 flex-shrink-0",children:e.jsxs(ae,{to:"/",className:"flex items-center space-x-3 group",children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:"/assets/OurMinds.png",alt:"Our Minds Logo",className:"h-8 w-8 rounded-md object-cover group-hover:opacity-90 transition-all duration-200"})}),e.jsx("span",{className:"text-xl font-bold text-white tracking-tight hidden sm:block group-hover:text-white/90 transition-colors",children:l})]})}),e.jsx("div",{className:"flex items-center justify-center flex-1",children:e.jsxs("nav",{className:"hidden lg:flex items-center space-x-1",children:[e.jsx(ae,{to:"/",className:"px-4 py-2 text-sm font-medium text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:"Home"}),e.jsx(ae,{to:"/about",className:"px-4 py-2 text-sm font-medium text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:"About"}),a&&e.jsxs(e.Fragment,{children:[i,d]}),!a&&e.jsx(ae,{to:"/login",className:"px-4 py-2 text-sm font-medium text-white/90 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:"Login"})]})}),e.jsx("div",{className:"flex items-center space-x-3 flex-shrink-0",children:a?e.jsxs(e.Fragment,{children:[o&&e.jsx("div",{className:"hidden sm:block",children:e.jsx($t,{children:e.jsxs(Q,{variant:"outline",size:"sm",className:"group relative overflow-hidden bg-white/95 text-[#025803] border-2 border-white/20 hover:bg-white hover:border-white hover:shadow-lg hover:shadow-white/20 transition-all duration-300 h-10 px-5 font-semibold text-sm backdrop-blur-sm hover:scale-105 active:scale-95",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ht,{size:16,className:"transition-transform duration-300 group-hover:rotate-12"}),e.jsx("span",{className:"relative z-10",children:"Share"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})}),o&&e.jsx("div",{className:"sm:hidden",children:e.jsx($t,{children:e.jsx(Q,{variant:"ghost",size:"sm",className:"group relative p-2.5 text-white hover:bg-white/15 rounded-xl transition-all duration-300 hover:scale-110 active:scale-95",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ht,{size:18,className:"transition-transform duration-300 group-hover:rotate-12"}),e.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-full scale-0 group-hover:scale-100 transition-transform duration-300 -z-10"})]})})})}),e.jsxs(Zo,{children:[e.jsx(Xo,{asChild:!0,children:e.jsx(Q,{variant:"ghost",size:"sm",className:"p-1 rounded-full hover:bg-white/10",children:t?.profileImage?e.jsx("img",{src:t.profileImage,alt:t.name,className:"h-8 w-8 rounded-full object-cover"}):e.jsx("span",{className:"h-8 w-8 rounded-full bg-white flex items-center justify-center text-sm font-semibold text-[#025803]",children:t?.name?.charAt(0)||"U"})})}),e.jsxs(lr,{align:"end",className:"w-56 mt-2",children:[e.jsx(cr,{children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"font-medium",children:t?.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t?.email})]})}),e.jsx(Ze,{}),e.jsx(Qe,{asChild:!0,children:e.jsx(ae,{to:"/profile",className:"cursor-pointer",children:"Profile"})}),r&&e.jsx(Qe,{asChild:!0,children:e.jsx(ae,{to:"/admin",className:"cursor-pointer",children:"Admin Panel"})}),e.jsx(Ze,{}),e.jsx("div",{className:"p-1",children:e.jsx(mn,{})}),e.jsx(Ze,{}),e.jsx(Qe,{onClick:()=>s(),className:"cursor-pointer",children:"Log out"})]})]})]}):e.jsx(ae,{to:"/login",children:e.jsx(Q,{variant:"default",size:"sm",className:"bg-white text-[#025803] hover:bg-white/90 font-medium px-5 h-9",children:"Sign in"})})})]})})}function pn({className:t}){const a=Be(),{isAuthenticated:r,user:s}=Ne(),[o,i]=n.useState(0),{data:d,refetch:u}=la({queryKey:["unreadMessages",s?.id],queryFn:async()=>{if(!s)return[];console.log("Fetching unread messages for user:",s.id);try{const{data:m,error:p}=await Y.from("chat_threads").select("id").or(`user_id.eq.${s.id},consultant_id.eq.${s.id}`);if(p)return console.error("Error fetching threads:",p),[];if(!m||m.length===0)return[];const k=m.map(I=>I.id),{data:c,error:x}=await Y.from("chat_messages").select("*").in("thread_id",k).neq("sender_id",s.id).eq("read",!1);return x?(console.error("Error fetching unread messages:",x),[]):(console.log("Unread messages:",c?.length||0),c||[])}catch(m){return console.error("Error fetching unread messages:",m),[]}},enabled:!!r&&!!s});n.useEffect(()=>{if(!s)return;const m=Y.channel("sidebar-unread-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},p=>{p.new&&p.new.sender_id!==s.id&&(console.log("New message detected, refetching unread count..."),u())}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"chat_messages",filter:"read=eq.true"},()=>{console.log("Messages marked as read, refetching unread count..."),u()}).subscribe();return()=>{Y.removeChannel(m)}},[s,u]),n.useEffect(()=>{d&&i(d.length)},[d]);const l=[{icon:fa,label:"Home",href:"/"},{icon:ga,label:"Chat",href:"/chat",badge:o>0?o:void 0},{icon:Hs,label:"Consult",href:"/consult"},{icon:As,label:"Book a session",href:"/book-session"}];return e.jsx("aside",{className:E("w-12 md:w-48 h-full bg-gray-200 dark:bg-[#1a1a1a] border-r border-gray-300 dark:border-[#2a2a2a] flex-shrink-0",t),children:e.jsxs("nav",{className:"flex-1 min-h-0 flex flex-col py-4",children:[e.jsx("ul",{className:"space-y-1 px-1",children:l.map(m=>{const p=a.pathname===m.href||m.href==="/chat"&&a.pathname.startsWith("/chat");return e.jsx("li",{children:e.jsxs(ae,{to:m.href,className:E("flex items-center px-2 py-2 rounded-lg transition-colors relative",p?"bg-[#025803] text-white dark:bg-[#025803] dark:text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-[#2a2a2a]","mb-1","w-full"),children:[e.jsx(m.icon,{size:18,className:"min-w-[18px]"}),e.jsx("span",{className:"ml-2 hidden md:block text-sm",children:m.label}),m.badge&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:m.badge})]})},m.href)})}),e.jsxs("div",{className:"mt-auto p-2 border-t border-gray-300 dark:border-[#2a2a2a]",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 hidden md:block",children:"Powered by"}),e.jsx("p",{className:"text-xs font-medium text-[#025803] dark:text-[#025803] hidden md:block",children:"Bornelabs"})]})]})})}const dt=768;function fn(){const[t,a]=n.useState(void 0);return n.useEffect(()=>{const r=window.matchMedia(`(max-width: ${dt-1}px)`),s=()=>{a(window.innerWidth<dt)};return r.addEventListener("change",s),a(window.innerWidth<dt),()=>r.removeEventListener("change",s)},[]),!!t}function gn({children:t,showSidebar:a=!0,hideMobileBottomNav:r=!1}){const s=fn(),o=Be();o.pathname.startsWith("/chat");const i=d=>d==="/"?o.pathname==="/":o.pathname.startsWith(d);return e.jsxs("div",{className:"min-h-screen flex flex-col bg-white dark:bg-black",children:[e.jsx(hn,{}),e.jsxs("div",{className:"flex flex-1 relative min-h-0",children:[a&&!s&&e.jsx("div",{className:"fixed top-14 left-0 h-[calc(100vh-3.5rem)] w-12 md:w-48 bg-gray-200 dark:bg-gray-900 border-r border-gray-300 dark:border-gray-700 z-20",children:e.jsx(pn,{className:"h-full"})}),e.jsx("main",{className:`
          flex flex-col flex-1 min-h-0 relative
          ${!s&&a?"ml-12 md:ml-48":"ml-0"}
          bg-white dark:bg-black
        `,children:t})]}),s&&a&&!r&&e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-black border-t border-gray-200 dark:border-gray-700 z-50",children:e.jsxs("div",{className:"flex justify-around items-center py-2 px-4 h-16",children:[e.jsxs(ae,{to:"/home",className:`flex flex-col items-center min-w-0 flex-1 transition-colors ${i("/")?"text-mental-green-600 dark:text-mental-green-400":"text-gray-500 dark:text-gray-400 hover:text-mental-green-600 dark:hover:text-mental-green-400"}`,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),e.jsxs(ae,{to:"/chat",className:`flex flex-col items-center min-w-0 flex-1 transition-colors ${i("/chat")?"text-mental-green-600 dark:text-mental-green-400":"text-gray-500 dark:text-gray-400 hover:text-mental-green-600 dark:hover:text-mental-green-400"}`,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),e.jsx("span",{className:"text-xs mt-1",children:"Chat"})]}),e.jsxs(ae,{to:"/consult",className:`flex flex-col items-center min-w-0 flex-1 transition-colors ${i("/consult")?"text-mental-green-600 dark:text-mental-green-400":"text-gray-500 dark:text-gray-400 hover:text-mental-green-600 dark:hover:text-mental-green-400"}`,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 1 0 7.75"})]}),e.jsx("span",{className:"text-xs mt-1",children:"Consult"})]}),e.jsxs(ae,{to:"/book-session",className:`flex flex-col items-center min-w-0 flex-1 transition-colors ${i("/book-session")?"text-mental-green-600 dark:text-mental-green-400":"text-gray-500 dark:text-gray-400 hover:text-mental-green-600 dark:hover:text-mental-green-400"}`,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),e.jsx("span",{className:"text-xs mt-1",children:"Book"})]})]})})]})}function qe({featureName:t,description:a,icon:r=e.jsx(Vs,{className:"h-12 w-12 text-muted-foreground"})}){return e.jsx(gn,{children:e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsx("div",{className:"flex justify-center",children:e.jsxs(kt,{className:"w-full max-w-md text-center",children:[e.jsxs(Ct,{className:"pb-4",children:[e.jsx("div",{className:"flex justify-center mb-4",children:r}),e.jsxs(Et,{className:"text-2xl font-bold",children:[t," Temporarily Unavailable"]}),e.jsx(Tt,{className:"text-base mt-2",children:a})]}),e.jsxs(It,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"This feature has been temporarily disabled by the administrators. Please check back later or contact support for more information."}),e.jsx(ae,{to:"/home",children:e.jsxs(Q,{className:"w-full",variant:"default",children:[e.jsx(fa,{className:"h-4 w-4 mr-2"}),"Return to Home"]})})]})]})})})})}function $e({feature:t,children:a,fallback:r}){if(!Qo(t)){if(r)return e.jsx(e.Fragment,{children:r});switch(t){case"chat":return e.jsx(qe,{featureName:"Chat",description:"The chat feature allows direct communication with consultants.",icon:e.jsx(ga,{className:"h-12 w-12 text-muted-foreground"})});case"booking":return e.jsx(qe,{featureName:"Session Booking",description:"Book one-on-one sessions with our mental health consultants.",icon:e.jsx(Ms,{className:"h-12 w-12 text-muted-foreground"})});case"stories":return e.jsx(qe,{featureName:"Stories",description:"Read and share inspiring mental health stories from our community.",icon:e.jsx(jt,{className:"h-12 w-12 text-muted-foreground"})});default:return e.jsx(qe,{featureName:"Feature",description:"This feature is currently unavailable."})}}return e.jsx(e.Fragment,{children:a})}function ye(t,a=1,r=400){const s=()=>t().catch(o=>{if(a<=0)throw o;return new Promise((i,d)=>{setTimeout(()=>{t().then(i).catch(d)},r)})});return n.lazy(s)}function Ye({className:t,variant:a="default"}){const r={default:"h-4 w-full",card:"h-32 w-full rounded-lg",text:"h-3 w-3/4",circular:"h-10 w-10 rounded-full"};return e.jsx("div",{className:E("animate-pulse bg-muted rounded",r[a],t)})}function xn(){return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsx(Ye,{variant:"card"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Ye,{variant:"text"}),e.jsx(Ye,{variant:"text",className:"w-1/2"}),e.jsx(Ye,{variant:"text",className:"w-2/3"})]})]})}class vn extends h.Component{state={hasError:!1};static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,r){console.error("Lazy load error boundary caught an error:",a,r)}handleRetry=()=>{this.setState({hasError:!1,error:void 0}),navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),window.location.reload()};render(){return this.state.hasError?this.props.fallback?e.jsx(e.Fragment,{children:this.props.fallback}):e.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"A loading error occurred. Please try again."}),e.jsx("button",{onClick:this.handleRetry,className:"inline-flex items-center rounded-md border px-4 py-2 text-sm",children:"Reload app"})]}):this.props.children}}function be({children:t,fallback:a=xn}){return e.jsx(vn,{fallback:e.jsx(a,{}),children:e.jsx(n.Suspense,{fallback:e.jsx(a,{}),children:t})})}const yn=ye(()=>ve(()=>import("./HomePage-SS6SuSWr.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),bn=ye(()=>ve(()=>import("./ChatPage-CpZLrVGO.js"),__vite__mapDeps([17,1,2,14,12,18,3,13,19,15,16]))),wn=ye(()=>ve(()=>import("./ProfilePage-BuOII374.js"),__vite__mapDeps([20,1,2,21,4,22,23,24,10,8,25,26,3,27,28,14,15,16]))),jn=ye(()=>ve(()=>import("./ConsultPage-BfHX41xG.js"),__vite__mapDeps([29,1,2,18,3,12,30,23,14,15,16]))),Nn=ye(()=>ve(()=>import("./BookSessionPage-IDAwWtAW.js"),__vite__mapDeps([31,1,2,14,9,30,23,10,3,11,15,16]))),Sn=ye(()=>ve(()=>import("./AdminPanel-KnJqQwXs.js").then(t=>t.A),__vite__mapDeps([32,16,2,1,3,21]))),kn=ye(()=>ve(()=>import("./AboutPage-D0oo_is_.js"),__vite__mapDeps([33,1,2,14,34,35,3,15,16]))),Cn=ye(()=>ve(()=>import("./StoryPage-CZPT5Mwt.js"),__vite__mapDeps([36,1,2,19,4,10,35,6,7,8,14,28,3,15,16]))),En=ye(()=>ve(()=>import("./PublicProfilePage-DV3aFkqa.js"),__vite__mapDeps([37,1,2,14,13,3,25,8,26,30,23,15,16]))),Tn=()=>e.jsx(be,{children:e.jsx(yn,{})}),In=()=>e.jsx(be,{children:e.jsx(bn,{})}),Pn=()=>e.jsx(be,{children:e.jsx(wn,{})}),An=()=>e.jsx(be,{children:e.jsx(jn,{})}),Mn=()=>e.jsx(be,{children:e.jsx(Nn,{})}),Rn=()=>e.jsx(be,{children:e.jsx(Sn,{})}),_n=()=>e.jsx(be,{children:e.jsx(kn,{})}),Ln=()=>e.jsx(be,{children:e.jsx(Cn,{})}),On=()=>e.jsx(be,{children:e.jsx(En,{})}),Dn=new Kr({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:10*60*1e3,gcTime:15*60*1e3}}}),zn=()=>e.jsx(Gr,{client:Dn,children:e.jsx(ao,{children:e.jsx(Ko,{children:e.jsxs(es,{defaultTheme:"light",storageKey:"theme-preference",children:[e.jsx($r,{router:Yr([{path:"/",element:e.jsx(ut,{to:"/home"})},{path:"/home",element:e.jsx(Tn,{})},{path:"/about",element:e.jsx(_n,{})},{path:"/login",element:e.jsx(no,{})},{path:"/signup",element:e.jsx($o,{})},{path:"/profile",element:e.jsx(Ue,{children:e.jsx(Pn,{})})},{path:"/profile/:userId",element:e.jsx(On,{})},{path:"/story/:storyId",element:e.jsx($e,{feature:"stories",children:e.jsx(Ln,{})})},{path:"/chat/:threadId?",element:e.jsx(Ue,{children:e.jsx($e,{feature:"chat",children:e.jsx(In,{})})})},{path:"/consult",element:e.jsx($e,{feature:"booking",children:e.jsx(An,{})})},{path:"/book-session/:consultantId?",element:e.jsx(Ue,{children:e.jsx($e,{feature:"booking",children:e.jsx(Mn,{})})})},{path:"/admin",element:e.jsx(Ue,{requireAdmin:!0,children:e.jsx(Rn,{})})},{path:"*",element:e.jsx(Yo,{})}])}),e.jsx(Cs,{position:"top-right",richColors:!0}),e.jsx(Gs,{}),e.jsx(qs,{})]})})})});ca(document.getElementById("root")).render(e.jsx(zn,{}));export{Re as A,jt as B,kt as C,Zo as D,rn as E,sn as F,ur as G,mr as H,se as I,pr as J,At as K,gn as L,ga as M,st as N,Mt as O,xa as P,ot as Q,De as R,va as S,Rt as T,Hs as U,Os as V,et as X,St as a,fn as b,Qo as c,H as d,E as e,Q as f,nr as g,Ct as h,Et as i,Tt as j,It as k,G as l,lo as m,ma as n,Ms as o,io as p,$t as q,Go as r,Y as s,_s as t,Ne as u,ha as v,Xo as w,lr as x,Qe as y,qt as z};
